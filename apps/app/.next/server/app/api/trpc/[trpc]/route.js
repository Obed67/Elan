"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/trpc/[trpc]/route";
exports.ids = ["app/api/trpc/[trpc]/route"];
exports.modules = {

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "@aws-sdk/s3-presigned-post":
/*!*********************************************!*\
  !*** external "@aws-sdk/s3-presigned-post" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/s3-presigned-post");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "@prisma/client/runtime/library":
/*!*************************************************!*\
  !*** external "@prisma/client/runtime/library" ***!
  \*************************************************/
/***/ ((module) => {

module.exports = require("@prisma/client/runtime/library");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:os");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:tty":
/*!***************************!*\
  !*** external "node:tty" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:tty");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_mac_Documents_Elan_apps_app_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/trpc/[trpc]/route.ts */ \"(rsc)/./src/app/api/trpc/[trpc]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/trpc/[trpc]/route\",\n        pathname: \"/api/trpc/[trpc]\",\n        filename: \"route\",\n        bundlePath: \"app/api/trpc/[trpc]/route\"\n    },\n    resolvedPagePath: \"/Users/mac/Documents/Elan/apps/app/src/app/api/trpc/[trpc]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_mac_Documents_Elan_apps_app_src_app_api_trpc_trpc_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/trpc/[trpc]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGdHJwYyUyRiU1QnRycGMlNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRycGMlMkYlNUJ0cnBjJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdHJwYyUyRiU1QnRycGMlNUQlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZtYWMlMkZEb2N1bWVudHMlMkZFbGFuJTJGYXBwcyUyRmFwcCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYWMlMkZEb2N1bWVudHMlMkZFbGFuJTJGYXBwcyUyRmFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ21CO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLz9kNDEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9tYWMvRG9jdW1lbnRzL0VsYW4vYXBwcy9hcHAvc3JjL2FwcC9hcGkvdHJwYy9bdHJwY10vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90cnBjL1t0cnBjXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3RycGMvW3RycGNdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9tYWMvRG9jdW1lbnRzL0VsYW4vYXBwcy9hcHAvc3JjL2FwcC9hcGkvdHJwYy9bdHJwY10vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3RycGMvW3RycGNdL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/api/_app.ts":
/*!*************************!*\
  !*** ./src/api/_app.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouter: () => (/* binding */ appRouter)\n/* harmony export */ });\n/* harmony import */ var _lib_server_trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/server/trpc */ \"(rsc)/./src/lib/server/trpc.ts\");\n/* harmony import */ var _auth_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth/_router */ \"(rsc)/./src/api/auth/_router.ts\");\n/* harmony import */ var _me_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./me/_router */ \"(rsc)/./src/api/me/_router.ts\");\n/* harmony import */ var _upload_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./upload/_router */ \"(rsc)/./src/api/upload/_router.ts\");\n\n\n\n\nconst appRouter = (0,_lib_server_trpc__WEBPACK_IMPORTED_MODULE_0__.router)({\n    auth: _auth_router__WEBPACK_IMPORTED_MODULE_1__.authRouter,\n    me: _me_router__WEBPACK_IMPORTED_MODULE_2__.meRouter,\n    upload: _upload_router__WEBPACK_IMPORTED_MODULE_3__.uploadRouter\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL19hcHAudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkM7QUFFQTtBQUNKO0FBQ1E7QUFFeEMsTUFBTUksWUFBWUosd0RBQU1BLENBQUM7SUFDOUJLLE1BQU1KLG9EQUFVQTtJQUNoQkssSUFBSUosZ0RBQVFBO0lBQ1pLLFFBQVFKLHdEQUFZQTtBQUN0QixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS9fYXBwLnRzP2M3ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcm91dGVyIH0gZnJvbSBcIi4uL2xpYi9zZXJ2ZXIvdHJwY1wiXG5cbmltcG9ydCB7IGF1dGhSb3V0ZXIgfSBmcm9tIFwiLi9hdXRoL19yb3V0ZXJcIlxuaW1wb3J0IHsgbWVSb3V0ZXIgfSBmcm9tIFwiLi9tZS9fcm91dGVyXCJcbmltcG9ydCB7IHVwbG9hZFJvdXRlciB9IGZyb20gXCIuL3VwbG9hZC9fcm91dGVyXCJcblxuZXhwb3J0IGNvbnN0IGFwcFJvdXRlciA9IHJvdXRlcih7XG4gIGF1dGg6IGF1dGhSb3V0ZXIsXG4gIG1lOiBtZVJvdXRlcixcbiAgdXBsb2FkOiB1cGxvYWRSb3V0ZXIsXG59KVxuXG5leHBvcnQgdHlwZSBBcHBSb3V0ZXIgPSB0eXBlb2YgYXBwUm91dGVyXG4iXSwibmFtZXMiOlsicm91dGVyIiwiYXV0aFJvdXRlciIsIm1lUm91dGVyIiwidXBsb2FkUm91dGVyIiwiYXBwUm91dGVyIiwiYXV0aCIsIm1lIiwidXBsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/_app.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/auth/_router.ts":
/*!*********************************!*\
  !*** ./src/api/auth/_router.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authRouter: () => (/* binding */ authRouter)\n/* harmony export */ });\n/* harmony import */ var _api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/api/auth/schemas */ \"(rsc)/./src/api/auth/schemas.ts\");\n/* harmony import */ var _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/server/trpc */ \"(rsc)/./src/lib/server/trpc.ts\");\n/* harmony import */ var _me_schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../me/schemas */ \"(rsc)/./src/api/me/schemas.ts\");\n/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mutations */ \"(rsc)/./src/api/auth/mutations.ts\");\n\n\n\n\nconst authRouter = (0,_lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.router)({\n    register: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.signUpSchema)()).output((0,_me_schemas__WEBPACK_IMPORTED_MODULE_2__.signUpResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_3__.register),\n    generateTotpSecret: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedProcedure.output((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.generateTotpSecretResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_3__.generateTotpSecret),\n    verifyTotp: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedProcedure.input((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.verifyTotpSchema)()).output((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.verifyTotpResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_3__.verifyTotp),\n    desactivateTotp: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedProcedure.input((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.desactivateTotpSchema)()).output((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.desactivateTotpResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_3__.desactivateTotp),\n    recover2FA: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.recover2FASchema)()).output((0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_0__.recover2FAResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_3__.recover2FA)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL2F1dGgvX3JvdXRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQVMyQjtBQUN3RDtBQUUvQjtBQUUrQztBQUU1RixNQUFNaUIsYUFBYVAsd0RBQU1BLENBQUM7SUFDL0JLLFVBQVVOLDZEQUFlQSxDQUFDUyxLQUFLLENBQUNiLCtEQUFZQSxJQUFJYyxNQUFNLENBQUNSLGlFQUFvQkEsSUFBSVMsUUFBUSxDQUFDTCxnREFBUUE7SUFDaEdGLG9CQUFvQkwsb0VBQXNCQSxDQUFDVyxNQUFNLENBQUNqQixtRkFBZ0NBLElBQUlrQixRQUFRLENBQUNQLDBEQUFrQkE7SUFDakhHLFlBQVlSLG9FQUFzQkEsQ0FBQ1UsS0FBSyxDQUFDWCxtRUFBZ0JBLElBQUlZLE1BQU0sQ0FBQ2IsMkVBQXdCQSxJQUFJYyxRQUFRLENBQUNKLGtEQUFVQTtJQUNuSEosaUJBQWlCSixvRUFBc0JBLENBQ3BDVSxLQUFLLENBQUNqQix3RUFBcUJBLElBQzNCa0IsTUFBTSxDQUFDbkIsZ0ZBQTZCQSxJQUNwQ29CLFFBQVEsQ0FBQ1IsdURBQWVBO0lBQzNCRSxZQUFZTCw2REFBZUEsQ0FBQ1MsS0FBSyxDQUFDZCxtRUFBZ0JBLElBQUllLE1BQU0sQ0FBQ2hCLDJFQUF3QkEsSUFBSWlCLFFBQVEsQ0FBQ04sa0RBQVVBO0FBQzlHLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvYXBpL2F1dGgvX3JvdXRlci50cz9iNDU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRlc2FjdGl2YXRlVG90cFJlc3BvbnNlU2NoZW1hLFxuICBkZXNhY3RpdmF0ZVRvdHBTY2hlbWEsXG4gIGdlbmVyYXRlVG90cFNlY3JldFJlc3BvbnNlU2NoZW1hLFxuICByZWNvdmVyMkZBUmVzcG9uc2VTY2hlbWEsXG4gIHJlY292ZXIyRkFTY2hlbWEsXG4gIHNpZ25VcFNjaGVtYSxcbiAgdmVyaWZ5VG90cFJlc3BvbnNlU2NoZW1hLFxuICB2ZXJpZnlUb3RwU2NoZW1hLFxufSBmcm9tIFwiQC9hcGkvYXV0aC9zY2hlbWFzXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZWRQcm9jZWR1cmUsIHB1YmxpY1Byb2NlZHVyZSwgcm91dGVyIH0gZnJvbSBcIkAvbGliL3NlcnZlci90cnBjXCJcblxuaW1wb3J0IHsgc2lnblVwUmVzcG9uc2VTY2hlbWEgfSBmcm9tIFwiLi4vbWUvc2NoZW1hc1wiXG5cbmltcG9ydCB7IGRlc2FjdGl2YXRlVG90cCwgZ2VuZXJhdGVUb3RwU2VjcmV0LCByZWNvdmVyMkZBLCByZWdpc3RlciwgdmVyaWZ5VG90cCB9IGZyb20gXCIuL211dGF0aW9uc1wiXG5cbmV4cG9ydCBjb25zdCBhdXRoUm91dGVyID0gcm91dGVyKHtcbiAgcmVnaXN0ZXI6IHB1YmxpY1Byb2NlZHVyZS5pbnB1dChzaWduVXBTY2hlbWEoKSkub3V0cHV0KHNpZ25VcFJlc3BvbnNlU2NoZW1hKCkpLm11dGF0aW9uKHJlZ2lzdGVyKSxcbiAgZ2VuZXJhdGVUb3RwU2VjcmV0OiBhdXRoZW50aWNhdGVkUHJvY2VkdXJlLm91dHB1dChnZW5lcmF0ZVRvdHBTZWNyZXRSZXNwb25zZVNjaGVtYSgpKS5tdXRhdGlvbihnZW5lcmF0ZVRvdHBTZWNyZXQpLFxuICB2ZXJpZnlUb3RwOiBhdXRoZW50aWNhdGVkUHJvY2VkdXJlLmlucHV0KHZlcmlmeVRvdHBTY2hlbWEoKSkub3V0cHV0KHZlcmlmeVRvdHBSZXNwb25zZVNjaGVtYSgpKS5tdXRhdGlvbih2ZXJpZnlUb3RwKSxcbiAgZGVzYWN0aXZhdGVUb3RwOiBhdXRoZW50aWNhdGVkUHJvY2VkdXJlXG4gICAgLmlucHV0KGRlc2FjdGl2YXRlVG90cFNjaGVtYSgpKVxuICAgIC5vdXRwdXQoZGVzYWN0aXZhdGVUb3RwUmVzcG9uc2VTY2hlbWEoKSlcbiAgICAubXV0YXRpb24oZGVzYWN0aXZhdGVUb3RwKSxcbiAgcmVjb3ZlcjJGQTogcHVibGljUHJvY2VkdXJlLmlucHV0KHJlY292ZXIyRkFTY2hlbWEoKSkub3V0cHV0KHJlY292ZXIyRkFSZXNwb25zZVNjaGVtYSgpKS5tdXRhdGlvbihyZWNvdmVyMkZBKSxcbn0pXG4iXSwibmFtZXMiOlsiZGVzYWN0aXZhdGVUb3RwUmVzcG9uc2VTY2hlbWEiLCJkZXNhY3RpdmF0ZVRvdHBTY2hlbWEiLCJnZW5lcmF0ZVRvdHBTZWNyZXRSZXNwb25zZVNjaGVtYSIsInJlY292ZXIyRkFSZXNwb25zZVNjaGVtYSIsInJlY292ZXIyRkFTY2hlbWEiLCJzaWduVXBTY2hlbWEiLCJ2ZXJpZnlUb3RwUmVzcG9uc2VTY2hlbWEiLCJ2ZXJpZnlUb3RwU2NoZW1hIiwiYXV0aGVudGljYXRlZFByb2NlZHVyZSIsInB1YmxpY1Byb2NlZHVyZSIsInJvdXRlciIsInNpZ25VcFJlc3BvbnNlU2NoZW1hIiwiZGVzYWN0aXZhdGVUb3RwIiwiZ2VuZXJhdGVUb3RwU2VjcmV0IiwicmVjb3ZlcjJGQSIsInJlZ2lzdGVyIiwidmVyaWZ5VG90cCIsImF1dGhSb3V0ZXIiLCJpbnB1dCIsIm91dHB1dCIsIm11dGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/auth/_router.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/auth/mutations.ts":
/*!***********************************!*\
  !*** ./src/api/auth/mutations.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   desactivateTotp: () => (/* binding */ desactivateTotp),\n/* harmony export */   generateTotpSecret: () => (/* binding */ generateTotpSecret),\n/* harmony export */   recover2FA: () => (/* binding */ recover2FA),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   verifyTotp: () => (/* binding */ verifyTotp)\n/* harmony export */ });\n/* harmony import */ var bip39__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bip39 */ \"(rsc)/../../node_modules/bip39/src/index.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var otpauth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! otpauth */ \"(rsc)/../../node_modules/otpauth/dist/otpauth.node.mjs\");\n/* harmony import */ var _api_auth_schemas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/auth/schemas */ \"(rsc)/./src/api/auth/schemas.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _constants_medias__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/constants/medias */ \"(rsc)/./src/constants/medias.ts\");\n/* harmony import */ var _lib_bcrypt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/bcrypt */ \"(rsc)/./src/lib/bcrypt.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_langs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/langs */ \"(rsc)/./src/lib/langs.ts\");\n/* harmony import */ var _lib_mailer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/mailer */ \"(rsc)/./src/lib/mailer.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _elan_transactional_emails_verify_email__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @elan/transactional/emails/verify-email */ \"(rsc)/../../packages/transactional/emails/verify-email.tsx\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _react_email_render__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @react-email/render */ \"(rsc)/../../node_modules/@react-email/render/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst register = async ({ input })=>{\n    const { email, password, username } = input;\n    try {\n        if (_lib_env__WEBPACK_IMPORTED_MODULE_7__.env.DISABLE_REGISTRATION === true) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"registrationDisabled\");\n        }\n        const hashedPassword = await (0,_lib_bcrypt__WEBPACK_IMPORTED_MODULE_6__.hash)(password, 12);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.create({\n            data: {\n                email: email.toLowerCase(),\n                username,\n                password: hashedPassword,\n                lastLocale: input.locale\n            },\n            include: {\n                profilePicture: true\n            }\n        });\n        await _lib_redis__WEBPACK_IMPORTED_MODULE_11__.redis.setex(`lastLocale:${user.id}`, _constants__WEBPACK_IMPORTED_MODULE_4__.lastLocaleExpirationInSeconds, input.locale);\n        //* Send verification email\n        if (_lib_env__WEBPACK_IMPORTED_MODULE_7__.env.NEXT_PUBLIC_ENABLE_MAILING_SERVICE === true) {\n            const token = (0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)();\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.userEmailVerificationToken.create({\n                data: {\n                    identifier: user.id,\n                    token: token,\n                    expires: new Date(Date.now() + _constants__WEBPACK_IMPORTED_MODULE_4__.emailVerificationExpiration)\n                }\n            });\n            const verificationLink = `${_lib_env__WEBPACK_IMPORTED_MODULE_7__.env.VERCEL_URL ?? _lib_env__WEBPACK_IMPORTED_MODULE_7__.env.NEXT_PUBLIC_BASE_URL}/verify-email/${token}`;\n            const locale = input.locale;\n            const dictionary = await (0,_lib_langs__WEBPACK_IMPORTED_MODULE_8__._getDictionary)(\"transactionals\", locale, {\n                hey: true,\n                verifyEmail: true,\n                footer: true,\n                thanksForSigninUpCompleteRegistration: true,\n                verifyYourEmailAddress: true,\n                verifyYourEmailAddressToCompleteYourRegistration: true\n            });\n            const element = (0,_elan_transactional_emails_verify_email__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n                verificationLink,\n                actionText: dictionary.verifyEmail,\n                contentTitle: dictionary.thanksForSigninUpCompleteRegistration,\n                footerText: dictionary.footer,\n                heyText: dictionary.hey,\n                logoUrl: _constants_medias__WEBPACK_IMPORTED_MODULE_5__.logoUrl,\n                name: user.name ?? \"\",\n                previewText: dictionary.verifyYourEmailAddressToCompleteYourRegistration,\n                supportEmail: _lib_env__WEBPACK_IMPORTED_MODULE_7__.env.SUPPORT_EMAIL ?? \"\",\n                titleText: dictionary.verifyYourEmailAddress\n            });\n            const text = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_16__.render)(element, {\n                plainText: true\n            });\n            const html = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_16__.render)(element);\n            await (0,_lib_mailer__WEBPACK_IMPORTED_MODULE_9__.sendMail)({\n                to: email.toLowerCase(),\n                subject: dictionary.verifyYourEmailAddress,\n                text,\n                html\n            });\n        } else {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_13__.logger.debug(\"Email verification disabled, skipping email sending on registration\");\n        }\n        const data = {\n            user\n        };\n        return data;\n    } catch (error) {\n        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_15__.Prisma.PrismaClientKnownRequestError) {\n            if (error.code === \"P2002\") {\n                const meta = error.meta;\n                if (!meta) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"accountAlreadyExists\");\n                if (meta.target.includes(\"email\")) {\n                    return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"email.exist\");\n                } else if (meta.target.includes(\"username\")) {\n                    return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"username.exist\");\n                }\n            }\n        }\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.handleApiError)(error);\n    }\n};\nconst generateTotpSecret = async ({ ctx: { session } })=>{\n    (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ensureLoggedIn)(session);\n    try {\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.findFirst({\n            where: {\n                email: session.user.email\n            }\n        });\n        if (!user) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"userNotFound\");\n        if (_lib_env__WEBPACK_IMPORTED_MODULE_7__.env.NEXT_PUBLIC_IS_DEMO && user.role === _constants__WEBPACK_IMPORTED_MODULE_4__.rolesAsObject.admin) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"demoAdminCannotHaveOtpSecret\");\n        if (user.otpSecret && user.otpVerified) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"otpSecretAlreadyExists\");\n        const secret = (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomSecret)();\n        let mnemonic = bip39__WEBPACK_IMPORTED_MODULE_0__.generateMnemonic();\n        let it = 0;\n        //? Check if mnemonic doesnt contain two words that are the same\n        while(mnemonic.split(\" \").length !== new Set(mnemonic.split(\" \")).size){\n            mnemonic = bip39__WEBPACK_IMPORTED_MODULE_0__.generateMnemonic();\n            it++;\n            if (it > 100) throw new Error(\"Could not generate a valid mnemonic\");\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.update({\n            where: {\n                id: session.user.id\n            },\n            data: {\n                otpSecret: secret,\n                otpMnemonic: mnemonic\n            }\n        });\n        if (!user.email) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"unknownError\");\n        const totp = new otpauth__WEBPACK_IMPORTED_MODULE_2__.TOTP({\n            issuer: \"elan\",\n            label: user.email,\n            algorithm: \"SHA1\",\n            digits: 6,\n            period: 30,\n            secret\n        });\n        const response = {\n            success: true,\n            url: totp.toString(),\n            mnemonic\n        };\n        return response;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.handleApiError)(error);\n    }\n};\nconst verifyTotp = async ({ input, ctx: { session } })=>{\n    (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ensureLoggedIn)(session);\n    try {\n        const { token } = (0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.verifyTotpSchema)().parse(input);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.findFirst({\n            where: {\n                email: session.user.email\n            }\n        });\n        if (!user) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"userNotFound\");\n        if (!user.otpSecret) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"otpSecretNotFound\");\n        const totp = new otpauth__WEBPACK_IMPORTED_MODULE_2__.TOTP({\n            algorithm: \"SHA1\",\n            digits: 6,\n            period: 30,\n            secret: user.otpSecret\n        });\n        const isValid = totp.validate({\n            token,\n            window: _constants__WEBPACK_IMPORTED_MODULE_4__.otpWindow\n        }) !== null;\n        if (user.otpVerified === false && isValid) {\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.update({\n                where: {\n                    id: session.user.id\n                },\n                data: {\n                    otpVerified: true\n                }\n            });\n        }\n        if (!isValid) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"otpInvalid\");\n        return {\n            success: true\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.handleApiError)(error);\n    }\n};\nconst desactivateTotp = async ({ ctx: { session }, input })=>{\n    (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ensureLoggedIn)(session);\n    try {\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.findFirst({\n            where: {\n                email: session.user.email\n            }\n        });\n        if (!user) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"userNotFound\");\n        if (!user.otpSecret) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"otpSecretNotFound\");\n        const totp = new otpauth__WEBPACK_IMPORTED_MODULE_2__.TOTP({\n            algorithm: \"SHA1\",\n            digits: 6,\n            period: 30,\n            secret: user.otpSecret\n        });\n        const isValid = totp.validate({\n            token: input.token,\n            window: _constants__WEBPACK_IMPORTED_MODULE_4__.otpWindow\n        }) !== null;\n        if (!isValid) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"otpInvalid\");\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.update({\n            where: {\n                id: session.user.id\n            },\n            data: {\n                otpSecret: \"\",\n                otpMnemonic: \"\",\n                otpVerified: false\n            }\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.handleApiError)(error);\n    }\n};\nconst recover2FA = async ({ input })=>{\n    try {\n        const { email, mnemonic } = (0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.recover2FASchema)().parse(input);\n        const tries = await _lib_redis__WEBPACK_IMPORTED_MODULE_11__.redis.get(`recover2FA:${email.toLowerCase()}`);\n        if (tries && Number(tries) > 5) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"tooManyAttempts\");\n        await _lib_redis__WEBPACK_IMPORTED_MODULE_11__.redis.setex(`recover2FA:${email.toLowerCase()}`, 60 * 60, Number(tries) + 1) //? 1 hour\n        ;\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.findFirst({\n            where: {\n                email: email.toLowerCase()\n            }\n        });\n        if (!user) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"invalidCredentials\");\n        if (!user.otpSecret) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"invalidCredentials\");\n        const isValid = mnemonic === user.otpMnemonic;\n        if (!isValid) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.ApiError)(\"invalidCredentials\");\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_10__.prisma.user.update({\n            where: {\n                id: user.id\n            },\n            data: {\n                otpSecret: \"\",\n                otpMnemonic: \"\",\n                otpVerified: false\n            }\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_12__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0QsU0FBUyxDQUFDO1lBQ3ZDQyxPQUFPO2dCQUNMMUQsT0FBT0EsTUFBTVEsV0FBVztZQUMxQjtRQUNGO1FBQ0EsSUFBSSxDQUFDSCxNQUFNLE9BQU9mLGtFQUFRQSxDQUFDO1FBQzNCLElBQUksQ0FBQ2UsS0FBS3lELFNBQVMsRUFBRSxPQUFPeEUsa0VBQVFBLENBQUM7UUFDckMsTUFBTWtHLFVBQVV2QixhQUFhNUQsS0FBS3FFLFdBQVc7UUFDN0MsSUFBSSxDQUFDYyxTQUFTLE9BQU9sRyxrRUFBUUEsQ0FBQztRQUM5QixNQUFNRixnREFBTUEsQ0FBQ2lCLElBQUksQ0FBQ29FLE1BQU0sQ0FBQztZQUN2QmYsT0FBTztnQkFDTDVDLElBQUlULEtBQUtTLEVBQUU7WUFDYjtZQUNBUCxNQUFNO2dCQUNKdUQsV0FBVztnQkFDWFksYUFBYTtnQkFDYlgsYUFBYTtZQUNmO1FBQ0Y7UUFDQSxPQUFPO1lBQUVvQixTQUFTO1FBQUs7SUFDekIsRUFBRSxPQUFPbkMsT0FBZ0I7UUFDdkIsT0FBT3ZELHdFQUFjQSxDQUFDdUQ7SUFDeEI7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS9hdXRoL211dGF0aW9ucy50cz80NDQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGJpcDM5IGZyb20gXCJiaXAzOVwiXG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiXG5pbXBvcnQgKiBhcyBPVFBBdXRoIGZyb20gXCJvdHBhdXRoXCJcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuaW1wb3J0IHtcbiAgZGVzYWN0aXZhdGVUb3RwU2NoZW1hLFxuICBnZW5lcmF0ZVRvdHBTZWNyZXRSZXNwb25zZVNjaGVtYSxcbiAgcmVjb3ZlcjJGQVNjaGVtYSxcbiAgc2lnblVwU2NoZW1hLFxuICB2ZXJpZnlUb3RwU2NoZW1hLFxufSBmcm9tIFwiQC9hcGkvYXV0aC9zY2hlbWFzXCJcbmltcG9ydCB7IGVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiwgbGFzdExvY2FsZUV4cGlyYXRpb25JblNlY29uZHMsIG90cFdpbmRvdywgcm9sZXNBc09iamVjdCB9IGZyb20gXCJAL2NvbnN0YW50c1wiXG5pbXBvcnQgeyBsb2dvVXJsIH0gZnJvbSBcIkAvY29uc3RhbnRzL21lZGlhc1wiXG5pbXBvcnQgeyBoYXNoIH0gZnJvbSBcIkAvbGliL2JjcnlwdFwiXG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52XCJcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gXCJAL2xpYi9pMThuLWNvbmZpZ1wiXG5pbXBvcnQgeyBfZ2V0RGljdGlvbmFyeSB9IGZyb20gXCJAL2xpYi9sYW5nc1wiXG5pbXBvcnQgeyBzZW5kTWFpbCB9IGZyb20gXCJAL2xpYi9tYWlsZXJcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiXG5pbXBvcnQgeyByZWRpcyB9IGZyb20gXCJAL2xpYi9yZWRpc1wiXG5pbXBvcnQgeyBBcGlFcnJvciwgZW5zdXJlTG9nZ2VkSW4sIGdlbmVyYXRlUmFuZG9tU2VjcmV0LCBoYW5kbGVBcGlFcnJvciB9IGZyb20gXCJAL2xpYi91dGlscy9zZXJ2ZXItdXRpbHNcIlxuaW1wb3J0IHsgYXBpSW5wdXRGcm9tU2NoZW1hIH0gZnJvbSBcIkAvdHlwZXNcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5pbXBvcnQgVmVyaWZ5RW1haWwgZnJvbSBcIkBlbGFuL3RyYW5zYWN0aW9uYWwvZW1haWxzL3ZlcmlmeS1lbWFpbFwiXG5pbXBvcnQgeyBQcmlzbWEgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIkByZWFjdC1lbWFpbC9yZW5kZXJcIlxuXG5pbXBvcnQgeyBzaWduVXBSZXNwb25zZVNjaGVtYSB9IGZyb20gXCIuLi9tZS9zY2hlbWFzXCJcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKHsgaW5wdXQgfTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiBzaWduVXBTY2hlbWE+KSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCB1c2VybmFtZSB9ID0gaW5wdXRcbiAgdHJ5IHtcbiAgICBpZiAoZW52LkRJU0FCTEVfUkVHSVNUUkFUSU9OID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJyZWdpc3RyYXRpb25EaXNhYmxlZFwiKVxuICAgIH1cbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2gocGFzc3dvcmQsIDEyKVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICBsYXN0TG9jYWxlOiBpbnB1dC5sb2NhbGUsXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBwcm9maWxlUGljdHVyZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBhd2FpdCByZWRpcy5zZXRleChgbGFzdExvY2FsZToke3VzZXIuaWR9YCwgbGFzdExvY2FsZUV4cGlyYXRpb25JblNlY29uZHMsIGlucHV0LmxvY2FsZSlcblxuICAgIC8vKiBTZW5kIHZlcmlmaWNhdGlvbiBlbWFpbFxuICAgIGlmIChlbnYuTkVYVF9QVUJMSUNfRU5BQkxFX01BSUxJTkdfU0VSVklDRSA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgdG9rZW4gPSByYW5kb21VVUlEKClcbiAgICAgIGF3YWl0IHByaXNtYS51c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbi5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWRlbnRpZmllcjogdXNlci5pZCxcbiAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgICAgZXhwaXJlczogbmV3IERhdGUoRGF0ZS5ub3coKSArIGVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uTGluayA9IGAke2Vudi5WRVJDRUxfVVJMID8/IGVudi5ORVhUX1BVQkxJQ19CQVNFX1VSTH0vdmVyaWZ5LWVtYWlsLyR7dG9rZW59YFxuICAgICAgY29uc3QgbG9jYWxlID0gaW5wdXQubG9jYWxlIGFzIExvY2FsZVxuICAgICAgY29uc3QgZGljdGlvbmFyeSA9IGF3YWl0IF9nZXREaWN0aW9uYXJ5KFwidHJhbnNhY3Rpb25hbHNcIiwgbG9jYWxlLCB7XG4gICAgICAgIGhleTogdHJ1ZSxcbiAgICAgICAgdmVyaWZ5RW1haWw6IHRydWUsXG4gICAgICAgIGZvb3RlcjogdHJ1ZSxcbiAgICAgICAgdGhhbmtzRm9yU2lnbmluVXBDb21wbGV0ZVJlZ2lzdHJhdGlvbjogdHJ1ZSxcbiAgICAgICAgdmVyaWZ5WW91ckVtYWlsQWRkcmVzczogdHJ1ZSxcbiAgICAgICAgdmVyaWZ5WW91ckVtYWlsQWRkcmVzc1RvQ29tcGxldGVZb3VyUmVnaXN0cmF0aW9uOiB0cnVlLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBWZXJpZnlFbWFpbCh7XG4gICAgICAgIHZlcmlmaWNhdGlvbkxpbmssXG4gICAgICAgIGFjdGlvblRleHQ6IGRpY3Rpb25hcnkudmVyaWZ5RW1haWwsXG4gICAgICAgIGNvbnRlbnRUaXRsZTogZGljdGlvbmFyeS50aGFua3NGb3JTaWduaW5VcENvbXBsZXRlUmVnaXN0cmF0aW9uLFxuICAgICAgICBmb290ZXJUZXh0OiBkaWN0aW9uYXJ5LmZvb3RlcixcbiAgICAgICAgaGV5VGV4dDogZGljdGlvbmFyeS5oZXksXG4gICAgICAgIGxvZ29VcmwsXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSA/PyBcIlwiLFxuICAgICAgICBwcmV2aWV3VGV4dDogZGljdGlvbmFyeS52ZXJpZnlZb3VyRW1haWxBZGRyZXNzVG9Db21wbGV0ZVlvdXJSZWdpc3RyYXRpb24sXG4gICAgICAgIHN1cHBvcnRFbWFpbDogZW52LlNVUFBPUlRfRU1BSUwgPz8gXCJcIixcbiAgICAgICAgdGl0bGVUZXh0OiBkaWN0aW9uYXJ5LnZlcmlmeVlvdXJFbWFpbEFkZHJlc3MsXG4gICAgICB9KVxuICAgICAgY29uc3QgdGV4dCA9IHJlbmRlcihlbGVtZW50LCB7XG4gICAgICAgIHBsYWluVGV4dDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICBjb25zdCBodG1sID0gcmVuZGVyKGVsZW1lbnQpXG5cbiAgICAgIGF3YWl0IHNlbmRNYWlsKHtcbiAgICAgICAgdG86IGVtYWlsLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHN1YmplY3Q6IGRpY3Rpb25hcnkudmVyaWZ5WW91ckVtYWlsQWRkcmVzcyxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgaHRtbCxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhcIkVtYWlsIHZlcmlmaWNhdGlvbiBkaXNhYmxlZCwgc2tpcHBpbmcgZW1haWwgc2VuZGluZyBvbiByZWdpc3RyYXRpb25cIilcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhOiB6LmluZmVyPFJldHVyblR5cGU8dHlwZW9mIHNpZ25VcFJlc3BvbnNlU2NoZW1hPj4gPSB7IHVzZXIgfVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUHJpc21hLlByaXNtYUNsaWVudEtub3duUmVxdWVzdEVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJQMjAwMlwiKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBlcnJvci5tZXRhXG4gICAgICAgIGlmICghbWV0YSkgcmV0dXJuIEFwaUVycm9yKFwiYWNjb3VudEFscmVhZHlFeGlzdHNcIilcbiAgICAgICAgaWYgKChtZXRhLnRhcmdldCBhcyBBcnJheTxzdHJpbmc+KS5pbmNsdWRlcyhcImVtYWlsXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIEFwaUVycm9yKFwiZW1haWwuZXhpc3RcIilcbiAgICAgICAgfSBlbHNlIGlmICgobWV0YS50YXJnZXQgYXMgQXJyYXk8c3RyaW5nPikuaW5jbHVkZXMoXCJ1c2VybmFtZVwiKSkge1xuICAgICAgICAgIHJldHVybiBBcGlFcnJvcihcInVzZXJuYW1lLmV4aXN0XCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZUFwaUVycm9yKGVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRvdHBTZWNyZXQgPSBhc3luYyAoeyBjdHg6IHsgc2Vzc2lvbiB9IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgdW5kZWZpbmVkPikgPT4ge1xuICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgZW1haWw6IHNlc3Npb24udXNlci5lbWFpbCxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBpZiAoIXVzZXIpIHJldHVybiBBcGlFcnJvcihcInVzZXJOb3RGb3VuZFwiKVxuICAgIGlmIChlbnYuTkVYVF9QVUJMSUNfSVNfREVNTyAmJiB1c2VyLnJvbGUgPT09IHJvbGVzQXNPYmplY3QuYWRtaW4pIHJldHVybiBBcGlFcnJvcihcImRlbW9BZG1pbkNhbm5vdEhhdmVPdHBTZWNyZXRcIilcbiAgICBpZiAodXNlci5vdHBTZWNyZXQgJiYgdXNlci5vdHBWZXJpZmllZCkgcmV0dXJuIEFwaUVycm9yKFwib3RwU2VjcmV0QWxyZWFkeUV4aXN0c1wiKVxuICAgIGNvbnN0IHNlY3JldCA9IGdlbmVyYXRlUmFuZG9tU2VjcmV0KClcbiAgICBsZXQgbW5lbW9uaWMgPSBiaXAzOS5nZW5lcmF0ZU1uZW1vbmljKClcbiAgICBsZXQgaXQgPSAwXG4gICAgLy8/IENoZWNrIGlmIG1uZW1vbmljIGRvZXNudCBjb250YWluIHR3byB3b3JkcyB0aGF0IGFyZSB0aGUgc2FtZVxuICAgIHdoaWxlIChtbmVtb25pYy5zcGxpdChcIiBcIikubGVuZ3RoICE9PSBuZXcgU2V0KG1uZW1vbmljLnNwbGl0KFwiIFwiKSkuc2l6ZSkge1xuICAgICAgbW5lbW9uaWMgPSBiaXAzOS5nZW5lcmF0ZU1uZW1vbmljKClcbiAgICAgIGl0KytcbiAgICAgIGlmIChpdCA+IDEwMCkgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGdlbmVyYXRlIGEgdmFsaWQgbW5lbW9uaWNcIilcbiAgICB9XG4gICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBvdHBTZWNyZXQ6IHNlY3JldCxcbiAgICAgICAgb3RwTW5lbW9uaWM6IG1uZW1vbmljLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICghdXNlci5lbWFpbCkgcmV0dXJuIEFwaUVycm9yKFwidW5rbm93bkVycm9yXCIpXG4gICAgY29uc3QgdG90cCA9IG5ldyBPVFBBdXRoLlRPVFAoe1xuICAgICAgaXNzdWVyOiBcImVsYW5cIixcbiAgICAgIGxhYmVsOiB1c2VyLmVtYWlsLFxuICAgICAgYWxnb3JpdGhtOiBcIlNIQTFcIixcbiAgICAgIGRpZ2l0czogNixcbiAgICAgIHBlcmlvZDogMzAsXG4gICAgICBzZWNyZXQsXG4gICAgfSlcbiAgICBjb25zdCByZXNwb25zZTogei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBnZW5lcmF0ZVRvdHBTZWNyZXRSZXNwb25zZVNjaGVtYT4+ID0ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHVybDogdG90cC50b1N0cmluZygpLFxuICAgICAgbW5lbW9uaWMsXG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZVxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdmVyaWZ5VG90cCA9IGFzeW5jICh7IGlucHV0LCBjdHg6IHsgc2Vzc2lvbiB9IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgdmVyaWZ5VG90cFNjaGVtYT4pID0+IHtcbiAgZW5zdXJlTG9nZ2VkSW4oc2Vzc2lvbilcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHRva2VuIH0gPSB2ZXJpZnlUb3RwU2NoZW1hKCkucGFyc2UoaW5wdXQpXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICghdXNlcikgcmV0dXJuIEFwaUVycm9yKFwidXNlck5vdEZvdW5kXCIpXG4gICAgaWYgKCF1c2VyLm90cFNlY3JldCkgcmV0dXJuIEFwaUVycm9yKFwib3RwU2VjcmV0Tm90Rm91bmRcIilcbiAgICBjb25zdCB0b3RwID0gbmV3IE9UUEF1dGguVE9UUCh7XG4gICAgICBhbGdvcml0aG06IFwiU0hBMVwiLFxuICAgICAgZGlnaXRzOiA2LFxuICAgICAgcGVyaW9kOiAzMCxcbiAgICAgIHNlY3JldDogdXNlci5vdHBTZWNyZXQsXG4gICAgfSlcbiAgICBjb25zdCBpc1ZhbGlkID1cbiAgICAgIHRvdHAudmFsaWRhdGUoe1xuICAgICAgICB0b2tlbixcbiAgICAgICAgd2luZG93OiBvdHBXaW5kb3csXG4gICAgICB9KSAhPT0gbnVsbFxuICAgIGlmICh1c2VyLm90cFZlcmlmaWVkID09PSBmYWxzZSAmJiBpc1ZhbGlkKSB7XG4gICAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBvdHBWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIEFwaUVycm9yKFwib3RwSW52YWxpZFwiKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGVzYWN0aXZhdGVUb3RwID0gYXN5bmMgKHtcbiAgY3R4OiB7IHNlc3Npb24gfSxcbiAgaW5wdXQsXG59OiBhcGlJbnB1dEZyb21TY2hlbWE8dHlwZW9mIGRlc2FjdGl2YXRlVG90cFNjaGVtYT4pID0+IHtcbiAgZW5zdXJlTG9nZ2VkSW4oc2Vzc2lvbilcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGVtYWlsOiBzZXNzaW9uLnVzZXIuZW1haWwsXG4gICAgICB9LFxuICAgIH0pXG4gICAgaWYgKCF1c2VyKSByZXR1cm4gQXBpRXJyb3IoXCJ1c2VyTm90Rm91bmRcIilcbiAgICBpZiAoIXVzZXIub3RwU2VjcmV0KSByZXR1cm4gQXBpRXJyb3IoXCJvdHBTZWNyZXROb3RGb3VuZFwiKVxuICAgIGNvbnN0IHRvdHAgPSBuZXcgT1RQQXV0aC5UT1RQKHtcbiAgICAgIGFsZ29yaXRobTogXCJTSEExXCIsXG4gICAgICBkaWdpdHM6IDYsXG4gICAgICBwZXJpb2Q6IDMwLFxuICAgICAgc2VjcmV0OiB1c2VyLm90cFNlY3JldCxcbiAgICB9KVxuICAgIGNvbnN0IGlzVmFsaWQgPVxuICAgICAgdG90cC52YWxpZGF0ZSh7XG4gICAgICAgIHRva2VuOiBpbnB1dC50b2tlbixcbiAgICAgICAgd2luZG93OiBvdHBXaW5kb3csXG4gICAgICB9KSAhPT0gbnVsbFxuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIEFwaUVycm9yKFwib3RwSW52YWxpZFwiKVxuICAgIGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogc2Vzc2lvbi51c2VyLmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb3RwU2VjcmV0OiBcIlwiLFxuICAgICAgICBvdHBNbmVtb25pYzogXCJcIixcbiAgICAgICAgb3RwVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVjb3ZlcjJGQSA9IGFzeW5jICh7IGlucHV0IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgcmVjb3ZlcjJGQVNjaGVtYT4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVtYWlsLCBtbmVtb25pYyB9ID0gcmVjb3ZlcjJGQVNjaGVtYSgpLnBhcnNlKGlucHV0KVxuICAgIGNvbnN0IHRyaWVzID0gYXdhaXQgcmVkaXMuZ2V0KGByZWNvdmVyMkZBOiR7ZW1haWwudG9Mb3dlckNhc2UoKX1gKVxuICAgIGlmICh0cmllcyAmJiBOdW1iZXIodHJpZXMpID4gNSkgcmV0dXJuIEFwaUVycm9yKFwidG9vTWFueUF0dGVtcHRzXCIpXG4gICAgYXdhaXQgcmVkaXMuc2V0ZXgoYHJlY292ZXIyRkE6JHtlbWFpbC50b0xvd2VyQ2FzZSgpfWAsIDYwICogNjAsIE51bWJlcih0cmllcykgKyAxKSAvLz8gMSBob3VyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBpZiAoIXVzZXIpIHJldHVybiBBcGlFcnJvcihcImludmFsaWRDcmVkZW50aWFsc1wiKVxuICAgIGlmICghdXNlci5vdHBTZWNyZXQpIHJldHVybiBBcGlFcnJvcihcImludmFsaWRDcmVkZW50aWFsc1wiKVxuICAgIGNvbnN0IGlzVmFsaWQgPSBtbmVtb25pYyA9PT0gdXNlci5vdHBNbmVtb25pY1xuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIEFwaUVycm9yKFwiaW52YWxpZENyZWRlbnRpYWxzXCIpXG4gICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb3RwU2VjcmV0OiBcIlwiLFxuICAgICAgICBvdHBNbmVtb25pYzogXCJcIixcbiAgICAgICAgb3RwVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuIl0sIm5hbWVzIjpbImJpcDM5IiwicmFuZG9tVVVJRCIsIk9UUEF1dGgiLCJyZWNvdmVyMkZBU2NoZW1hIiwidmVyaWZ5VG90cFNjaGVtYSIsImVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiIsImxhc3RMb2NhbGVFeHBpcmF0aW9uSW5TZWNvbmRzIiwib3RwV2luZG93Iiwicm9sZXNBc09iamVjdCIsImxvZ29VcmwiLCJoYXNoIiwiZW52IiwiX2dldERpY3Rpb25hcnkiLCJzZW5kTWFpbCIsInByaXNtYSIsInJlZGlzIiwiQXBpRXJyb3IiLCJlbnN1cmVMb2dnZWRJbiIsImdlbmVyYXRlUmFuZG9tU2VjcmV0IiwiaGFuZGxlQXBpRXJyb3IiLCJsb2dnZXIiLCJWZXJpZnlFbWFpbCIsIlByaXNtYSIsInJlbmRlciIsInJlZ2lzdGVyIiwiaW5wdXQiLCJlbWFpbCIsInBhc3N3b3JkIiwidXNlcm5hbWUiLCJESVNBQkxFX1JFR0lTVFJBVElPTiIsImhhc2hlZFBhc3N3b3JkIiwidXNlciIsImNyZWF0ZSIsImRhdGEiLCJ0b0xvd2VyQ2FzZSIsImxhc3RMb2NhbGUiLCJsb2NhbGUiLCJpbmNsdWRlIiwicHJvZmlsZVBpY3R1cmUiLCJzZXRleCIsImlkIiwiTkVYVF9QVUJMSUNfRU5BQkxFX01BSUxJTkdfU0VSVklDRSIsInRva2VuIiwidXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4iLCJpZGVudGlmaWVyIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJ2ZXJpZmljYXRpb25MaW5rIiwiVkVSQ0VMX1VSTCIsIk5FWFRfUFVCTElDX0JBU0VfVVJMIiwiZGljdGlvbmFyeSIsImhleSIsInZlcmlmeUVtYWlsIiwiZm9vdGVyIiwidGhhbmtzRm9yU2lnbmluVXBDb21wbGV0ZVJlZ2lzdHJhdGlvbiIsInZlcmlmeVlvdXJFbWFpbEFkZHJlc3MiLCJ2ZXJpZnlZb3VyRW1haWxBZGRyZXNzVG9Db21wbGV0ZVlvdXJSZWdpc3RyYXRpb24iLCJlbGVtZW50IiwiYWN0aW9uVGV4dCIsImNvbnRlbnRUaXRsZSIsImZvb3RlclRleHQiLCJoZXlUZXh0IiwibmFtZSIsInByZXZpZXdUZXh0Iiwic3VwcG9ydEVtYWlsIiwiU1VQUE9SVF9FTUFJTCIsInRpdGxlVGV4dCIsInRleHQiLCJwbGFpblRleHQiLCJodG1sIiwidG8iLCJzdWJqZWN0IiwiZGVidWciLCJlcnJvciIsIlByaXNtYUNsaWVudEtub3duUmVxdWVzdEVycm9yIiwiY29kZSIsIm1ldGEiLCJ0YXJnZXQiLCJpbmNsdWRlcyIsImdlbmVyYXRlVG90cFNlY3JldCIsImN0eCIsInNlc3Npb24iLCJmaW5kRmlyc3QiLCJ3aGVyZSIsIk5FWFRfUFVCTElDX0lTX0RFTU8iLCJyb2xlIiwiYWRtaW4iLCJvdHBTZWNyZXQiLCJvdHBWZXJpZmllZCIsInNlY3JldCIsIm1uZW1vbmljIiwiZ2VuZXJhdGVNbmVtb25pYyIsIml0Iiwic3BsaXQiLCJsZW5ndGgiLCJTZXQiLCJzaXplIiwiRXJyb3IiLCJ1cGRhdGUiLCJvdHBNbmVtb25pYyIsInRvdHAiLCJUT1RQIiwiaXNzdWVyIiwibGFiZWwiLCJhbGdvcml0aG0iLCJkaWdpdHMiLCJwZXJpb2QiLCJyZXNwb25zZSIsInN1Y2Nlc3MiLCJ1cmwiLCJ0b1N0cmluZyIsInZlcmlmeVRvdHAiLCJwYXJzZSIsImlzVmFsaWQiLCJ2YWxpZGF0ZSIsIndpbmRvdyIsImRlc2FjdGl2YXRlVG90cCIsInJlY292ZXIyRkEiLCJ0cmllcyIsImdldCIsIk51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/api/auth/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/auth/schemas.ts":
/*!*********************************!*\
  !*** ./src/api/auth/schemas.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   desactivateTotpResponseSchema: () => (/* binding */ desactivateTotpResponseSchema),\n/* harmony export */   desactivateTotpSchema: () => (/* binding */ desactivateTotpSchema),\n/* harmony export */   emailSchema: () => (/* binding */ emailSchema),\n/* harmony export */   emailSchemaDr: () => (/* binding */ emailSchemaDr),\n/* harmony export */   generateTotpSecretResponseSchema: () => (/* binding */ generateTotpSecretResponseSchema),\n/* harmony export */   passwordSchema: () => (/* binding */ passwordSchema),\n/* harmony export */   passwordSchemaDr: () => (/* binding */ passwordSchemaDr),\n/* harmony export */   passwordSchemaWithRegex: () => (/* binding */ passwordSchemaWithRegex),\n/* harmony export */   passwordSchemaWithRegexDr: () => (/* binding */ passwordSchemaWithRegexDr),\n/* harmony export */   recover2FAResponseSchema: () => (/* binding */ recover2FAResponseSchema),\n/* harmony export */   recover2FASchema: () => (/* binding */ recover2FASchema),\n/* harmony export */   recover2FASchemaDr: () => (/* binding */ recover2FASchemaDr),\n/* harmony export */   signInSchema: () => (/* binding */ signInSchema),\n/* harmony export */   signInSchemaDr: () => (/* binding */ signInSchemaDr),\n/* harmony export */   signUpSchema: () => (/* binding */ signUpSchema),\n/* harmony export */   signUpSchemaDr: () => (/* binding */ signUpSchemaDr),\n/* harmony export */   usernameSchema: () => (/* binding */ usernameSchema),\n/* harmony export */   usernameSchemaDr: () => (/* binding */ usernameSchemaDr),\n/* harmony export */   verifyTotpResponseSchema: () => (/* binding */ verifyTotpResponseSchema),\n/* harmony export */   verifyTotpSchema: () => (/* binding */ verifyTotpSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _constants_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/constants/auth */ \"(rsc)/./src/constants/auth.ts\");\n/* harmony import */ var _lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/dictionary */ \"(rsc)/./src/lib/utils/dictionary.ts\");\n\n\n\nconst passwordSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        password: {\n            required: true,\n            min8: true,\n            max25: true\n        }\n    }\n});\nconst passwordSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.string({\n        required_error: dictionary && dictionary.errors.password.required\n    }).min(_constants_auth__WEBPACK_IMPORTED_MODULE_0__.minPasswordLength, dictionary && dictionary.errors.password.min8).max(_constants_auth__WEBPACK_IMPORTED_MODULE_0__.maxPasswordLength, dictionary && dictionary.errors.password.max25);\nconst passwordSchemaWithRegexDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        password: {\n            regex: true\n        }\n    }\n}, passwordSchemaDr);\nconst passwordSchemaWithRegex = (dictionary)=>passwordSchema(dictionary).regex(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*\\.]).{8,}$/, dictionary && dictionary.errors.password.regex);\nconst usernameSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        username: {\n            required: true,\n            min3: true,\n            max30: true\n        }\n    }\n});\nconst usernameSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.string({\n        required_error: dictionary && dictionary.errors.username.required\n    }).min(3, dictionary && dictionary.errors.username.min3).max(30, dictionary && dictionary.errors.username.max30);\nconst emailSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        email: {\n            required: true,\n            invalid: true\n        }\n    }\n});\nconst emailSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.string({\n        required_error: dictionary && dictionary.errors.email.required\n    }).email(dictionary && dictionary.errors.email.invalid);\nconst signInSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        password: {\n            max25: true\n        }\n    }\n}, emailSchemaDr);\nconst signInSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        email: emailSchema(dictionary),\n        password: zod__WEBPACK_IMPORTED_MODULE_2__.string().max(_constants_auth__WEBPACK_IMPORTED_MODULE_0__.maxPasswordLength, dictionary && dictionary.errors.password.max25),\n        otp: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional()\n    });\nconst signUpSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(signInSchemaDr, usernameSchemaDr, passwordSchemaWithRegexDr);\nconst signUpSchema = (dictionary)=>signInSchema(dictionary).extend({\n        username: usernameSchema(dictionary),\n        password: passwordSchemaWithRegex(dictionary),\n        locale: zod__WEBPACK_IMPORTED_MODULE_2__.string()\n    });\nconst generateTotpSecretResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_2__.boolean(),\n        url: zod__WEBPACK_IMPORTED_MODULE_2__.string(),\n        mnemonic: zod__WEBPACK_IMPORTED_MODULE_2__.string()\n    });\nconst verifyTotpSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        token: zod__WEBPACK_IMPORTED_MODULE_2__.string()\n    });\nconst verifyTotpResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_2__.boolean()\n    });\nconst desactivateTotpSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        token: zod__WEBPACK_IMPORTED_MODULE_2__.string()\n    });\nconst desactivateTotpResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_2__.boolean()\n    });\nconst recover2FASchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(emailSchemaDr, {\n    mnemonic: {\n        invalid: true\n    }\n});\nconst recover2FASchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        email: emailSchema(dictionary),\n        mnemonic: zod__WEBPACK_IMPORTED_MODULE_2__.string().refine((value)=>value.split(\" \").filter((v)=>!!v).length === 12, {\n            message: dictionary && dictionary.mnemonic.invalid\n        })\n    });\nconst recover2FAResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_2__.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_2__.boolean()\n    });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM7UUFDbEJ3QyxLQUFLeEMsdUNBQVE7UUFDYnlDLFVBQVV6Qyx1Q0FBUTtJQUNwQixHQUFFO0FBRUcsTUFBTTBDLG1CQUFtQixJQUM5QjFDLHVDQUFRLENBQUM7UUFDUDJDLE9BQU8zQyx1Q0FBUTtJQUNqQixHQUFFO0FBRUcsTUFBTTRDLDJCQUEyQixJQUN0QzVDLHVDQUFRLENBQUM7UUFDUHNDLFNBQVN0Qyx3Q0FBUztJQUNwQixHQUFFO0FBRUcsTUFBTTZDLHdCQUF3QixJQUNuQzdDLHVDQUFRLENBQUM7UUFDUDJDLE9BQU8zQyx1Q0FBUTtJQUNqQixHQUFFO0FBRUcsTUFBTThDLGdDQUFnQyxJQUMzQzlDLHVDQUFRLENBQUM7UUFDUHNDLFNBQVN0Qyx3Q0FBUztJQUNwQixHQUFFO0FBRUcsTUFBTStDLHFCQUFxQjVDLDZFQUFzQkEsQ0FBQ3FCLGVBQWU7SUFDdEVpQixVQUFVO1FBQ1JmLFNBQVM7SUFDWDtBQUNGLEdBQUU7QUFDSyxNQUFNc0IsbUJBQW1CLENBQUNyQyxhQUMvQlgsdUNBQVEsQ0FBQztRQUNQeUIsT0FBT0UsWUFBWWhCO1FBQ25COEIsVUFBVXpDLHVDQUFRLEdBQUdpRCxNQUFNLENBQUMsQ0FBQ0MsUUFBVUEsTUFBTUMsS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQyxDQUFDQyxJQUFNLENBQUMsQ0FBQ0EsR0FBR0MsTUFBTSxLQUFLLElBQUk7WUFDeEZDLFNBQVM1QyxjQUFjQSxXQUFXOEIsUUFBUSxDQUFDZixPQUFPO1FBQ3BEO0lBQ0YsR0FBRTtBQUVHLE1BQU04QiwyQkFBMkIsSUFDdEN4RCx1Q0FBUSxDQUFDO1FBQ1BzQyxTQUFTdEMsd0NBQVM7SUFDcEIsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcGkvYXV0aC9zY2hlbWFzLnRzPzM0ZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgeiBmcm9tIFwiem9kXCJcblxuaW1wb3J0IHsgbWF4UGFzc3dvcmRMZW5ndGgsIG1pblBhc3N3b3JkTGVuZ3RoIH0gZnJvbSBcIkAvY29uc3RhbnRzL2F1dGhcIlxuaW1wb3J0IHsgVERpY3Rpb25hcnkgfSBmcm9tIFwiQC9saWIvbGFuZ3NcIlxuaW1wb3J0IHsgZGljdGlvbmFyeVJlcXVpcmVtZW50cyB9IGZyb20gXCJAL2xpYi91dGlscy9kaWN0aW9uYXJ5XCJcblxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkU2NoZW1hRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKHtcbiAgZXJyb3JzOiB7XG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWluODogdHJ1ZSxcbiAgICAgIG1heDI1OiB0cnVlLFxuICAgIH0sXG4gIH0sXG59KVxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2YgcGFzc3dvcmRTY2hlbWFEcj4pID0+XG4gIHpcbiAgICAuc3RyaW5nKHtcbiAgICAgIHJlcXVpcmVkX2Vycm9yOiBkaWN0aW9uYXJ5ICYmIGRpY3Rpb25hcnkuZXJyb3JzLnBhc3N3b3JkLnJlcXVpcmVkLFxuICAgIH0pXG4gICAgLm1pbihtaW5QYXNzd29yZExlbmd0aCwgZGljdGlvbmFyeSAmJiBkaWN0aW9uYXJ5LmVycm9ycy5wYXNzd29yZC5taW44KVxuICAgIC5tYXgobWF4UGFzc3dvcmRMZW5ndGgsIGRpY3Rpb25hcnkgJiYgZGljdGlvbmFyeS5lcnJvcnMucGFzc3dvcmQubWF4MjUpXG5cbmV4cG9ydCBjb25zdCBwYXNzd29yZFNjaGVtYVdpdGhSZWdleERyID0gZGljdGlvbmFyeVJlcXVpcmVtZW50cyhcbiAge1xuICAgIGVycm9yczoge1xuICAgICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgcmVnZXg6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHBhc3N3b3JkU2NoZW1hRHJcbilcbmV4cG9ydCBjb25zdCBwYXNzd29yZFNjaGVtYVdpdGhSZWdleCA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIHBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4RHI+KSA9PlxuICBwYXNzd29yZFNjaGVtYShkaWN0aW9uYXJ5KS5yZWdleChcbiAgICAvXig/PS4qXFxkKSg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlshQCMkJV4mKlxcLl0pLns4LH0kLyxcbiAgICBkaWN0aW9uYXJ5ICYmIGRpY3Rpb25hcnkuZXJyb3JzLnBhc3N3b3JkLnJlZ2V4XG4gIClcblxuZXhwb3J0IGNvbnN0IHVzZXJuYW1lU2NoZW1hRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKHtcbiAgZXJyb3JzOiB7XG4gICAgdXNlcm5hbWU6IHtcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWluMzogdHJ1ZSxcbiAgICAgIG1heDMwOiB0cnVlLFxuICAgIH0sXG4gIH0sXG59KVxuZXhwb3J0IGNvbnN0IHVzZXJuYW1lU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2YgdXNlcm5hbWVTY2hlbWFEcj4pID0+XG4gIHpcbiAgICAuc3RyaW5nKHtcbiAgICAgIHJlcXVpcmVkX2Vycm9yOiBkaWN0aW9uYXJ5ICYmIGRpY3Rpb25hcnkuZXJyb3JzLnVzZXJuYW1lLnJlcXVpcmVkLFxuICAgIH0pXG4gICAgLm1pbigzLCBkaWN0aW9uYXJ5ICYmIGRpY3Rpb25hcnkuZXJyb3JzLnVzZXJuYW1lLm1pbjMpXG4gICAgLm1heCgzMCwgZGljdGlvbmFyeSAmJiBkaWN0aW9uYXJ5LmVycm9ycy51c2VybmFtZS5tYXgzMClcblxuZXhwb3J0IGNvbnN0IGVtYWlsU2NoZW1hRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKHtcbiAgZXJyb3JzOiB7XG4gICAgZW1haWw6IHtcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgaW52YWxpZDogdHJ1ZSxcbiAgICB9LFxuICB9LFxufSlcbmV4cG9ydCBjb25zdCBlbWFpbFNjaGVtYSA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIGVtYWlsU2NoZW1hRHI+KSA9PlxuICB6XG4gICAgLnN0cmluZyh7XG4gICAgICByZXF1aXJlZF9lcnJvcjogZGljdGlvbmFyeSAmJiBkaWN0aW9uYXJ5LmVycm9ycy5lbWFpbC5yZXF1aXJlZCxcbiAgICB9KVxuICAgIC5lbWFpbChkaWN0aW9uYXJ5ICYmIGRpY3Rpb25hcnkuZXJyb3JzLmVtYWlsLmludmFsaWQpXG5cbmV4cG9ydCBjb25zdCBzaWduSW5TY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMoXG4gIHtcbiAgICBlcnJvcnM6IHtcbiAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgIG1heDI1OiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBlbWFpbFNjaGVtYURyXG4pXG5leHBvcnQgY29uc3Qgc2lnbkluU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2Ygc2lnbkluU2NoZW1hRHI+KSA9PlxuICB6Lm9iamVjdCh7XG4gICAgZW1haWw6IGVtYWlsU2NoZW1hKGRpY3Rpb25hcnkpLFxuICAgIHBhc3N3b3JkOiB6LnN0cmluZygpLm1heChtYXhQYXNzd29yZExlbmd0aCwgZGljdGlvbmFyeSAmJiBkaWN0aW9uYXJ5LmVycm9ycy5wYXNzd29yZC5tYXgyNSksIC8vPyBEbyBub3QgdXNlIHRoZSBwYXNzd29yZCBzY2hlbWEgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHRlbGwgd2h5IHRoZSBwYXNzd29yZCBpcyBpbnZhbGlkXG4gICAgb3RwOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBzaWduVXBTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMoc2lnbkluU2NoZW1hRHIsIHVzZXJuYW1lU2NoZW1hRHIsIHBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4RHIpXG5leHBvcnQgY29uc3Qgc2lnblVwU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2Ygc2lnblVwU2NoZW1hRHI+KSA9PlxuICBzaWduSW5TY2hlbWEoZGljdGlvbmFyeSkuZXh0ZW5kKHtcbiAgICB1c2VybmFtZTogdXNlcm5hbWVTY2hlbWEoZGljdGlvbmFyeSksXG4gICAgcGFzc3dvcmQ6IHBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4KGRpY3Rpb25hcnkpLFxuICAgIGxvY2FsZTogei5zdHJpbmcoKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG90cFNlY3JldFJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIHVybDogei5zdHJpbmcoKSxcbiAgICBtbmVtb25pYzogei5zdHJpbmcoKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHZlcmlmeVRvdHBTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgdG9rZW46IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlUb3RwUmVzcG9uc2VTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBkZXNhY3RpdmF0ZVRvdHBTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgdG9rZW46IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBkZXNhY3RpdmF0ZVRvdHBSZXNwb25zZVNjaGVtYSA9ICgpID0+XG4gIHoub2JqZWN0KHtcbiAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHJlY292ZXIyRkFTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMoZW1haWxTY2hlbWFEciwge1xuICBtbmVtb25pYzoge1xuICAgIGludmFsaWQ6IHRydWUsXG4gIH0sXG59KVxuZXhwb3J0IGNvbnN0IHJlY292ZXIyRkFTY2hlbWEgPSAoZGljdGlvbmFyeT86IFREaWN0aW9uYXJ5PHR5cGVvZiByZWNvdmVyMkZBU2NoZW1hRHI+KSA9PlxuICB6Lm9iamVjdCh7XG4gICAgZW1haWw6IGVtYWlsU2NoZW1hKGRpY3Rpb25hcnkpLFxuICAgIG1uZW1vbmljOiB6LnN0cmluZygpLnJlZmluZSgodmFsdWUpID0+IHZhbHVlLnNwbGl0KFwiIFwiKS5maWx0ZXIoKHYpID0+ICEhdikubGVuZ3RoID09PSAxMiwge1xuICAgICAgbWVzc2FnZTogZGljdGlvbmFyeSAmJiBkaWN0aW9uYXJ5Lm1uZW1vbmljLmludmFsaWQsXG4gICAgfSksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCByZWNvdmVyMkZBUmVzcG9uc2VTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gIH0pXG4iXSwibmFtZXMiOlsieiIsIm1heFBhc3N3b3JkTGVuZ3RoIiwibWluUGFzc3dvcmRMZW5ndGgiLCJkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzIiwicGFzc3dvcmRTY2hlbWFEciIsImVycm9ycyIsInBhc3N3b3JkIiwicmVxdWlyZWQiLCJtaW44IiwibWF4MjUiLCJwYXNzd29yZFNjaGVtYSIsImRpY3Rpb25hcnkiLCJzdHJpbmciLCJyZXF1aXJlZF9lcnJvciIsIm1pbiIsIm1heCIsInBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4RHIiLCJyZWdleCIsInBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4IiwidXNlcm5hbWVTY2hlbWFEciIsInVzZXJuYW1lIiwibWluMyIsIm1heDMwIiwidXNlcm5hbWVTY2hlbWEiLCJlbWFpbFNjaGVtYURyIiwiZW1haWwiLCJpbnZhbGlkIiwiZW1haWxTY2hlbWEiLCJzaWduSW5TY2hlbWFEciIsInNpZ25JblNjaGVtYSIsIm9iamVjdCIsIm90cCIsIm9wdGlvbmFsIiwic2lnblVwU2NoZW1hRHIiLCJzaWduVXBTY2hlbWEiLCJleHRlbmQiLCJsb2NhbGUiLCJnZW5lcmF0ZVRvdHBTZWNyZXRSZXNwb25zZVNjaGVtYSIsInN1Y2Nlc3MiLCJib29sZWFuIiwidXJsIiwibW5lbW9uaWMiLCJ2ZXJpZnlUb3RwU2NoZW1hIiwidG9rZW4iLCJ2ZXJpZnlUb3RwUmVzcG9uc2VTY2hlbWEiLCJkZXNhY3RpdmF0ZVRvdHBTY2hlbWEiLCJkZXNhY3RpdmF0ZVRvdHBSZXNwb25zZVNjaGVtYSIsInJlY292ZXIyRkFTY2hlbWFEciIsInJlY292ZXIyRkFTY2hlbWEiLCJyZWZpbmUiLCJ2YWx1ZSIsInNwbGl0IiwiZmlsdGVyIiwidiIsImxlbmd0aCIsIm1lc3NhZ2UiLCJyZWNvdmVyMkZBUmVzcG9uc2VTY2hlbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/api/auth/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/_router.ts":
/*!*******************************!*\
  !*** ./src/api/me/_router.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   meRouter: () => (/* binding */ meRouter)\n/* harmony export */ });\n/* harmony import */ var _api_me_schemas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/api/me/schemas */ \"(rsc)/./src/api/me/schemas.ts\");\n/* harmony import */ var _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/server/trpc */ \"(rsc)/./src/lib/server/trpc.ts\");\n/* harmony import */ var _email_mutations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./email/mutations */ \"(rsc)/./src/api/me/email/mutations.ts\");\n/* harmony import */ var _password_mutations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./password/mutations */ \"(rsc)/./src/api/me/password/mutations.ts\");\n/* harmony import */ var _sessions_mutations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sessions/mutations */ \"(rsc)/./src/api/me/sessions/mutations.ts\");\n/* harmony import */ var _sessions_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sessions/queries */ \"(rsc)/./src/api/me/sessions/queries.ts\");\n/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mutations */ \"(rsc)/./src/api/me/mutations.ts\");\n/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./queries */ \"(rsc)/./src/api/me/queries.ts\");\n\n\n\n\n\n\n\n\nconst meRouter = (0,_lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.router)({\n    updateUser: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.updateUserSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.updateUserResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_6__.updateUser),\n    getActiveSessions: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedNoEmailVerificationProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.getActiveSessionsSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.getActiveSessionsResponseSchema)()).query(_sessions_queries__WEBPACK_IMPORTED_MODULE_5__.getActiveSessions),\n    deleteSession: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedNoEmailVerificationProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.deleteSessionSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.deleteSessionResponseSchema)()).mutation(_sessions_mutations__WEBPACK_IMPORTED_MODULE_4__.deleteSession),\n    getAccount: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedNoEmailVerificationProcedure.output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.getAccountResponseSchema)()).query(_queries__WEBPACK_IMPORTED_MODULE_7__.getAccount),\n    deleteAccount: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedNoEmailVerificationProcedure.output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.deleteAccountResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_6__.deleteAccount),\n    forgotPassword: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.forgotPasswordSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.forgotPasswordResponseSchema)()).mutation(_password_mutations__WEBPACK_IMPORTED_MODULE_3__.forgotPassword),\n    resetPassword: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.resetPasswordSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.resetPasswordResponseSchema)()).mutation(_password_mutations__WEBPACK_IMPORTED_MODULE_3__.resetPassword),\n    sendVerificationEmail: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.authenticatedNoEmailVerificationProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.sendVerificationEmailSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.sendVerificationEmailResponseSchema)()).mutation(_email_mutations__WEBPACK_IMPORTED_MODULE_2__.sendVerificationEmail),\n    verifyEmail: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.verifyEmailSchema)()).output((0,_api_me_schemas__WEBPACK_IMPORTED_MODULE_0__.verifyEmailResponseSchema)()).mutation(_email_mutations__WEBPACK_IMPORTED_MODULE_2__.verifyEmail)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL21lL19yb3V0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBaUJ5QjtBQU1DO0FBRTRDO0FBQ0Y7QUFDaEI7QUFDRTtBQUNDO0FBQ2pCO0FBRS9CLE1BQU02QixXQUFXVix3REFBTUEsQ0FBQztJQUM3QlEsWUFBWVYsb0VBQXNCQSxDQUFDYSxLQUFLLENBQUNqQixpRUFBZ0JBLElBQUlrQixNQUFNLENBQUNuQix5RUFBd0JBLElBQUlvQixRQUFRLENBQUNMLGtEQUFVQTtJQUNuSEYsbUJBQW1CVCx1RkFBeUNBLENBQ3pEYyxLQUFLLENBQUN2Qix3RUFBdUJBLElBQzdCd0IsTUFBTSxDQUFDekIsZ0ZBQStCQSxJQUN0QzJCLEtBQUssQ0FBQ1IsZ0VBQWlCQTtJQUMxQkQsZUFBZVIsdUZBQXlDQSxDQUNyRGMsS0FBSyxDQUFDNUIsb0VBQW1CQSxJQUN6QjZCLE1BQU0sQ0FBQzlCLDRFQUEyQkEsSUFDbEMrQixRQUFRLENBQUNSLDhEQUFhQTtJQUN6QkksWUFBWVosdUZBQXlDQSxDQUFDZSxNQUFNLENBQUMxQix5RUFBd0JBLElBQUk0QixLQUFLLENBQUNMLGdEQUFVQTtJQUN6R0YsZUFBZVYsdUZBQXlDQSxDQUNyRGUsTUFBTSxDQUFDL0IsNEVBQTJCQSxJQUNsQ2dDLFFBQVEsQ0FBQ04scURBQWFBO0lBQ3pCSixnQkFBZ0JKLDZEQUFlQSxDQUM1QlksS0FBSyxDQUFDMUIscUVBQW9CQSxJQUMxQjJCLE1BQU0sQ0FBQzVCLDZFQUE0QkEsSUFDbkM2QixRQUFRLENBQUNWLCtEQUFjQTtJQUMxQkMsZUFBZUwsNkRBQWVBLENBQzNCWSxLQUFLLENBQUNyQixvRUFBbUJBLElBQ3pCc0IsTUFBTSxDQUFDdkIsNEVBQTJCQSxJQUNsQ3dCLFFBQVEsQ0FBQ1QsOERBQWFBO0lBQ3pCSCx1QkFBdUJKLHVGQUF5Q0EsQ0FDN0RjLEtBQUssQ0FBQ25CLDRFQUEyQkEsSUFDakNvQixNQUFNLENBQUNyQixvRkFBbUNBLElBQzFDc0IsUUFBUSxDQUFDWixtRUFBcUJBO0lBQ2pDQyxhQUFhSCw2REFBZUEsQ0FBQ1ksS0FBSyxDQUFDZixrRUFBaUJBLElBQUlnQixNQUFNLENBQUNqQiwwRUFBeUJBLElBQUlrQixRQUFRLENBQUNYLHlEQUFXQTtBQUNsSCxHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS9tZS9fcm91dGVyLnRzPzEwYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZGVsZXRlQWNjb3VudFJlc3BvbnNlU2NoZW1hLFxuICBkZWxldGVTZXNzaW9uUmVzcG9uc2VTY2hlbWEsXG4gIGRlbGV0ZVNlc3Npb25TY2hlbWEsXG4gIGZvcmdvdFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEsXG4gIGZvcmdvdFBhc3N3b3JkU2NoZW1hLFxuICBnZXRBY2NvdW50UmVzcG9uc2VTY2hlbWEsXG4gIGdldEFjdGl2ZVNlc3Npb25zUmVzcG9uc2VTY2hlbWEsXG4gIGdldEFjdGl2ZVNlc3Npb25zU2NoZW1hLFxuICByZXNldFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEsXG4gIHJlc2V0UGFzc3dvcmRTY2hlbWEsXG4gIHNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlU2NoZW1hLFxuICBzZW5kVmVyaWZpY2F0aW9uRW1haWxTY2hlbWEsXG4gIHVwZGF0ZVVzZXJSZXNwb25zZVNjaGVtYSxcbiAgdXBkYXRlVXNlclNjaGVtYSxcbiAgdmVyaWZ5RW1haWxSZXNwb25zZVNjaGVtYSxcbiAgdmVyaWZ5RW1haWxTY2hlbWEsXG59IGZyb20gXCJAL2FwaS9tZS9zY2hlbWFzXCJcbmltcG9ydCB7XG4gIGF1dGhlbnRpY2F0ZWROb0VtYWlsVmVyaWZpY2F0aW9uUHJvY2VkdXJlLFxuICBhdXRoZW50aWNhdGVkUHJvY2VkdXJlLFxuICBwdWJsaWNQcm9jZWR1cmUsXG4gIHJvdXRlcixcbn0gZnJvbSBcIkAvbGliL3NlcnZlci90cnBjXCJcblxuaW1wb3J0IHsgc2VuZFZlcmlmaWNhdGlvbkVtYWlsLCB2ZXJpZnlFbWFpbCB9IGZyb20gXCIuL2VtYWlsL211dGF0aW9uc1wiXG5pbXBvcnQgeyBmb3Jnb3RQYXNzd29yZCwgcmVzZXRQYXNzd29yZCB9IGZyb20gXCIuL3Bhc3N3b3JkL211dGF0aW9uc1wiXG5pbXBvcnQgeyBkZWxldGVTZXNzaW9uIH0gZnJvbSBcIi4vc2Vzc2lvbnMvbXV0YXRpb25zXCJcbmltcG9ydCB7IGdldEFjdGl2ZVNlc3Npb25zIH0gZnJvbSBcIi4vc2Vzc2lvbnMvcXVlcmllc1wiXG5pbXBvcnQgeyBkZWxldGVBY2NvdW50LCB1cGRhdGVVc2VyIH0gZnJvbSBcIi4vbXV0YXRpb25zXCJcbmltcG9ydCB7IGdldEFjY291bnQgfSBmcm9tIFwiLi9xdWVyaWVzXCJcblxuZXhwb3J0IGNvbnN0IG1lUm91dGVyID0gcm91dGVyKHtcbiAgdXBkYXRlVXNlcjogYXV0aGVudGljYXRlZFByb2NlZHVyZS5pbnB1dCh1cGRhdGVVc2VyU2NoZW1hKCkpLm91dHB1dCh1cGRhdGVVc2VyUmVzcG9uc2VTY2hlbWEoKSkubXV0YXRpb24odXBkYXRlVXNlciksXG4gIGdldEFjdGl2ZVNlc3Npb25zOiBhdXRoZW50aWNhdGVkTm9FbWFpbFZlcmlmaWNhdGlvblByb2NlZHVyZVxuICAgIC5pbnB1dChnZXRBY3RpdmVTZXNzaW9uc1NjaGVtYSgpKVxuICAgIC5vdXRwdXQoZ2V0QWN0aXZlU2Vzc2lvbnNSZXNwb25zZVNjaGVtYSgpKVxuICAgIC5xdWVyeShnZXRBY3RpdmVTZXNzaW9ucyksXG4gIGRlbGV0ZVNlc3Npb246IGF1dGhlbnRpY2F0ZWROb0VtYWlsVmVyaWZpY2F0aW9uUHJvY2VkdXJlXG4gICAgLmlucHV0KGRlbGV0ZVNlc3Npb25TY2hlbWEoKSlcbiAgICAub3V0cHV0KGRlbGV0ZVNlc3Npb25SZXNwb25zZVNjaGVtYSgpKVxuICAgIC5tdXRhdGlvbihkZWxldGVTZXNzaW9uKSxcbiAgZ2V0QWNjb3VudDogYXV0aGVudGljYXRlZE5vRW1haWxWZXJpZmljYXRpb25Qcm9jZWR1cmUub3V0cHV0KGdldEFjY291bnRSZXNwb25zZVNjaGVtYSgpKS5xdWVyeShnZXRBY2NvdW50KSxcbiAgZGVsZXRlQWNjb3VudDogYXV0aGVudGljYXRlZE5vRW1haWxWZXJpZmljYXRpb25Qcm9jZWR1cmVcbiAgICAub3V0cHV0KGRlbGV0ZUFjY291bnRSZXNwb25zZVNjaGVtYSgpKVxuICAgIC5tdXRhdGlvbihkZWxldGVBY2NvdW50KSxcbiAgZm9yZ290UGFzc3dvcmQ6IHB1YmxpY1Byb2NlZHVyZVxuICAgIC5pbnB1dChmb3Jnb3RQYXNzd29yZFNjaGVtYSgpKVxuICAgIC5vdXRwdXQoZm9yZ290UGFzc3dvcmRSZXNwb25zZVNjaGVtYSgpKVxuICAgIC5tdXRhdGlvbihmb3Jnb3RQYXNzd29yZCksXG4gIHJlc2V0UGFzc3dvcmQ6IHB1YmxpY1Byb2NlZHVyZVxuICAgIC5pbnB1dChyZXNldFBhc3N3b3JkU2NoZW1hKCkpXG4gICAgLm91dHB1dChyZXNldFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEoKSlcbiAgICAubXV0YXRpb24ocmVzZXRQYXNzd29yZCksXG4gIHNlbmRWZXJpZmljYXRpb25FbWFpbDogYXV0aGVudGljYXRlZE5vRW1haWxWZXJpZmljYXRpb25Qcm9jZWR1cmVcbiAgICAuaW5wdXQoc2VuZFZlcmlmaWNhdGlvbkVtYWlsU2NoZW1hKCkpXG4gICAgLm91dHB1dChzZW5kVmVyaWZpY2F0aW9uRW1haWxSZXNwb25zZVNjaGVtYSgpKVxuICAgIC5tdXRhdGlvbihzZW5kVmVyaWZpY2F0aW9uRW1haWwpLFxuICB2ZXJpZnlFbWFpbDogcHVibGljUHJvY2VkdXJlLmlucHV0KHZlcmlmeUVtYWlsU2NoZW1hKCkpLm91dHB1dCh2ZXJpZnlFbWFpbFJlc3BvbnNlU2NoZW1hKCkpLm11dGF0aW9uKHZlcmlmeUVtYWlsKSxcbn0pXG4iXSwibmFtZXMiOlsiZGVsZXRlQWNjb3VudFJlc3BvbnNlU2NoZW1hIiwiZGVsZXRlU2Vzc2lvblJlc3BvbnNlU2NoZW1hIiwiZGVsZXRlU2Vzc2lvblNjaGVtYSIsImZvcmdvdFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEiLCJmb3Jnb3RQYXNzd29yZFNjaGVtYSIsImdldEFjY291bnRSZXNwb25zZVNjaGVtYSIsImdldEFjdGl2ZVNlc3Npb25zUmVzcG9uc2VTY2hlbWEiLCJnZXRBY3RpdmVTZXNzaW9uc1NjaGVtYSIsInJlc2V0UGFzc3dvcmRSZXNwb25zZVNjaGVtYSIsInJlc2V0UGFzc3dvcmRTY2hlbWEiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWxSZXNwb25zZVNjaGVtYSIsInNlbmRWZXJpZmljYXRpb25FbWFpbFNjaGVtYSIsInVwZGF0ZVVzZXJSZXNwb25zZVNjaGVtYSIsInVwZGF0ZVVzZXJTY2hlbWEiLCJ2ZXJpZnlFbWFpbFJlc3BvbnNlU2NoZW1hIiwidmVyaWZ5RW1haWxTY2hlbWEiLCJhdXRoZW50aWNhdGVkTm9FbWFpbFZlcmlmaWNhdGlvblByb2NlZHVyZSIsImF1dGhlbnRpY2F0ZWRQcm9jZWR1cmUiLCJwdWJsaWNQcm9jZWR1cmUiLCJyb3V0ZXIiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWwiLCJ2ZXJpZnlFbWFpbCIsImZvcmdvdFBhc3N3b3JkIiwicmVzZXRQYXNzd29yZCIsImRlbGV0ZVNlc3Npb24iLCJnZXRBY3RpdmVTZXNzaW9ucyIsImRlbGV0ZUFjY291bnQiLCJ1cGRhdGVVc2VyIiwiZ2V0QWNjb3VudCIsIm1lUm91dGVyIiwiaW5wdXQiLCJvdXRwdXQiLCJtdXRhdGlvbiIsInF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/_router.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/email/mutations.ts":
/*!***************************************!*\
  !*** ./src/api/me/email/mutations.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendVerificationEmail: () => (/* binding */ sendVerificationEmail),\n/* harmony export */   verifyEmail: () => (/* binding */ verifyEmail)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _constants_medias__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/constants/medias */ \"(rsc)/./src/constants/medias.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_i18n_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/i18n-config */ \"(rsc)/./src/lib/i18n-config.ts\");\n/* harmony import */ var _lib_langs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/langs */ \"(rsc)/./src/lib/langs.ts\");\n/* harmony import */ var _lib_mailer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/mailer */ \"(rsc)/./src/lib/mailer.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _elan_transactional_emails_verify_email__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @elan/transactional/emails/verify-email */ \"(rsc)/../../packages/transactional/emails/verify-email.tsx\");\n/* harmony import */ var _react_email_render__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @react-email/render */ \"(rsc)/../../node_modules/@react-email/render/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst sendVerificationEmail = async ({ input })=>{\n    try {\n        const { silent, email: iEmail, user: iUser } = input;\n        const email = (iUser ? iUser.email?.toLowerCase() : iEmail?.toLowerCase()) ?? \"\";\n        const user = iUser ?? await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        const token = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)();\n        if (!user) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"User not found\");\n            return {\n                email\n            };\n        }\n        if (user.emailVerified) {\n            if (silent) return {\n                email\n            };\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"User email already verified\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"emailAlreadyVerified\", \"BAD_REQUEST\");\n        }\n        const userEmailVerificationToken = await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.userEmailVerificationToken.findFirst({\n            where: {\n                identifier: user.id\n            }\n        });\n        if (userEmailVerificationToken) {\n            //? If silent, return early\n            if (silent) return {\n                email\n            };\n            const isToRecent = userEmailVerificationToken.createdAt.getTime() + _constants__WEBPACK_IMPORTED_MODULE_1__.resendEmailVerificationExpiration > Date.now();\n            if (isToRecent) {\n                if (_elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.allowDebug()) {\n                    const availableIn = Math.round((userEmailVerificationToken.createdAt.getTime() + _constants__WEBPACK_IMPORTED_MODULE_1__.resendEmailVerificationExpiration - Date.now()) / 1000);\n                    _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"Verification email already sent: \", availableIn, \"seconds left\");\n                }\n                return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"emailAlreadySentPleaseTryAgainInFewMinutes\", \"BAD_REQUEST\");\n            }\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.userEmailVerificationToken.delete({\n                where: {\n                    identifier: userEmailVerificationToken.identifier\n                }\n            });\n        }\n        if (_lib_env__WEBPACK_IMPORTED_MODULE_3__.env.NEXT_PUBLIC_ENABLE_MAILING_SERVICE === true) {\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.userEmailVerificationToken.create({\n                data: {\n                    identifier: user.id,\n                    token: token,\n                    expires: new Date(Date.now() + _constants__WEBPACK_IMPORTED_MODULE_1__.emailVerificationExpiration)\n                }\n            });\n            const verificationLink = `${_lib_env__WEBPACK_IMPORTED_MODULE_3__.env.VERCEL_URL ?? _lib_env__WEBPACK_IMPORTED_MODULE_3__.env.NEXT_PUBLIC_BASE_URL}/verify-email/${token}`;\n            const locale = user.lastLocale ?? _lib_i18n_config__WEBPACK_IMPORTED_MODULE_4__.i18n.defaultLocale;\n            const dictionary = await (0,_lib_langs__WEBPACK_IMPORTED_MODULE_5__._getDictionary)(\"transactionals\", locale, {\n                hey: true,\n                verifyEmail: true,\n                footer: true,\n                thanksForSigninUpCompleteRegistration: true,\n                verifyYourEmailAddress: true,\n                verifyYourEmailAddressToCompleteYourRegistration: true\n            });\n            const element = (0,_elan_transactional_emails_verify_email__WEBPACK_IMPORTED_MODULE_10__[\"default\"])({\n                verificationLink,\n                actionText: dictionary.verifyEmail,\n                contentTitle: dictionary.thanksForSigninUpCompleteRegistration,\n                footerText: dictionary.footer,\n                heyText: dictionary.hey,\n                logoUrl: _constants_medias__WEBPACK_IMPORTED_MODULE_2__.logoUrl,\n                name: user.name ?? \"\",\n                previewText: dictionary.verifyYourEmailAddressToCompleteYourRegistration,\n                supportEmail: _lib_env__WEBPACK_IMPORTED_MODULE_3__.env.SUPPORT_EMAIL ?? \"\",\n                titleText: dictionary.verifyYourEmailAddress\n            });\n            const text = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_11__.render)(element, {\n                plainText: true\n            });\n            const html = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_11__.render)(element);\n            await (0,_lib_mailer__WEBPACK_IMPORTED_MODULE_6__.sendMail)({\n                to: email.toLowerCase(),\n                subject: dictionary.verifyYourEmailAddress,\n                text,\n                html\n            });\n        } else {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"Email verification disabled\");\n            if (silent) return {\n                email\n            };\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"emailServiceDisabled\", \"PRECONDITION_FAILED\");\n        }\n        return {\n            email\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.handleApiError)(error);\n    }\n};\nconst verifyEmail = async ({ input })=>{\n    try {\n        const { token } = input;\n        const userEmailVerificationToken = await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.userEmailVerificationToken.findUnique({\n            where: {\n                token: token\n            }\n        });\n        if (!userEmailVerificationToken) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"Token not found\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"tokenNotFound\", \"BAD_REQUEST\");\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.userEmailVerificationToken.delete({\n            where: {\n                identifier: userEmailVerificationToken.identifier\n            }\n        });\n        if (userEmailVerificationToken.expires.getTime() < Date.now()) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"Token expired\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"tokenExpired\", \"BAD_REQUEST\");\n        }\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.user.findUnique({\n            where: {\n                id: userEmailVerificationToken.identifier\n            }\n        });\n        if (!user) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"User not found\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"userNotFound\", \"BAD_REQUEST\");\n        }\n        if (user.emailVerified) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.debug(\"User email already verified\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.ApiError)(\"emailAlreadyVerified\", \"BAD_REQUEST\");\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_7__.prisma.user.update({\n            where: {\n                id: user.id\n            },\n            data: {\n                emailVerified: new Date()\n            }\n        });\n        const data = {\n            success: true\n        };\n        return data;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_8__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL21lL2VtYWlsL211dGF0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFJeUQ7QUFDaEQ7QUFDYjtBQUNpQjtBQUNKO0FBQ0w7QUFDRjtBQUM4QjtBQUVqQztBQUMrQjtBQUNyQjtBQUVyQyxNQUFNYyx3QkFBd0IsT0FBTyxFQUFFQyxLQUFLLEVBQTBEO0lBQzNHLElBQUk7UUFDRixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBT0MsTUFBTSxFQUFFQyxNQUFNQyxLQUFLLEVBQUUsR0FBR0w7UUFDL0MsTUFBTUUsUUFBUSxDQUFDRyxRQUFRQSxNQUFNSCxLQUFLLEVBQUVJLGdCQUFnQkgsUUFBUUcsYUFBWSxLQUFNO1FBQzlFLE1BQU1GLE9BQU9DLFNBQVUsTUFBTVosK0NBQU1BLENBQUNXLElBQUksQ0FBQ0csVUFBVSxDQUFDO1lBQUVDLE9BQU87Z0JBQUVOO1lBQU07UUFBRTtRQUV2RSxNQUFNTyxRQUFReEIsa0RBQVVBO1FBRXhCLElBQUksQ0FBQ21CLE1BQU07WUFDVFIsNkNBQU1BLENBQUNjLEtBQUssQ0FBQztZQUNiLE9BQU87Z0JBQUVSO1lBQU07UUFDakI7UUFFQSxJQUFJRSxLQUFLTyxhQUFhLEVBQUU7WUFDdEIsSUFBSVYsUUFBUSxPQUFPO2dCQUFFQztZQUFNO1lBQzNCTiw2Q0FBTUEsQ0FBQ2MsS0FBSyxDQUFDO1lBQ2IsT0FBT2hCLGlFQUFRQSxDQUFDLHdCQUF3QjtRQUMxQztRQUVBLE1BQU1rQiw2QkFBNkIsTUFBTW5CLCtDQUFNQSxDQUFDbUIsMEJBQTBCLENBQUNDLFNBQVMsQ0FBQztZQUNuRkwsT0FBTztnQkFDTE0sWUFBWVYsS0FBS1csRUFBRTtZQUNyQjtRQUNGO1FBQ0EsSUFBSUgsNEJBQTRCO1lBQzlCLDJCQUEyQjtZQUMzQixJQUFJWCxRQUFRLE9BQU87Z0JBQUVDO1lBQU07WUFFM0IsTUFBTWMsYUFBYUosMkJBQTJCSyxTQUFTLENBQUNDLE9BQU8sS0FBSy9CLHlFQUFp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Q2IsT0FBT2hCLGlFQUFRQSxDQUFDLGlCQUFpQjtRQUNuQztRQUVBLE1BQU1ELCtDQUFNQSxDQUFDbUIsMEJBQTBCLENBQUNhLE1BQU0sQ0FBQztZQUM3Q2pCLE9BQU87Z0JBQ0xNLFlBQVlGLDJCQUEyQkUsVUFBVTtZQUNuRDtRQUNGO1FBRUEsSUFBSUYsMkJBQTJCaUIsT0FBTyxDQUFDWCxPQUFPLEtBQUtDLEtBQUtDLEdBQUcsSUFBSTtZQUM3RHhCLDZDQUFNQSxDQUFDYyxLQUFLLENBQUM7WUFDYixPQUFPaEIsaUVBQVFBLENBQUMsZ0JBQWdCO1FBQ2xDO1FBRUEsTUFBTVUsT0FBTyxNQUFNWCwrQ0FBTUEsQ0FBQ1csSUFBSSxDQUFDRyxVQUFVLENBQUM7WUFDeENDLE9BQU87Z0JBQ0xPLElBQUlILDJCQUEyQkUsVUFBVTtZQUMzQztRQUNGO1FBQ0EsSUFBSSxDQUFDVixNQUFNO1lBQ1RSLDZDQUFNQSxDQUFDYyxLQUFLLENBQUM7WUFDYixPQUFPaEIsaUVBQVFBLENBQUMsZ0JBQWdCO1FBQ2xDO1FBRUEsSUFBSVUsS0FBS08sYUFBYSxFQUFFO1lBQ3RCZiw2Q0FBTUEsQ0FBQ2MsS0FBSyxDQUFDO1lBQ2IsT0FBT2hCLGlFQUFRQSxDQUFDLHdCQUF3QjtRQUMxQztRQUVBLE1BQU1ELCtDQUFNQSxDQUFDVyxJQUFJLENBQUN1RCxNQUFNLENBQUM7WUFDdkJuRCxPQUFPO2dCQUNMTyxJQUFJWCxLQUFLVyxFQUFFO1lBQ2I7WUFDQWEsTUFBTTtnQkFDSmpCLGVBQWUsSUFBSVE7WUFDckI7UUFDRjtRQUVBLE1BQU1TLE9BQThEO1lBQ2xFZ0MsU0FBUztRQUNYO1FBQ0EsT0FBT2hDO0lBQ1QsRUFBRSxPQUFPOEIsT0FBZ0I7UUFDdkIsT0FBTy9ELHVFQUFjQSxDQUFDK0Q7SUFDeEI7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS9tZS9lbWFpbC9tdXRhdGlvbnMudHM/MDgzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7IHNlbmRWZXJpZmljYXRpb25FbWFpbFNjaGVtYSwgdmVyaWZ5RW1haWxSZXNwb25zZVNjaGVtYSwgdmVyaWZ5RW1haWxTY2hlbWEgfSBmcm9tIFwiQC9hcGkvbWUvc2NoZW1hc1wiXG5pbXBvcnQgeyBlbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24sIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiB9IGZyb20gXCJAL2NvbnN0YW50c1wiXG5pbXBvcnQgeyBsb2dvVXJsIH0gZnJvbSBcIkAvY29uc3RhbnRzL21lZGlhc1wiXG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52XCJcbmltcG9ydCB7IGkxOG4sIExvY2FsZSB9IGZyb20gXCJAL2xpYi9pMThuLWNvbmZpZ1wiXG5pbXBvcnQgeyBfZ2V0RGljdGlvbmFyeSB9IGZyb20gXCJAL2xpYi9sYW5nc1wiXG5pbXBvcnQgeyBzZW5kTWFpbCB9IGZyb20gXCJAL2xpYi9tYWlsZXJcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiXG5pbXBvcnQgeyBBcGlFcnJvciwgaGFuZGxlQXBpRXJyb3IgfSBmcm9tIFwiQC9saWIvdXRpbHMvc2VydmVyLXV0aWxzXCJcbmltcG9ydCB7IGFwaUlucHV0RnJvbVNjaGVtYSB9IGZyb20gXCJAL3R5cGVzXCJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJAZWxhbi9saWJcIlxuaW1wb3J0IFZlcmlmeUVtYWlsIGZyb20gXCJAZWxhbi90cmFuc2FjdGlvbmFsL2VtYWlscy92ZXJpZnktZW1haWxcIlxuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIkByZWFjdC1lbWFpbC9yZW5kZXJcIlxuXG5leHBvcnQgY29uc3Qgc2VuZFZlcmlmaWNhdGlvbkVtYWlsID0gYXN5bmMgKHsgaW5wdXQgfTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiBzZW5kVmVyaWZpY2F0aW9uRW1haWxTY2hlbWE+KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzaWxlbnQsIGVtYWlsOiBpRW1haWwsIHVzZXI6IGlVc2VyIH0gPSBpbnB1dFxuICAgIGNvbnN0IGVtYWlsID0gKGlVc2VyID8gaVVzZXIuZW1haWw/LnRvTG93ZXJDYXNlKCkgOiBpRW1haWw/LnRvTG93ZXJDYXNlKCkpID8/IFwiXCJcbiAgICBjb25zdCB1c2VyID0gaVVzZXIgPz8gKGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBlbWFpbCB9IH0pKVxuXG4gICAgY29uc3QgdG9rZW4gPSByYW5kb21VVUlEKClcblxuICAgIGlmICghdXNlcikge1xuICAgICAgbG9nZ2VyLmRlYnVnKFwiVXNlciBub3QgZm91bmRcIilcbiAgICAgIHJldHVybiB7IGVtYWlsIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5lbWFpbFZlcmlmaWVkKSB7XG4gICAgICBpZiAoc2lsZW50KSByZXR1cm4geyBlbWFpbCB9XG4gICAgICBsb2dnZXIuZGVidWcoXCJVc2VyIGVtYWlsIGFscmVhZHkgdmVyaWZpZWRcIilcbiAgICAgIHJldHVybiBBcGlFcnJvcihcImVtYWlsQWxyZWFkeVZlcmlmaWVkXCIsIFwiQkFEX1JFUVVFU1RcIilcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbiA9IGF3YWl0IHByaXNtYS51c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbi5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWRlbnRpZmllcjogdXNlci5pZCxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBpZiAodXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4pIHtcbiAgICAgIC8vPyBJZiBzaWxlbnQsIHJldHVybiBlYXJseVxuICAgICAgaWYgKHNpbGVudCkgcmV0dXJuIHsgZW1haWwgfVxuXG4gICAgICBjb25zdCBpc1RvUmVjZW50ID0gdXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4uY3JlYXRlZEF0LmdldFRpbWUoKSArIHJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiA+IERhdGUubm93KClcbiAgICAgIGlmIChpc1RvUmVjZW50KSB7XG4gICAgICAgIGlmIChsb2dnZXIuYWxsb3dEZWJ1ZygpKSB7XG4gICAgICAgICAgY29uc3QgYXZhaWxhYmxlSW4gPSBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgKHVzZXJFbWFpbFZlcmlmaWNhdGlvblRva2VuLmNyZWF0ZWRBdC5nZXRUaW1lKCkgKyByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24gLSBEYXRlLm5vdygpKSAvIDEwMDBcbiAgICAgICAgICApXG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKFwiVmVyaWZpY2F0aW9uIGVtYWlsIGFscmVhZHkgc2VudDogXCIsIGF2YWlsYWJsZUluLCBcInNlY29uZHMgbGVmdFwiKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcGlFcnJvcihcImVtYWlsQWxyZWFkeVNlbnRQbGVhc2VUcnlBZ2FpbkluRmV3TWludXRlc1wiLCBcIkJBRF9SRVFVRVNUXCIpXG4gICAgICB9XG4gICAgICBhd2FpdCBwcmlzbWEudXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4uZGVsZXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZGVudGlmaWVyOiB1c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbi5pZGVudGlmaWVyLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZW52Lk5FWFRfUFVCTElDX0VOQUJMRV9NQUlMSU5HX1NFUlZJQ0UgPT09IHRydWUpIHtcbiAgICAgIGF3YWl0IHByaXNtYS51c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbi5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWRlbnRpZmllcjogdXNlci5pZCxcbiAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgICAgZXhwaXJlczogbmV3IERhdGUoRGF0ZS5ub3coKSArIGVtYWlsVmVyaWZpY2F0aW9uRXhwaXJhdGlvbiksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uTGluayA9IGAke2Vudi5WRVJDRUxfVVJMID8/IGVudi5ORVhUX1BVQkxJQ19CQVNFX1VSTH0vdmVyaWZ5LWVtYWlsLyR7dG9rZW59YFxuICAgICAgY29uc3QgbG9jYWxlID0gKHVzZXIubGFzdExvY2FsZSBhcyBMb2NhbGUgfCBudWxsKSA/PyBpMThuLmRlZmF1bHRMb2NhbGVcbiAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSBhd2FpdCBfZ2V0RGljdGlvbmFyeShcInRyYW5zYWN0aW9uYWxzXCIsIGxvY2FsZSwge1xuICAgICAgICBoZXk6IHRydWUsXG4gICAgICAgIHZlcmlmeUVtYWlsOiB0cnVlLFxuICAgICAgICBmb290ZXI6IHRydWUsXG4gICAgICAgIHRoYW5rc0ZvclNpZ25pblVwQ29tcGxldGVSZWdpc3RyYXRpb246IHRydWUsXG4gICAgICAgIHZlcmlmeVlvdXJFbWFpbEFkZHJlc3M6IHRydWUsXG4gICAgICAgIHZlcmlmeVlvdXJFbWFpbEFkZHJlc3NUb0NvbXBsZXRlWW91clJlZ2lzdHJhdGlvbjogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICBjb25zdCBlbGVtZW50ID0gVmVyaWZ5RW1haWwoe1xuICAgICAgICB2ZXJpZmljYXRpb25MaW5rLFxuICAgICAgICBhY3Rpb25UZXh0OiBkaWN0aW9uYXJ5LnZlcmlmeUVtYWlsLFxuICAgICAgICBjb250ZW50VGl0bGU6IGRpY3Rpb25hcnkudGhhbmtzRm9yU2lnbmluVXBDb21wbGV0ZVJlZ2lzdHJhdGlvbixcbiAgICAgICAgZm9vdGVyVGV4dDogZGljdGlvbmFyeS5mb290ZXIsXG4gICAgICAgIGhleVRleHQ6IGRpY3Rpb25hcnkuaGV5LFxuICAgICAgICBsb2dvVXJsLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUgPz8gXCJcIixcbiAgICAgICAgcHJldmlld1RleHQ6IGRpY3Rpb25hcnkudmVyaWZ5WW91ckVtYWlsQWRkcmVzc1RvQ29tcGxldGVZb3VyUmVnaXN0cmF0aW9uLFxuICAgICAgICBzdXBwb3J0RW1haWw6IGVudi5TVVBQT1JUX0VNQUlMID8/IFwiXCIsXG4gICAgICAgIHRpdGxlVGV4dDogZGljdGlvbmFyeS52ZXJpZnlZb3VyRW1haWxBZGRyZXNzLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHRleHQgPSByZW5kZXIoZWxlbWVudCwge1xuICAgICAgICBwbGFpblRleHQ6IHRydWUsXG4gICAgICB9KVxuICAgICAgY29uc3QgaHRtbCA9IHJlbmRlcihlbGVtZW50KVxuXG4gICAgICBhd2FpdCBzZW5kTWFpbCh7XG4gICAgICAgIHRvOiBlbWFpbC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBzdWJqZWN0OiBkaWN0aW9uYXJ5LnZlcmlmeVlvdXJFbWFpbEFkZHJlc3MsXG4gICAgICAgIHRleHQsXG4gICAgICAgIGh0bWwsXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZGVidWcoXCJFbWFpbCB2ZXJpZmljYXRpb24gZGlzYWJsZWRcIilcbiAgICAgIGlmIChzaWxlbnQpIHJldHVybiB7IGVtYWlsIH1cbiAgICAgIHJldHVybiBBcGlFcnJvcihcImVtYWlsU2VydmljZURpc2FibGVkXCIsIFwiUFJFQ09ORElUSU9OX0ZBSUxFRFwiKVxuICAgIH1cblxuICAgIHJldHVybiB7IGVtYWlsIH1cbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHZlcmlmeUVtYWlsID0gYXN5bmMgKHsgaW5wdXQgfTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiB2ZXJpZnlFbWFpbFNjaGVtYT4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHRva2VuIH0gPSBpbnB1dFxuXG4gICAgY29uc3QgdXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4gPSBhd2FpdCBwcmlzbWEudXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4uZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICB9LFxuICAgIH0pXG4gICAgaWYgKCF1c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbikge1xuICAgICAgbG9nZ2VyLmRlYnVnKFwiVG9rZW4gbm90IGZvdW5kXCIpXG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJ0b2tlbk5vdEZvdW5kXCIsIFwiQkFEX1JFUVVFU1RcIilcbiAgICB9XG5cbiAgICBhd2FpdCBwcmlzbWEudXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4uZGVsZXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkZW50aWZpZXI6IHVzZXJFbWFpbFZlcmlmaWNhdGlvblRva2VuLmlkZW50aWZpZXIsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBpZiAodXNlckVtYWlsVmVyaWZpY2F0aW9uVG9rZW4uZXhwaXJlcy5nZXRUaW1lKCkgPCBEYXRlLm5vdygpKSB7XG4gICAgICBsb2dnZXIuZGVidWcoXCJUb2tlbiBleHBpcmVkXCIpXG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJ0b2tlbkV4cGlyZWRcIiwgXCJCQURfUkVRVUVTVFwiKVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiB1c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbi5pZGVudGlmaWVyLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICghdXNlcikge1xuICAgICAgbG9nZ2VyLmRlYnVnKFwiVXNlciBub3QgZm91bmRcIilcbiAgICAgIHJldHVybiBBcGlFcnJvcihcInVzZXJOb3RGb3VuZFwiLCBcIkJBRF9SRVFVRVNUXCIpXG4gICAgfVxuXG4gICAgaWYgKHVzZXIuZW1haWxWZXJpZmllZCkge1xuICAgICAgbG9nZ2VyLmRlYnVnKFwiVXNlciBlbWFpbCBhbHJlYWR5IHZlcmlmaWVkXCIpXG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJlbWFpbEFscmVhZHlWZXJpZmllZFwiLCBcIkJBRF9SRVFVRVNUXCIpXG4gICAgfVxuXG4gICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZW1haWxWZXJpZmllZDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIGNvbnN0IGRhdGE6IHouaW5mZXI8UmV0dXJuVHlwZTx0eXBlb2YgdmVyaWZ5RW1haWxSZXNwb25zZVNjaGVtYT4+ID0ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJyYW5kb21VVUlEIiwiZW1haWxWZXJpZmljYXRpb25FeHBpcmF0aW9uIiwicmVzZW5kRW1haWxWZXJpZmljYXRpb25FeHBpcmF0aW9uIiwibG9nb1VybCIsImVudiIsImkxOG4iLCJfZ2V0RGljdGlvbmFyeSIsInNlbmRNYWlsIiwicHJpc21hIiwiQXBpRXJyb3IiLCJoYW5kbGVBcGlFcnJvciIsImxvZ2dlciIsIlZlcmlmeUVtYWlsIiwicmVuZGVyIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwiaW5wdXQiLCJzaWxlbnQiLCJlbWFpbCIsImlFbWFpbCIsInVzZXIiLCJpVXNlciIsInRvTG93ZXJDYXNlIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwidG9rZW4iLCJkZWJ1ZyIsImVtYWlsVmVyaWZpZWQiLCJ1c2VyRW1haWxWZXJpZmljYXRpb25Ub2tlbiIsImZpbmRGaXJzdCIsImlkZW50aWZpZXIiLCJpZCIsImlzVG9SZWNlbnQiLCJjcmVhdGVkQXQiLCJnZXRUaW1lIiwiRGF0ZSIsIm5vdyIsImFsbG93RGVidWciLCJhdmFpbGFibGVJbiIsIk1hdGgiLCJyb3VuZCIsImRlbGV0ZSIsIk5FWFRfUFVCTElDX0VOQUJMRV9NQUlMSU5HX1NFUlZJQ0UiLCJjcmVhdGUiLCJkYXRhIiwiZXhwaXJlcyIsInZlcmlmaWNhdGlvbkxpbmsiLCJWRVJDRUxfVVJMIiwiTkVYVF9QVUJMSUNfQkFTRV9VUkwiLCJsb2NhbGUiLCJsYXN0TG9jYWxlIiwiZGVmYXVsdExvY2FsZSIsImRpY3Rpb25hcnkiLCJoZXkiLCJ2ZXJpZnlFbWFpbCIsImZvb3RlciIsInRoYW5rc0ZvclNpZ25pblVwQ29tcGxldGVSZWdpc3RyYXRpb24iLCJ2ZXJpZnlZb3VyRW1haWxBZGRyZXNzIiwidmVyaWZ5WW91ckVtYWlsQWRkcmVzc1RvQ29tcGxldGVZb3VyUmVnaXN0cmF0aW9uIiwiZWxlbWVudCIsImFjdGlvblRleHQiLCJjb250ZW50VGl0bGUiLCJmb290ZXJUZXh0IiwiaGV5VGV4dCIsIm5hbWUiLCJwcmV2aWV3VGV4dCIsInN1cHBvcnRFbWFpbCIsIlNVUFBPUlRfRU1BSUwiLCJ0aXRsZVRleHQiLCJ0ZXh0IiwicGxhaW5UZXh0IiwiaHRtbCIsInRvIiwic3ViamVjdCIsImVycm9yIiwidXBkYXRlIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/email/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/mutations.ts":
/*!*********************************!*\
  !*** ./src/api/me/mutations.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteAccount: () => (/* binding */ deleteAccount),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_s3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/s3 */ \"(rsc)/./src/lib/s3.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n\nconst updateUser = async ({ input, ctx: { session } })=>{\n    (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ensureLoggedIn)(session);\n    try {\n        const { username, profilePictureKey } = input;\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n            where: {\n                id: session.user.id\n            },\n            include: {\n                profilePicture: true\n            }\n        });\n        if (!user) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"userNotFound\");\n        }\n        const getProfilePicture = async (key)=>{\n            const uploadingFile = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.fileUploading.findUnique({\n                where: {\n                    key\n                }\n            });\n            if (!uploadingFile) {\n                return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"fileNotFound\");\n            }\n            return {\n                bucket: uploadingFile.bucket,\n                endpoint: uploadingFile.endpoint,\n                key: uploadingFile.key,\n                filetype: uploadingFile.filetype,\n                fileUploading: {\n                    connect: {\n                        id: uploadingFile.id\n                    }\n                }\n            };\n        };\n        const profilePicture = profilePictureKey === null || profilePictureKey === undefined ? profilePictureKey : await getProfilePicture(profilePictureKey);\n        //* Disconnect old profile picture (when null or set)\n        if (profilePictureKey !== undefined && user.profilePicture) {\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.update({\n                where: {\n                    id: user.id\n                },\n                data: {\n                    profilePictureId: null\n                }\n            });\n        }\n        //* Update the user\n        const updatedUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.update({\n            where: {\n                id: session.user.id\n            },\n            data: {\n                username,\n                profilePicture: profilePicture !== undefined && profilePicture !== null ? {\n                    connectOrCreate: {\n                        where: {\n                            key: profilePicture.key\n                        },\n                        create: profilePicture\n                    }\n                } : undefined\n            },\n            include: {\n                profilePicture: true\n            }\n        });\n        const data = {\n            user: updatedUser\n        };\n        return data;\n    } catch (error) {\n        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_7__.Prisma.PrismaClientKnownRequestError) {\n            if (error.code === \"P2002\") {\n                const meta = error.meta;\n                if ((meta?.target).includes(\"username\")) {\n                    return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"username.exist\");\n                }\n            }\n        }\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.handleApiError)(error);\n    }\n};\nconst deleteAccount = async ({ ctx: { session } })=>{\n    try {\n        (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ensureLoggedIn)(session);\n        //* Ensure not admin\n        if (session.user.role === _constants__WEBPACK_IMPORTED_MODULE_0__.rolesAsObject.admin) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"cannotDeleteAdmin\", \"FORBIDDEN\");\n        }\n        //* If the user has an image and the image is not the same as the new one, delete the old one (s3)\n        if (session.user.image && _lib_s3__WEBPACK_IMPORTED_MODULE_3__.s3Client) {\n            const command = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_5__.DeleteObjectCommand({\n                Bucket: _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_S3_BUCKET_NAME,\n                Key: session.user.image\n            });\n            await _lib_s3__WEBPACK_IMPORTED_MODULE_3__.s3Client.send(command).catch((e)=>{\n                _elan_lib__WEBPACK_IMPORTED_MODULE_6__.logger.error(e);\n            });\n        }\n        //* Delete the user\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.delete({\n            where: {\n                id: session.user.id\n            }\n        });\n        return {\n            user\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ3BCLElBQUlBLFFBQVFHLElBQUksQ0FBQzRCLElBQUksS0FBSzVDLHFEQUFhQSxDQUFDNkMsS0FBSyxFQUFFO1lBQzdDLE9BQU96QyxpRUFBUUEsQ0FBQyxxQkFBcUI7UUFDdkM7UUFFQSxrR0FBa0c7UUFDbEcsSUFBSVMsUUFBUUcsSUFBSSxDQUFDOEIsS0FBSyxJQUFJM0MsNkNBQVFBLEVBQUU7WUFDbEMsTUFBTTRDLFVBQVUsSUFBSXhDLG1FQUFtQkEsQ0FBQztnQkFDdEN5QyxRQUFRL0MseUNBQUdBLENBQUNnRCwwQkFBMEI7Z0JBQ3RDQyxLQUFLckMsUUFBUUcsSUFBSSxDQUFDOEIsS0FBSztZQUN6QjtZQUNBLE1BQU0zQyw2Q0FBUUEsQ0FBQ2dELElBQUksQ0FBQ0osU0FBU0ssS0FBSyxDQUFDLENBQUNDO2dCQUNsQzdDLDZDQUFNQSxDQUFDNkIsS0FBSyxDQUFDZ0I7WUFDZjtRQUNGO1FBRUEsbUJBQW1CO1FBQ25CLE1BQU1yQyxPQUFPLE1BQU1kLCtDQUFNQSxDQUFDYyxJQUFJLENBQUNzQyxNQUFNLENBQUM7WUFDcENwQyxPQUFPO2dCQUNMQyxJQUFJTixRQUFRRyxJQUFJLENBQUNHLEVBQUU7WUFDckI7UUFDRjtRQUVBLE9BQU87WUFBRUg7UUFBSztJQUNoQixFQUFFLE9BQU9xQixPQUFnQjtRQUN2QixPQUFPL0IsdUVBQWNBLENBQUMrQjtJQUN4QjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvYXBpL21lL211dGF0aW9ucy50cz8yOGQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuaW1wb3J0IHsgdXBkYXRlVXNlclJlc3BvbnNlU2NoZW1hLCB1cGRhdGVVc2VyU2NoZW1hIH0gZnJvbSBcIkAvYXBpL21lL3NjaGVtYXNcIlxuaW1wb3J0IHsgcm9sZXNBc09iamVjdCB9IGZyb20gXCJAL2NvbnN0YW50c1wiXG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52XCJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIlxuaW1wb3J0IHsgczNDbGllbnQgfSBmcm9tIFwiQC9saWIvczNcIlxuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tIFwiQC9saWIvdXRpbHMvc2VydmVyLXV0aWxzXCJcbmltcG9ydCB7IGVuc3VyZUxvZ2dlZEluLCBoYW5kbGVBcGlFcnJvciB9IGZyb20gXCJAL2xpYi91dGlscy9zZXJ2ZXItdXRpbHNcIlxuaW1wb3J0IHsgYXBpSW5wdXRGcm9tU2NoZW1hIH0gZnJvbSBcIkAvdHlwZXNcIlxuaW1wb3J0IHsgRGVsZXRlT2JqZWN0Q29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtczNcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5pbXBvcnQgeyBQcmlzbWEgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jICh7IGlucHV0LCBjdHg6IHsgc2Vzc2lvbiB9IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgdXBkYXRlVXNlclNjaGVtYT4pID0+IHtcbiAgZW5zdXJlTG9nZ2VkSW4oc2Vzc2lvbilcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwcm9maWxlUGljdHVyZUtleSB9ID0gaW5wdXRcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBwcm9maWxlUGljdHVyZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSlcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBBcGlFcnJvcihcInVzZXJOb3RGb3VuZFwiKVxuICAgIH1cblxuICAgIGNvbnN0IGdldFByb2ZpbGVQaWN0dXJlID0gYXN5bmMgKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB1cGxvYWRpbmdGaWxlID0gYXdhaXQgcHJpc21hLmZpbGVVcGxvYWRpbmcuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAga2V5LFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIGlmICghdXBsb2FkaW5nRmlsZSkge1xuICAgICAgICByZXR1cm4gQXBpRXJyb3IoXCJmaWxlTm90Rm91bmRcIilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnVja2V0OiB1cGxvYWRpbmdGaWxlLmJ1Y2tldCxcbiAgICAgICAgZW5kcG9pbnQ6IHVwbG9hZGluZ0ZpbGUuZW5kcG9pbnQsXG4gICAgICAgIGtleTogdXBsb2FkaW5nRmlsZS5rZXksXG4gICAgICAgIGZpbGV0eXBlOiB1cGxvYWRpbmdGaWxlLmZpbGV0eXBlLFxuICAgICAgICBmaWxlVXBsb2FkaW5nOiB7XG4gICAgICAgICAgY29ubmVjdDoge1xuICAgICAgICAgICAgaWQ6IHVwbG9hZGluZ0ZpbGUuaWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm9maWxlUGljdHVyZSA9XG4gICAgICBwcm9maWxlUGljdHVyZUtleSA9PT0gbnVsbCB8fCBwcm9maWxlUGljdHVyZUtleSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gcHJvZmlsZVBpY3R1cmVLZXlcbiAgICAgICAgOiBhd2FpdCBnZXRQcm9maWxlUGljdHVyZShwcm9maWxlUGljdHVyZUtleSlcblxuICAgIC8vKiBEaXNjb25uZWN0IG9sZCBwcm9maWxlIHBpY3R1cmUgKHdoZW4gbnVsbCBvciBzZXQpXG4gICAgaWYgKHByb2ZpbGVQaWN0dXJlS2V5ICE9PSB1bmRlZmluZWQgJiYgdXNlci5wcm9maWxlUGljdHVyZSkge1xuICAgICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHByb2ZpbGVQaWN0dXJlSWQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vKiBVcGRhdGUgdGhlIHVzZXJcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogc2Vzc2lvbi51c2VyLmlkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJuYW1lLFxuICAgICAgICBwcm9maWxlUGljdHVyZTpcbiAgICAgICAgICBwcm9maWxlUGljdHVyZSAhPT0gdW5kZWZpbmVkICYmIHByb2ZpbGVQaWN0dXJlICE9PSBudWxsXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBjb25uZWN0T3JDcmVhdGU6IHtcbiAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGtleTogcHJvZmlsZVBpY3R1cmUua2V5IH0sXG4gICAgICAgICAgICAgICAgICBjcmVhdGU6IHByb2ZpbGVQaWN0dXJlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgcHJvZmlsZVBpY3R1cmU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBjb25zdCBkYXRhOiB6LmluZmVyPFJldHVyblR5cGU8dHlwZW9mIHVwZGF0ZVVzZXJSZXNwb25zZVNjaGVtYT4+ID0ge1xuICAgICAgdXNlcjogdXBkYXRlZFVzZXIsXG4gICAgfVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUHJpc21hLlByaXNtYUNsaWVudEtub3duUmVxdWVzdEVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJQMjAwMlwiKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBlcnJvci5tZXRhXG4gICAgICAgIGlmICgobWV0YT8udGFyZ2V0IGFzIEFycmF5PHN0cmluZz4pLmluY2x1ZGVzKFwidXNlcm5hbWVcIikpIHtcbiAgICAgICAgICByZXR1cm4gQXBpRXJyb3IoXCJ1c2VybmFtZS5leGlzdFwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVBcGlFcnJvcihlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGVsZXRlQWNjb3VudCA9IGFzeW5jICh7IGN0eDogeyBzZXNzaW9uIH0gfTogYXBpSW5wdXRGcm9tU2NoZW1hPHVuZGVmaW5lZD4pID0+IHtcbiAgdHJ5IHtcbiAgICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuICAgIC8vKiBFbnN1cmUgbm90IGFkbWluXG4gICAgaWYgKHNlc3Npb24udXNlci5yb2xlID09PSByb2xlc0FzT2JqZWN0LmFkbWluKSB7XG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJjYW5ub3REZWxldGVBZG1pblwiLCBcIkZPUkJJRERFTlwiKVxuICAgIH1cblxuICAgIC8vKiBJZiB0aGUgdXNlciBoYXMgYW4gaW1hZ2UgYW5kIHRoZSBpbWFnZSBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIG5ldyBvbmUsIGRlbGV0ZSB0aGUgb2xkIG9uZSAoczMpXG4gICAgaWYgKHNlc3Npb24udXNlci5pbWFnZSAmJiBzM0NsaWVudCkge1xuICAgICAgY29uc3QgY29tbWFuZCA9IG5ldyBEZWxldGVPYmplY3RDb21tYW5kKHtcbiAgICAgICAgQnVja2V0OiBlbnYuTkVYVF9QVUJMSUNfUzNfQlVDS0VUX05BTUUsXG4gICAgICAgIEtleTogc2Vzc2lvbi51c2VyLmltYWdlLFxuICAgICAgfSlcbiAgICAgIGF3YWl0IHMzQ2xpZW50LnNlbmQoY29tbWFuZCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vKiBEZWxldGUgdGhlIHVzZXJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZGVsZXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICByZXR1cm4geyB1c2VyIH1cbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJyb2xlc0FzT2JqZWN0IiwiZW52IiwicHJpc21hIiwiczNDbGllbnQiLCJBcGlFcnJvciIsImVuc3VyZUxvZ2dlZEluIiwiaGFuZGxlQXBpRXJyb3IiLCJEZWxldGVPYmplY3RDb21tYW5kIiwibG9nZ2VyIiwiUHJpc21hIiwidXBkYXRlVXNlciIsImlucHV0IiwiY3R4Iiwic2Vzc2lvbiIsInVzZXJuYW1lIiwicHJvZmlsZVBpY3R1cmVLZXkiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJpbmNsdWRlIiwicHJvZmlsZVBpY3R1cmUiLCJnZXRQcm9maWxlUGljdHVyZSIsImtleSIsInVwbG9hZGluZ0ZpbGUiLCJmaWxlVXBsb2FkaW5nIiwiYnVja2V0IiwiZW5kcG9pbnQiLCJmaWxldHlwZSIsImNvbm5lY3QiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJkYXRhIiwicHJvZmlsZVBpY3R1cmVJZCIsInVwZGF0ZWRVc2VyIiwiY29ubmVjdE9yQ3JlYXRlIiwiY3JlYXRlIiwiZXJyb3IiLCJQcmlzbWFDbGllbnRLbm93blJlcXVlc3RFcnJvciIsImNvZGUiLCJtZXRhIiwidGFyZ2V0IiwiaW5jbHVkZXMiLCJkZWxldGVBY2NvdW50Iiwicm9sZSIsImFkbWluIiwiaW1hZ2UiLCJjb21tYW5kIiwiQnVja2V0IiwiTkVYVF9QVUJMSUNfUzNfQlVDS0VUX05BTUUiLCJLZXkiLCJzZW5kIiwiY2F0Y2giLCJlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/password/mutations.ts":
/*!******************************************!*\
  !*** ./src/api/me/password/mutations.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forgotPassword: () => (/* binding */ forgotPassword),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _constants_medias__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/constants/medias */ \"(rsc)/./src/constants/medias.ts\");\n/* harmony import */ var _lib_bcrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/bcrypt */ \"(rsc)/./src/lib/bcrypt.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_i18n_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/i18n-config */ \"(rsc)/./src/lib/i18n-config.ts\");\n/* harmony import */ var _lib_langs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/langs */ \"(rsc)/./src/lib/langs.ts\");\n/* harmony import */ var _lib_mailer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/mailer */ \"(rsc)/./src/lib/mailer.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _elan_transactional_emails_reset_password__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @elan/transactional/emails/reset-password */ \"(rsc)/../../packages/transactional/emails/reset-password.tsx\");\n/* harmony import */ var _react_email_render__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @react-email/render */ \"(rsc)/../../node_modules/@react-email/render/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst forgotPassword = async ({ input })=>{\n    try {\n        const { email } = input;\n        //? Check if user exists\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        // if (!user) return ApiError(\"userNotFound\", \"NOT_FOUND\")\n        if (!user) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_10__.logger.debug(\"User not found\");\n            return {\n                email\n            };\n        }\n        if (!user.hasPassword) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.ApiError)(\"userDoesNotHaveAPassword\", \"BAD_REQUEST\");\n        const resetPassordToken = await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.resetPassordToken.findFirst({\n            where: {\n                identifier: user.id\n            }\n        });\n        //? Too recent\n        if (resetPassordToken && resetPassordToken.createdAt > new Date(Date.now() - _constants__WEBPACK_IMPORTED_MODULE_1__.resendResetPasswordExpiration)) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.ApiError)(\"emailAlreadySentPleaseTryAgainInFewMinutes\", \"BAD_REQUEST\");\n        }\n        if (resetPassordToken) {\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.resetPassordToken.delete({\n                where: {\n                    identifier: resetPassordToken.identifier\n                }\n            });\n        }\n        const resetPasswordToken = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)();\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.resetPassordToken.create({\n            data: {\n                token: resetPasswordToken,\n                expires: new Date(Date.now() + _constants__WEBPACK_IMPORTED_MODULE_1__.resetPasswordExpiration),\n                user: {\n                    connect: {\n                        id: user.id\n                    }\n                }\n            }\n        });\n        const resetLink = `${_lib_env__WEBPACK_IMPORTED_MODULE_4__.env.VERCEL_URL ?? _lib_env__WEBPACK_IMPORTED_MODULE_4__.env.NEXT_PUBLIC_BASE_URL}/reset-password/${resetPasswordToken}`;\n        const locale = user.lastLocale ?? _lib_i18n_config__WEBPACK_IMPORTED_MODULE_5__.i18n.defaultLocale;\n        const mailDict = await (0,_lib_langs__WEBPACK_IMPORTED_MODULE_6__._getDictionary)(\"transactionals\", locale, {\n            footer: true,\n            resetPasswordRequest: true,\n            resetYourPassword: true,\n            resetPasswordDescription: true,\n            hey: true\n        });\n        const element = (0,_elan_transactional_emails_reset_password__WEBPACK_IMPORTED_MODULE_11__[\"default\"])({\n            footerText: mailDict.footer,\n            logoUrl: _constants_medias__WEBPACK_IMPORTED_MODULE_2__.logoUrl,\n            actionText: mailDict.resetYourPassword,\n            contentTitle: mailDict.resetPasswordDescription,\n            heyText: mailDict.hey,\n            name: user.name ?? \"\",\n            previewText: mailDict.resetPasswordRequest,\n            resetLink,\n            supportEmail: _lib_env__WEBPACK_IMPORTED_MODULE_4__.env.SUPPORT_EMAIL ?? \"\",\n            titleText: mailDict.resetYourPassword\n        });\n        const text = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_12__.render)(element, {\n            plainText: true\n        });\n        const html = (0,_react_email_render__WEBPACK_IMPORTED_MODULE_12__.render)(element);\n        await (0,_lib_mailer__WEBPACK_IMPORTED_MODULE_7__.sendMail)({\n            to: email,\n            subject: mailDict.resetYourPassword,\n            text,\n            html\n        });\n        return {\n            email\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.handleApiError)(error);\n    }\n};\nconst resetPassword = async ({ input })=>{\n    try {\n        const { token, password } = input;\n        const resetPassordToken = await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.resetPassordToken.findUnique({\n            where: {\n                token\n            },\n            include: {\n                user: true\n            }\n        });\n        if (!resetPassordToken) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.ApiError)(\"tokenNotFound\", \"NOT_FOUND\");\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.resetPassordToken.delete({\n            where: {\n                identifier: resetPassordToken.identifier\n            }\n        });\n        if (resetPassordToken.expires < new Date()) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.ApiError)(\"tokenExpired\", \"BAD_REQUEST\");\n        if (resetPassordToken.user.role === _constants__WEBPACK_IMPORTED_MODULE_1__.rolesAsObject.admin && _lib_env__WEBPACK_IMPORTED_MODULE_4__.env.NEXT_PUBLIC_IS_DEMO === true) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.ApiError)(\"cannotResetAdminPasswordInDemoMode\", \"BAD_REQUEST\");\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_8__.prisma.user.update({\n            where: {\n                id: resetPassordToken.user.id\n            },\n            data: {\n                password: await (0,_lib_bcrypt__WEBPACK_IMPORTED_MODULE_3__.hash)(password, 12)\n            }\n        });\n        const data = {\n            success: true\n        };\n        return data;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_9__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkIsT0FBT3JELHVFQUFjQSxDQUFDcUQ7SUFDeEI7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS9tZS9wYXNzd29yZC9tdXRhdGlvbnMudHM/OWM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7IGZvcmdvdFBhc3N3b3JkU2NoZW1hLCByZXNldFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEsIHJlc2V0UGFzc3dvcmRTY2hlbWEgfSBmcm9tIFwiQC9hcGkvbWUvc2NoZW1hc1wiXG5pbXBvcnQgeyByZXNlbmRSZXNldFBhc3N3b3JkRXhwaXJhdGlvbiwgcmVzZXRQYXNzd29yZEV4cGlyYXRpb24sIHJvbGVzQXNPYmplY3QgfSBmcm9tIFwiQC9jb25zdGFudHNcIlxuaW1wb3J0IHsgbG9nb1VybCB9IGZyb20gXCJAL2NvbnN0YW50cy9tZWRpYXNcIlxuaW1wb3J0IHsgaGFzaCB9IGZyb20gXCJAL2xpYi9iY3J5cHRcIlxuaW1wb3J0IHsgZW52IH0gZnJvbSBcIkAvbGliL2VudlwiXG5pbXBvcnQgeyBpMThuLCBMb2NhbGUgfSBmcm9tIFwiQC9saWIvaTE4bi1jb25maWdcIlxuaW1wb3J0IHsgX2dldERpY3Rpb25hcnkgfSBmcm9tIFwiQC9saWIvbGFuZ3NcIlxuaW1wb3J0IHsgc2VuZE1haWwgfSBmcm9tIFwiQC9saWIvbWFpbGVyXCJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAL2xpYi9wcmlzbWFcIlxuaW1wb3J0IHsgQXBpRXJyb3IsIGhhbmRsZUFwaUVycm9yIH0gZnJvbSBcIkAvbGliL3V0aWxzL3NlcnZlci11dGlsc1wiXG5pbXBvcnQgeyBhcGlJbnB1dEZyb21TY2hlbWEgfSBmcm9tIFwiQC90eXBlc1wiXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQGVsYW4vbGliXCJcbmltcG9ydCBSZXNldFBhc3N3b3JkRW1haWwgZnJvbSBcIkBlbGFuL3RyYW5zYWN0aW9uYWwvZW1haWxzL3Jlc2V0LXBhc3N3b3JkXCJcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gXCJAcmVhY3QtZW1haWwvcmVuZGVyXCJcblxuZXhwb3J0IGNvbnN0IGZvcmdvdFBhc3N3b3JkID0gYXN5bmMgKHsgaW5wdXQgfTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiBmb3Jnb3RQYXNzd29yZFNjaGVtYT4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVtYWlsIH0gPSBpbnB1dFxuICAgIC8vPyBDaGVjayBpZiB1c2VyIGV4aXN0c1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgfSxcbiAgICB9KVxuICAgIC8vIGlmICghdXNlcikgcmV0dXJuIEFwaUVycm9yKFwidXNlck5vdEZvdW5kXCIsIFwiTk9UX0ZPVU5EXCIpXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBsb2dnZXIuZGVidWcoXCJVc2VyIG5vdCBmb3VuZFwiKVxuICAgICAgcmV0dXJuIHsgZW1haWwgfVxuICAgIH1cbiAgICBpZiAoIXVzZXIuaGFzUGFzc3dvcmQpIHJldHVybiBBcGlFcnJvcihcInVzZXJEb2VzTm90SGF2ZUFQYXNzd29yZFwiLCBcIkJBRF9SRVFVRVNUXCIpXG5cbiAgICBjb25zdCByZXNldFBhc3NvcmRUb2tlbiA9IGF3YWl0IHByaXNtYS5yZXNldFBhc3NvcmRUb2tlbi5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWRlbnRpZmllcjogdXNlci5pZCxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIC8vPyBUb28gcmVjZW50XG4gICAgaWYgKHJlc2V0UGFzc29yZFRva2VuICYmIHJlc2V0UGFzc29yZFRva2VuLmNyZWF0ZWRBdCA+IG5ldyBEYXRlKERhdGUubm93KCkgLSByZXNlbmRSZXNldFBhc3N3b3JkRXhwaXJhdGlvbikpIHtcbiAgICAgIHJldHVybiBBcGlFcnJvcihcImVtYWlsQWxyZWFkeVNlbnRQbGVhc2VUcnlBZ2FpbkluRmV3TWludXRlc1wiLCBcIkJBRF9SRVFVRVNUXCIpXG4gICAgfVxuXG4gICAgaWYgKHJlc2V0UGFzc29yZFRva2VuKSB7XG4gICAgICBhd2FpdCBwcmlzbWEucmVzZXRQYXNzb3JkVG9rZW4uZGVsZXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZGVudGlmaWVyOiByZXNldFBhc3NvcmRUb2tlbi5pZGVudGlmaWVyLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCByZXNldFBhc3N3b3JkVG9rZW4gPSByYW5kb21VVUlEKClcbiAgICBhd2FpdCBwcmlzbWEucmVzZXRQYXNzb3JkVG9rZW4uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdG9rZW46IHJlc2V0UGFzc3dvcmRUb2tlbixcbiAgICAgICAgZXhwaXJlczogbmV3IERhdGUoRGF0ZS5ub3coKSArIHJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uKSxcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIGNvbm5lY3Q6IHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBjb25zdCByZXNldExpbmsgPSBgJHtlbnYuVkVSQ0VMX1VSTCA/PyBlbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkx9L3Jlc2V0LXBhc3N3b3JkLyR7cmVzZXRQYXNzd29yZFRva2VufWBcbiAgICBjb25zdCBsb2NhbGUgPSAodXNlci5sYXN0TG9jYWxlIGFzIExvY2FsZSkgPz8gaTE4bi5kZWZhdWx0TG9jYWxlXG4gICAgY29uc3QgbWFpbERpY3QgPSBhd2FpdCBfZ2V0RGljdGlvbmFyeShcInRyYW5zYWN0aW9uYWxzXCIsIGxvY2FsZSwge1xuICAgICAgZm9vdGVyOiB0cnVlLFxuICAgICAgcmVzZXRQYXNzd29yZFJlcXVlc3Q6IHRydWUsXG4gICAgICByZXNldFlvdXJQYXNzd29yZDogdHJ1ZSxcbiAgICAgIHJlc2V0UGFzc3dvcmREZXNjcmlwdGlvbjogdHJ1ZSxcbiAgICAgIGhleTogdHJ1ZSxcbiAgICB9KVxuICAgIGNvbnN0IGVsZW1lbnQgPSBSZXNldFBhc3N3b3JkRW1haWwoe1xuICAgICAgZm9vdGVyVGV4dDogbWFpbERpY3QuZm9vdGVyLFxuICAgICAgbG9nb1VybDogbG9nb1VybCxcbiAgICAgIGFjdGlvblRleHQ6IG1haWxEaWN0LnJlc2V0WW91clBhc3N3b3JkLFxuICAgICAgY29udGVudFRpdGxlOiBtYWlsRGljdC5yZXNldFBhc3N3b3JkRGVzY3JpcHRpb24sXG4gICAgICBoZXlUZXh0OiBtYWlsRGljdC5oZXksXG4gICAgICBuYW1lOiB1c2VyLm5hbWUgPz8gXCJcIixcbiAgICAgIHByZXZpZXdUZXh0OiBtYWlsRGljdC5yZXNldFBhc3N3b3JkUmVxdWVzdCxcbiAgICAgIHJlc2V0TGluayxcbiAgICAgIHN1cHBvcnRFbWFpbDogZW52LlNVUFBPUlRfRU1BSUwgPz8gXCJcIixcbiAgICAgIHRpdGxlVGV4dDogbWFpbERpY3QucmVzZXRZb3VyUGFzc3dvcmQsXG4gICAgfSlcbiAgICBjb25zdCB0ZXh0ID0gcmVuZGVyKGVsZW1lbnQsIHtcbiAgICAgIHBsYWluVGV4dDogdHJ1ZSxcbiAgICB9KVxuICAgIGNvbnN0IGh0bWwgPSByZW5kZXIoZWxlbWVudClcbiAgICBhd2FpdCBzZW5kTWFpbCh7XG4gICAgICB0bzogZW1haWwsXG4gICAgICBzdWJqZWN0OiBtYWlsRGljdC5yZXNldFlvdXJQYXNzd29yZCxcbiAgICAgIHRleHQsXG4gICAgICBodG1sLFxuICAgIH0pXG5cbiAgICByZXR1cm4geyBlbWFpbCB9XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgcmV0dXJuIGhhbmRsZUFwaUVycm9yKGVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZXNldFBhc3N3b3JkID0gYXN5bmMgKHsgaW5wdXQgfTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiByZXNldFBhc3N3b3JkU2NoZW1hPikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdG9rZW4sIHBhc3N3b3JkIH0gPSBpbnB1dFxuICAgIGNvbnN0IHJlc2V0UGFzc29yZFRva2VuID0gYXdhaXQgcHJpc21hLnJlc2V0UGFzc29yZFRva2VuLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgdG9rZW4sXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICghcmVzZXRQYXNzb3JkVG9rZW4pIHJldHVybiBBcGlFcnJvcihcInRva2VuTm90Rm91bmRcIiwgXCJOT1RfRk9VTkRcIilcbiAgICBhd2FpdCBwcmlzbWEucmVzZXRQYXNzb3JkVG9rZW4uZGVsZXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkZW50aWZpZXI6IHJlc2V0UGFzc29yZFRva2VuLmlkZW50aWZpZXIsXG4gICAgICB9LFxuICAgIH0pXG4gICAgaWYgKHJlc2V0UGFzc29yZFRva2VuLmV4cGlyZXMgPCBuZXcgRGF0ZSgpKSByZXR1cm4gQXBpRXJyb3IoXCJ0b2tlbkV4cGlyZWRcIiwgXCJCQURfUkVRVUVTVFwiKVxuXG4gICAgaWYgKHJlc2V0UGFzc29yZFRva2VuLnVzZXIucm9sZSA9PT0gcm9sZXNBc09iamVjdC5hZG1pbiAmJiBlbnYuTkVYVF9QVUJMSUNfSVNfREVNTyA9PT0gdHJ1ZSlcbiAgICAgIHJldHVybiBBcGlFcnJvcihcImNhbm5vdFJlc2V0QWRtaW5QYXNzd29yZEluRGVtb01vZGVcIiwgXCJCQURfUkVRVUVTVFwiKVxuXG4gICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiByZXNldFBhc3NvcmRUb2tlbi51c2VyLmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcGFzc3dvcmQ6IGF3YWl0IGhhc2gocGFzc3dvcmQsIDEyKSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIGNvbnN0IGRhdGE6IHouaW5mZXI8UmV0dXJuVHlwZTx0eXBlb2YgcmVzZXRQYXNzd29yZFJlc3BvbnNlU2NoZW1hPj4gPSB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgcmV0dXJuIGhhbmRsZUFwaUVycm9yKGVycm9yKVxuICB9XG59XG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsInJlc2VuZFJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uIiwicmVzZXRQYXNzd29yZEV4cGlyYXRpb24iLCJyb2xlc0FzT2JqZWN0IiwibG9nb1VybCIsImhhc2giLCJlbnYiLCJpMThuIiwiX2dldERpY3Rpb25hcnkiLCJzZW5kTWFpbCIsInByaXNtYSIsIkFwaUVycm9yIiwiaGFuZGxlQXBpRXJyb3IiLCJsb2dnZXIiLCJSZXNldFBhc3N3b3JkRW1haWwiLCJyZW5kZXIiLCJmb3Jnb3RQYXNzd29yZCIsImlucHV0IiwiZW1haWwiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZGVidWciLCJoYXNQYXNzd29yZCIsInJlc2V0UGFzc29yZFRva2VuIiwiZmluZEZpcnN0IiwiaWRlbnRpZmllciIsImlkIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsImRlbGV0ZSIsInJlc2V0UGFzc3dvcmRUb2tlbiIsImNyZWF0ZSIsImRhdGEiLCJ0b2tlbiIsImV4cGlyZXMiLCJjb25uZWN0IiwicmVzZXRMaW5rIiwiVkVSQ0VMX1VSTCIsIk5FWFRfUFVCTElDX0JBU0VfVVJMIiwibG9jYWxlIiwibGFzdExvY2FsZSIsImRlZmF1bHRMb2NhbGUiLCJtYWlsRGljdCIsImZvb3RlciIsInJlc2V0UGFzc3dvcmRSZXF1ZXN0IiwicmVzZXRZb3VyUGFzc3dvcmQiLCJyZXNldFBhc3N3b3JkRGVzY3JpcHRpb24iLCJoZXkiLCJlbGVtZW50IiwiZm9vdGVyVGV4dCIsImFjdGlvblRleHQiLCJjb250ZW50VGl0bGUiLCJoZXlUZXh0IiwibmFtZSIsInByZXZpZXdUZXh0Iiwic3VwcG9ydEVtYWlsIiwiU1VQUE9SVF9FTUFJTCIsInRpdGxlVGV4dCIsInRleHQiLCJwbGFpblRleHQiLCJodG1sIiwidG8iLCJzdWJqZWN0IiwiZXJyb3IiLCJyZXNldFBhc3N3b3JkIiwicGFzc3dvcmQiLCJpbmNsdWRlIiwicm9sZSIsImFkbWluIiwiTkVYVF9QVUJMSUNfSVNfREVNTyIsInVwZGF0ZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/password/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/queries.ts":
/*!*******************************!*\
  !*** ./src/api/me/queries.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccount: () => (/* binding */ getAccount)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n\n\n\nconst getAccount = async ({ ctx: { session } })=>{\n    try {\n        (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.ensureLoggedIn)(session);\n        const account = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                id: session.user.id\n            },\n            include: {\n                profilePicture: true\n            }\n        });\n        if (!account) return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.ApiError)(\"unauthorized\", \"UNAUTHORIZED\");\n        const data = {\n            user: account\n        };\n        return data;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL21lL3F1ZXJpZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRXFDO0FBQ2M7QUFDc0I7QUFLbEUsTUFBTUksYUFBYSxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFLEVBQWlDO0lBQ2xGLElBQUk7UUFDRkosdUVBQWNBLENBQUNJO1FBRWYsTUFBTUMsVUFBVSxNQUFNUCwrQ0FBTUEsQ0FBQ1EsSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDM0NDLE9BQU87Z0JBQ0xDLElBQUlMLFFBQVFFLElBQUksQ0FBQ0csRUFBRTtZQUNyQjtZQUNBQyxTQUFTO2dCQUNQQyxnQkFBZ0I7WUFDbEI7UUFDRjtRQUNBLElBQUksQ0FBQ04sU0FBUyxPQUFPTixpRUFBUUEsQ0FBQyxnQkFBZ0I7UUFDOUMsTUFBTWEsT0FBNkQ7WUFBRU4sTUFBTUQ7UUFBUTtRQUNuRixPQUFPTztJQUNULEVBQUUsT0FBT0MsT0FBZ0I7UUFDdkIsT0FBT1osdUVBQWNBLENBQUNZO0lBQ3hCO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcGkvbWUvcXVlcmllcy50cz84NzNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiXG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gXCJAL2xpYi91dGlscy9zZXJ2ZXItdXRpbHNcIlxuaW1wb3J0IHsgZW5zdXJlTG9nZ2VkSW4sIGhhbmRsZUFwaUVycm9yIH0gZnJvbSBcIkAvbGliL3V0aWxzL3NlcnZlci11dGlsc1wiXG5pbXBvcnQgeyBhcGlJbnB1dEZyb21TY2hlbWEgfSBmcm9tIFwiQC90eXBlc1wiXG5cbmltcG9ydCB7IGdldEFjY291bnRSZXNwb25zZVNjaGVtYSB9IGZyb20gXCIuL3NjaGVtYXNcIlxuXG5leHBvcnQgY29uc3QgZ2V0QWNjb3VudCA9IGFzeW5jICh7IGN0eDogeyBzZXNzaW9uIH0gfTogYXBpSW5wdXRGcm9tU2NoZW1hPHVuZGVmaW5lZD4pID0+IHtcbiAgdHJ5IHtcbiAgICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuXG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IHNlc3Npb24udXNlci5pZCxcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHByb2ZpbGVQaWN0dXJlOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGlmICghYWNjb3VudCkgcmV0dXJuIEFwaUVycm9yKFwidW5hdXRob3JpemVkXCIsIFwiVU5BVVRIT1JJWkVEXCIpXG4gICAgY29uc3QgZGF0YTogei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBnZXRBY2NvdW50UmVzcG9uc2VTY2hlbWE+PiA9IHsgdXNlcjogYWNjb3VudCB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJBcGlFcnJvciIsImVuc3VyZUxvZ2dlZEluIiwiaGFuZGxlQXBpRXJyb3IiLCJnZXRBY2NvdW50IiwiY3R4Iiwic2Vzc2lvbiIsImFjY291bnQiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJpbmNsdWRlIiwicHJvZmlsZVBpY3R1cmUiLCJkYXRhIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/queries.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/schemas.ts":
/*!*******************************!*\
  !*** ./src/api/me/schemas.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteAccountResponseSchema: () => (/* binding */ deleteAccountResponseSchema),\n/* harmony export */   deleteSessionResponseSchema: () => (/* binding */ deleteSessionResponseSchema),\n/* harmony export */   deleteSessionSchema: () => (/* binding */ deleteSessionSchema),\n/* harmony export */   forgotPasswordResponseSchema: () => (/* binding */ forgotPasswordResponseSchema),\n/* harmony export */   forgotPasswordSchema: () => (/* binding */ forgotPasswordSchema),\n/* harmony export */   forgotPasswordSchemaDr: () => (/* binding */ forgotPasswordSchemaDr),\n/* harmony export */   getAccountResponseSchema: () => (/* binding */ getAccountResponseSchema),\n/* harmony export */   getAccountResponseSchemaDr: () => (/* binding */ getAccountResponseSchemaDr),\n/* harmony export */   getActiveSessionsResponseSchema: () => (/* binding */ getActiveSessionsResponseSchema),\n/* harmony export */   getActiveSessionsSchema: () => (/* binding */ getActiveSessionsSchema),\n/* harmony export */   getActiveSessionsSchemaDr: () => (/* binding */ getActiveSessionsSchemaDr),\n/* harmony export */   resetPasswordResponseSchema: () => (/* binding */ resetPasswordResponseSchema),\n/* harmony export */   resetPasswordSchema: () => (/* binding */ resetPasswordSchema),\n/* harmony export */   resetPasswordSchemaDr: () => (/* binding */ resetPasswordSchemaDr),\n/* harmony export */   sendVerificationEmailResponseSchema: () => (/* binding */ sendVerificationEmailResponseSchema),\n/* harmony export */   sendVerificationEmailSchema: () => (/* binding */ sendVerificationEmailSchema),\n/* harmony export */   sendVerificationEmailSchemaDr: () => (/* binding */ sendVerificationEmailSchemaDr),\n/* harmony export */   sessionsSchema: () => (/* binding */ sessionsSchema),\n/* harmony export */   signUpResponseSchema: () => (/* binding */ signUpResponseSchema),\n/* harmony export */   signUpResponseSchemaDr: () => (/* binding */ signUpResponseSchemaDr),\n/* harmony export */   updateUserResponseSchema: () => (/* binding */ updateUserResponseSchema),\n/* harmony export */   updateUserSchema: () => (/* binding */ updateUserSchema),\n/* harmony export */   updateUserSchemaDr: () => (/* binding */ updateUserSchemaDr),\n/* harmony export */   userSchema: () => (/* binding */ userSchema),\n/* harmony export */   userSchemaDr: () => (/* binding */ userSchemaDr),\n/* harmony export */   verifyEmailResponseSchema: () => (/* binding */ verifyEmailResponseSchema),\n/* harmony export */   verifyEmailSchema: () => (/* binding */ verifyEmailSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _lib_queries_options__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/queries-options */ \"(rsc)/./src/lib/queries-options.ts\");\n/* harmony import */ var _lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/dictionary */ \"(rsc)/./src/lib/utils/dictionary.ts\");\n/* harmony import */ var _schemas_file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/schemas/file */ \"(rsc)/./src/schemas/file.ts\");\n/* harmony import */ var _auth_schemas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth/schemas */ \"(rsc)/./src/api/auth/schemas.ts\");\n\n\n\n\n\nconst userSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.usernameSchemaDr);\nconst userSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        name: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().nullable(),\n        email: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().nullable(),\n        emailVerified: zod__WEBPACK_IMPORTED_MODULE_4__.z.date().nullable(),\n        profilePicture: (0,_schemas_file__WEBPACK_IMPORTED_MODULE_2__.fileSchemaMinimal)().nullable(),\n        username: (0,_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.usernameSchema)(dictionary).nullable(),\n        role: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        hasPassword: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean(),\n        otpVerified: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean(),\n        lastLocale: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().nullable()\n    });\nconst updateUserSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.usernameSchemaDr);\nconst updateUserSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        username: (0,_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.usernameSchema)(dictionary).or(zod__WEBPACK_IMPORTED_MODULE_4__.z.literal(\"\")).optional(),\n        profilePictureKey: zod__WEBPACK_IMPORTED_MODULE_4__.z.string().optional().nullable()\n    });\nconst updateUserResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        user: userSchema()\n    });\nconst sessionsSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        sessionToken: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        userId: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        expires: zod__WEBPACK_IMPORTED_MODULE_4__.z.coerce.date(),\n        ua: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        ip: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        lastUsedAt: zod__WEBPACK_IMPORTED_MODULE_4__.z.coerce.date().nullable(),\n        createdAt: zod__WEBPACK_IMPORTED_MODULE_4__.z.coerce.date()\n    });\nconst getActiveSessionsSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_lib_queries_options__WEBPACK_IMPORTED_MODULE_0__.queriesOptionPageDr, _lib_queries_options__WEBPACK_IMPORTED_MODULE_0__.queriesOptionPerPageDr);\nconst getActiveSessionsSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        page: (0,_lib_queries_options__WEBPACK_IMPORTED_MODULE_0__.queriesOptionPage)(dictionary),\n        perPage: (0,_lib_queries_options__WEBPACK_IMPORTED_MODULE_0__.queriesOptionPerPage)(dictionary)\n    });\nconst getActiveSessionsResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        data: zod__WEBPACK_IMPORTED_MODULE_4__.z.array(sessionsSchema()).optional(),\n        meta: zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n            total: zod__WEBPACK_IMPORTED_MODULE_4__.z.number(),\n            page: zod__WEBPACK_IMPORTED_MODULE_4__.z.number(),\n            perPage: zod__WEBPACK_IMPORTED_MODULE_4__.z.number(),\n            totalPages: zod__WEBPACK_IMPORTED_MODULE_4__.z.number()\n        })\n    });\nconst deleteSessionSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    });\nconst deleteSessionResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    });\nconst getAccountResponseSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.usernameSchemaDr);\nconst getAccountResponseSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        user: userSchema(dictionary)\n    });\nconst deleteAccountResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        user: zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n            id: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n        })\n    });\nconst forgotPasswordSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.emailSchemaDr);\nconst forgotPasswordSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        email: (0,_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.emailSchema)(dictionary)\n    });\nconst forgotPasswordResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        email: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    });\nconst resetPasswordSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        passwordsDoNotMatch: true\n    }\n}, _auth_schemas__WEBPACK_IMPORTED_MODULE_3__.passwordSchemaWithRegexDr);\nconst resetPasswordSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        token: zod__WEBPACK_IMPORTED_MODULE_4__.z.string(),\n        password: (0,_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.passwordSchemaWithRegex)(dictionary),\n        passwordConfirmation: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    }).refine((data)=>data.password === data.passwordConfirmation, {\n        message: dictionary?.errors.passwordsDoNotMatch ?? \"Passwords do not match\",\n        path: [\n            \"passwordConfirmation\"\n        ]\n    });\nconst resetPasswordResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean()\n    });\nconst sendVerificationEmailSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.emailSchemaDr, userSchemaDr);\nconst sendVerificationEmailSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        user: userSchema(dictionary).pick({\n            id: true,\n            emailVerified: true,\n            lastLocale: true,\n            email: true,\n            name: true\n        }),\n        silent: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean().optional(),\n        email: zod__WEBPACK_IMPORTED_MODULE_4__.z.never().optional()\n    }).or(zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        email: (0,_auth_schemas__WEBPACK_IMPORTED_MODULE_3__.emailSchema)(dictionary),\n        silent: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean().optional(),\n        user: zod__WEBPACK_IMPORTED_MODULE_4__.z.never().optional()\n    }));\nconst sendVerificationEmailResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        email: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    });\nconst verifyEmailSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        token: zod__WEBPACK_IMPORTED_MODULE_4__.z.string()\n    });\nconst verifyEmailResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        success: zod__WEBPACK_IMPORTED_MODULE_4__.z.boolean()\n    });\nconst signUpResponseSchemaDr = (0,_lib_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)(userSchemaDr);\nconst signUpResponseSchema = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_4__.z.object({\n        user: userSchema(dictionary)\n    });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGtDQUFDQSxDQUFDa0IsTUFBTTtJQUNqQixHQUFFO0FBRUcsTUFBTW9FLDRCQUE0QixJQUN2Q3RGLGtDQUFDQSxDQUFDZ0IsTUFBTSxDQUFDO1FBQ1A4RCxTQUFTOUUsa0NBQUNBLENBQUM0QixPQUFPO0lBQ3BCLEdBQUU7QUFFRyxNQUFNMkQseUJBQXlCbEYsNkVBQXNCQSxDQUFDUSxjQUFhO0FBQ25FLE1BQU0yRSx1QkFBdUIsQ0FBQ3pFLGFBQ25DZixrQ0FBQ0EsQ0FBQ2dCLE1BQU0sQ0FBQztRQUNQc0IsTUFBTXhCLFdBQVdDO0lBQ25CLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvYXBpL21lL3NjaGVtYXMudHM/ODFmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7XG4gIHF1ZXJpZXNPcHRpb25QYWdlLFxuICBxdWVyaWVzT3B0aW9uUGFnZURyLFxuICBxdWVyaWVzT3B0aW9uUGVyUGFnZSxcbiAgcXVlcmllc09wdGlvblBlclBhZ2VEcixcbn0gZnJvbSBcIkAvbGliL3F1ZXJpZXMtb3B0aW9uc1wiXG5pbXBvcnQgeyBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzIH0gZnJvbSBcIkAvbGliL3V0aWxzL2RpY3Rpb25hcnlcIlxuaW1wb3J0IHsgZmlsZVNjaGVtYU1pbmltYWwgfSBmcm9tIFwiQC9zY2hlbWFzL2ZpbGVcIlxuXG5pbXBvcnQgeyBURGljdGlvbmFyeSB9IGZyb20gXCIuLi8uLi9saWIvbGFuZ3NcIlxuaW1wb3J0IHtcbiAgZW1haWxTY2hlbWEsXG4gIGVtYWlsU2NoZW1hRHIsXG4gIHBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4LFxuICBwYXNzd29yZFNjaGVtYVdpdGhSZWdleERyLFxuICB1c2VybmFtZVNjaGVtYSxcbiAgdXNlcm5hbWVTY2hlbWFEcixcbn0gZnJvbSBcIi4uL2F1dGgvc2NoZW1hc1wiXG5cbmV4cG9ydCBjb25zdCB1c2VyU2NoZW1hRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKHVzZXJuYW1lU2NoZW1hRHIpXG5leHBvcnQgY29uc3QgdXNlclNjaGVtYSA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIHVzZXJTY2hlbWFEcj4pID0+XG4gIHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgZW1haWw6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBlbWFpbFZlcmlmaWVkOiB6LmRhdGUoKS5udWxsYWJsZSgpLFxuICAgIHByb2ZpbGVQaWN0dXJlOiBmaWxlU2NoZW1hTWluaW1hbCgpLm51bGxhYmxlKCksXG4gICAgdXNlcm5hbWU6IHVzZXJuYW1lU2NoZW1hKGRpY3Rpb25hcnkpLm51bGxhYmxlKCksXG4gICAgcm9sZTogei5zdHJpbmcoKSxcbiAgICBoYXNQYXNzd29yZDogei5ib29sZWFuKCksXG4gICAgb3RwVmVyaWZpZWQ6IHouYm9vbGVhbigpLFxuICAgIGxhc3RMb2NhbGU6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXJTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHModXNlcm5hbWVTY2hlbWFEcilcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2YgdXBkYXRlVXNlclNjaGVtYURyPikgPT5cbiAgei5vYmplY3Qoe1xuICAgIHVzZXJuYW1lOiB1c2VybmFtZVNjaGVtYShkaWN0aW9uYXJ5KS5vcih6LmxpdGVyYWwoXCJcIikpLm9wdGlvbmFsKCksXG4gICAgcHJvZmlsZVBpY3R1cmVLZXk6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICB9KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIHVzZXI6IHVzZXJTY2hlbWEoKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHNlc3Npb25zU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIHNlc3Npb25Ub2tlbjogei5zdHJpbmcoKSxcbiAgICB1c2VySWQ6IHouc3RyaW5nKCksXG4gICAgZXhwaXJlczogei5jb2VyY2UuZGF0ZSgpLFxuICAgIHVhOiB6LnN0cmluZygpLFxuICAgIGlwOiB6LnN0cmluZygpLFxuICAgIGxhc3RVc2VkQXQ6IHouY29lcmNlLmRhdGUoKS5udWxsYWJsZSgpLFxuICAgIGNyZWF0ZWRBdDogei5jb2VyY2UuZGF0ZSgpLFxuICB9KVxuXG5leHBvcnQgY29uc3QgZ2V0QWN0aXZlU2Vzc2lvbnNTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMocXVlcmllc09wdGlvblBhZ2VEciwgcXVlcmllc09wdGlvblBlclBhZ2VEcilcbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVTZXNzaW9uc1NjaGVtYSA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIGdldEFjdGl2ZVNlc3Npb25zU2NoZW1hRHI+KSA9PlxuICB6Lm9iamVjdCh7XG4gICAgcGFnZTogcXVlcmllc09wdGlvblBhZ2UoZGljdGlvbmFyeSksXG4gICAgcGVyUGFnZTogcXVlcmllc09wdGlvblBlclBhZ2UoZGljdGlvbmFyeSksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVTZXNzaW9uc1Jlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIGRhdGE6IHouYXJyYXkoc2Vzc2lvbnNTY2hlbWEoKSkub3B0aW9uYWwoKSxcbiAgICBtZXRhOiB6Lm9iamVjdCh7XG4gICAgICB0b3RhbDogei5udW1iZXIoKSxcbiAgICAgIHBhZ2U6IHoubnVtYmVyKCksXG4gICAgICBwZXJQYWdlOiB6Lm51bWJlcigpLFxuICAgICAgdG90YWxQYWdlczogei5udW1iZXIoKSxcbiAgICB9KSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVNlc3Npb25TY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBkZWxldGVTZXNzaW9uUmVzcG9uc2VTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBnZXRBY2NvdW50UmVzcG9uc2VTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHModXNlcm5hbWVTY2hlbWFEcilcbmV4cG9ydCBjb25zdCBnZXRBY2NvdW50UmVzcG9uc2VTY2hlbWEgPSAoZGljdGlvbmFyeT86IFREaWN0aW9uYXJ5PHR5cGVvZiBnZXRBY2NvdW50UmVzcG9uc2VTY2hlbWFEcj4pID0+XG4gIHoub2JqZWN0KHtcbiAgICB1c2VyOiB1c2VyU2NoZW1hKGRpY3Rpb25hcnkpLFxuICB9KVxuXG5leHBvcnQgY29uc3QgZGVsZXRlQWNjb3VudFJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIHVzZXI6IHoub2JqZWN0KHtcbiAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICB9KVxuXG5leHBvcnQgY29uc3QgZm9yZ290UGFzc3dvcmRTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMoZW1haWxTY2hlbWFEcilcbmV4cG9ydCBjb25zdCBmb3Jnb3RQYXNzd29yZFNjaGVtYSA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIGZvcmdvdFBhc3N3b3JkU2NoZW1hRHI+KSA9PlxuICB6Lm9iamVjdCh7XG4gICAgZW1haWw6IGVtYWlsU2NoZW1hKGRpY3Rpb25hcnkpLFxuICB9KVxuXG5leHBvcnQgY29uc3QgZm9yZ290UGFzc3dvcmRSZXNwb25zZVNjaGVtYSA9ICgpID0+XG4gIHoub2JqZWN0KHtcbiAgICBlbWFpbDogei5zdHJpbmcoKSxcbiAgfSlcblxuZXhwb3J0IGNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHMoXG4gIHtcbiAgICBlcnJvcnM6IHtcbiAgICAgIHBhc3N3b3Jkc0RvTm90TWF0Y2g6IHRydWUsXG4gICAgfSxcbiAgfSxcbiAgcGFzc3dvcmRTY2hlbWFXaXRoUmVnZXhEclxuKVxuZXhwb3J0IGNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWEgPSAoZGljdGlvbmFyeT86IFREaWN0aW9uYXJ5PHR5cGVvZiByZXNldFBhc3N3b3JkU2NoZW1hRHI+KSA9PlxuICB6XG4gICAgLm9iamVjdCh7XG4gICAgICB0b2tlbjogei5zdHJpbmcoKSxcbiAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFNjaGVtYVdpdGhSZWdleChkaWN0aW9uYXJ5KSxcbiAgICAgIHBhc3N3b3JkQ29uZmlybWF0aW9uOiB6LnN0cmluZygpLFxuICAgIH0pXG4gICAgLnJlZmluZSgoZGF0YSkgPT4gZGF0YS5wYXNzd29yZCA9PT0gZGF0YS5wYXNzd29yZENvbmZpcm1hdGlvbiwge1xuICAgICAgbWVzc2FnZTogZGljdGlvbmFyeT8uZXJyb3JzLnBhc3N3b3Jkc0RvTm90TWF0Y2ggPz8gXCJQYXNzd29yZHMgZG8gbm90IG1hdGNoXCIsXG4gICAgICBwYXRoOiBbXCJwYXNzd29yZENvbmZpcm1hdGlvblwiXSxcbiAgICB9KVxuXG5leHBvcnQgY29uc3QgcmVzZXRQYXNzd29yZFJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICB9KVxuXG5leHBvcnQgY29uc3Qgc2VuZFZlcmlmaWNhdGlvbkVtYWlsU2NoZW1hRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKGVtYWlsU2NoZW1hRHIsIHVzZXJTY2hlbWFEcilcbmV4cG9ydCBjb25zdCBzZW5kVmVyaWZpY2F0aW9uRW1haWxTY2hlbWEgPSAoZGljdGlvbmFyeT86IFREaWN0aW9uYXJ5PHR5cGVvZiBzZW5kVmVyaWZpY2F0aW9uRW1haWxTY2hlbWFEcj4pID0+XG4gIHpcbiAgICAub2JqZWN0KHtcbiAgICAgIHVzZXI6IHVzZXJTY2hlbWEoZGljdGlvbmFyeSkucGljayh7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICBlbWFpbFZlcmlmaWVkOiB0cnVlLFxuICAgICAgICBsYXN0TG9jYWxlOiB0cnVlLFxuICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgc2lsZW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgZW1haWw6IHoubmV2ZXIoKS5vcHRpb25hbCgpLFxuICAgIH0pXG4gICAgLm9yKFxuICAgICAgei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogZW1haWxTY2hlbWEoZGljdGlvbmFyeSksXG4gICAgICAgIHNpbGVudDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdXNlcjogei5uZXZlcigpLm9wdGlvbmFsKCksXG4gICAgICB9KVxuICAgIClcblxuZXhwb3J0IGNvbnN0IHNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIGVtYWlsOiB6LnN0cmluZygpLFxuICB9KVxuXG5leHBvcnQgY29uc3QgdmVyaWZ5RW1haWxTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgdG9rZW46IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlFbWFpbFJlc3BvbnNlU2NoZW1hID0gKCkgPT5cbiAgei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICB9KVxuXG5leHBvcnQgY29uc3Qgc2lnblVwUmVzcG9uc2VTY2hlbWFEciA9IGRpY3Rpb25hcnlSZXF1aXJlbWVudHModXNlclNjaGVtYURyKVxuZXhwb3J0IGNvbnN0IHNpZ25VcFJlc3BvbnNlU2NoZW1hID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2Ygc2lnblVwUmVzcG9uc2VTY2hlbWFEcj4pID0+XG4gIHoub2JqZWN0KHtcbiAgICB1c2VyOiB1c2VyU2NoZW1hKGRpY3Rpb25hcnkpLFxuICB9KVxuIl0sIm5hbWVzIjpbInoiLCJxdWVyaWVzT3B0aW9uUGFnZSIsInF1ZXJpZXNPcHRpb25QYWdlRHIiLCJxdWVyaWVzT3B0aW9uUGVyUGFnZSIsInF1ZXJpZXNPcHRpb25QZXJQYWdlRHIiLCJkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzIiwiZmlsZVNjaGVtYU1pbmltYWwiLCJlbWFpbFNjaGVtYSIsImVtYWlsU2NoZW1hRHIiLCJwYXNzd29yZFNjaGVtYVdpdGhSZWdleCIsInBhc3N3b3JkU2NoZW1hV2l0aFJlZ2V4RHIiLCJ1c2VybmFtZVNjaGVtYSIsInVzZXJuYW1lU2NoZW1hRHIiLCJ1c2VyU2NoZW1hRHIiLCJ1c2VyU2NoZW1hIiwiZGljdGlvbmFyeSIsIm9iamVjdCIsImlkIiwic3RyaW5nIiwibmFtZSIsIm51bGxhYmxlIiwiZW1haWwiLCJlbWFpbFZlcmlmaWVkIiwiZGF0ZSIsInByb2ZpbGVQaWN0dXJlIiwidXNlcm5hbWUiLCJyb2xlIiwiaGFzUGFzc3dvcmQiLCJib29sZWFuIiwib3RwVmVyaWZpZWQiLCJsYXN0TG9jYWxlIiwidXBkYXRlVXNlclNjaGVtYURyIiwidXBkYXRlVXNlclNjaGVtYSIsIm9yIiwibGl0ZXJhbCIsIm9wdGlvbmFsIiwicHJvZmlsZVBpY3R1cmVLZXkiLCJ1cGRhdGVVc2VyUmVzcG9uc2VTY2hlbWEiLCJ1c2VyIiwic2Vzc2lvbnNTY2hlbWEiLCJzZXNzaW9uVG9rZW4iLCJ1c2VySWQiLCJleHBpcmVzIiwiY29lcmNlIiwidWEiLCJpcCIsImxhc3RVc2VkQXQiLCJjcmVhdGVkQXQiLCJnZXRBY3RpdmVTZXNzaW9uc1NjaGVtYURyIiwiZ2V0QWN0aXZlU2Vzc2lvbnNTY2hlbWEiLCJwYWdlIiwicGVyUGFnZSIsImdldEFjdGl2ZVNlc3Npb25zUmVzcG9uc2VTY2hlbWEiLCJkYXRhIiwiYXJyYXkiLCJtZXRhIiwidG90YWwiLCJudW1iZXIiLCJ0b3RhbFBhZ2VzIiwiZGVsZXRlU2Vzc2lvblNjaGVtYSIsImRlbGV0ZVNlc3Npb25SZXNwb25zZVNjaGVtYSIsImdldEFjY291bnRSZXNwb25zZVNjaGVtYURyIiwiZ2V0QWNjb3VudFJlc3BvbnNlU2NoZW1hIiwiZGVsZXRlQWNjb3VudFJlc3BvbnNlU2NoZW1hIiwiZm9yZ290UGFzc3dvcmRTY2hlbWFEciIsImZvcmdvdFBhc3N3b3JkU2NoZW1hIiwiZm9yZ290UGFzc3dvcmRSZXNwb25zZVNjaGVtYSIsInJlc2V0UGFzc3dvcmRTY2hlbWFEciIsImVycm9ycyIsInBhc3N3b3Jkc0RvTm90TWF0Y2giLCJyZXNldFBhc3N3b3JkU2NoZW1hIiwidG9rZW4iLCJwYXNzd29yZCIsInBhc3N3b3JkQ29uZmlybWF0aW9uIiwicmVmaW5lIiwibWVzc2FnZSIsInBhdGgiLCJyZXNldFBhc3N3b3JkUmVzcG9uc2VTY2hlbWEiLCJzdWNjZXNzIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsU2NoZW1hRHIiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWxTY2hlbWEiLCJwaWNrIiwic2lsZW50IiwibmV2ZXIiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWxSZXNwb25zZVNjaGVtYSIsInZlcmlmeUVtYWlsU2NoZW1hIiwidmVyaWZ5RW1haWxSZXNwb25zZVNjaGVtYSIsInNpZ25VcFJlc3BvbnNlU2NoZW1hRHIiLCJzaWduVXBSZXNwb25zZVNjaGVtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/sessions/mutations.ts":
/*!******************************************!*\
  !*** ./src/api/me/sessions/mutations.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession)\n/* harmony export */ });\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n\n\nconst deleteSession = async ({ input, ctx: { session } })=>{\n    try {\n        (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.ensureLoggedIn)(session);\n        const { id } = input;\n        //* Delete session\n        await _lib_redis__WEBPACK_IMPORTED_MODULE_0__.redis.del(`session:${session.user.id}:${id}`);\n        return {\n            id\n        };\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL21lL3Nlc3Npb25zL211dGF0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDbUM7QUFDc0M7QUFHbEUsTUFBTUcsZ0JBQWdCLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxFQUFrRDtJQUM3RyxJQUFJO1FBQ0ZMLHVFQUFjQSxDQUFDSztRQUNmLE1BQU0sRUFBRUMsRUFBRSxFQUFFLEdBQUdIO1FBQ2Ysa0JBQWtCO1FBQ2xCLE1BQU1KLDZDQUFLQSxDQUFDUSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUVGLFFBQVFHLElBQUksQ0FBQ0YsRUFBRSxDQUFDLENBQUMsRUFBRUEsR0FBRyxDQUFDO1FBRWxELE9BQU87WUFBRUE7UUFBRztJQUNkLEVBQUUsT0FBT0csT0FBZ0I7UUFDdkIsT0FBT1IsdUVBQWNBLENBQUNRO0lBQ3hCO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcGkvbWUvc2Vzc2lvbnMvbXV0YXRpb25zLnRzPzUzODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVsZXRlU2Vzc2lvblNjaGVtYSB9IGZyb20gXCJAL2FwaS9tZS9zY2hlbWFzXCJcbmltcG9ydCB7IHJlZGlzIH0gZnJvbSBcIkAvbGliL3JlZGlzXCJcbmltcG9ydCB7IGVuc3VyZUxvZ2dlZEluLCBoYW5kbGVBcGlFcnJvciB9IGZyb20gXCJAL2xpYi91dGlscy9zZXJ2ZXItdXRpbHNcIlxuaW1wb3J0IHsgYXBpSW5wdXRGcm9tU2NoZW1hIH0gZnJvbSBcIkAvdHlwZXNcIlxuXG5leHBvcnQgY29uc3QgZGVsZXRlU2Vzc2lvbiA9IGFzeW5jICh7IGlucHV0LCBjdHg6IHsgc2Vzc2lvbiB9IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgZGVsZXRlU2Vzc2lvblNjaGVtYT4pID0+IHtcbiAgdHJ5IHtcbiAgICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuICAgIGNvbnN0IHsgaWQgfSA9IGlucHV0XG4gICAgLy8qIERlbGV0ZSBzZXNzaW9uXG4gICAgYXdhaXQgcmVkaXMuZGVsKGBzZXNzaW9uOiR7c2Vzc2lvbi51c2VyLmlkfToke2lkfWApXG5cbiAgICByZXR1cm4geyBpZCB9XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgcmV0dXJuIGhhbmRsZUFwaUVycm9yKGVycm9yKVxuICB9XG59XG4iXSwibmFtZXMiOlsicmVkaXMiLCJlbnN1cmVMb2dnZWRJbiIsImhhbmRsZUFwaUVycm9yIiwiZGVsZXRlU2Vzc2lvbiIsImlucHV0IiwiY3R4Iiwic2Vzc2lvbiIsImlkIiwiZGVsIiwidXNlciIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/sessions/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/me/sessions/queries.ts":
/*!****************************************!*\
  !*** ./src/api/me/sessions/queries.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveSessions: () => (/* binding */ getActiveSessions)\n/* harmony export */ });\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n\n\nconst getActiveSessions = async ({ input, ctx: { session } })=>{\n    try {\n        (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.ensureLoggedIn)(session);\n        const { page, perPage } = input;\n        const skip = (page - 1) * perPage;\n        const take = perPage;\n        const allSessionsKeys = await _lib_redis__WEBPACK_IMPORTED_MODULE_0__.redis.keys(`session:${session.user.id}:*`);\n        const allSessions = allSessionsKeys.length > 0 ? await _lib_redis__WEBPACK_IMPORTED_MODULE_0__.redis.mget(allSessionsKeys) : [];\n        const activeSessions = allSessions.filter((s)=>s).map((s)=>JSON.parse(s)).sort((a, b)=>{\n            if (!a.lastUsedAt) return -1;\n            if (!b.lastUsedAt) return 1;\n            return a.lastUsedAt > b.lastUsedAt ? -1 : 1;\n        }).slice(skip, skip + take);\n        const total = (await _lib_redis__WEBPACK_IMPORTED_MODULE_0__.redis.keys(`session:${session.user.id}:*`)).length;\n        const response = {\n            data: activeSessions,\n            meta: {\n                total: activeSessions.length,\n                page: input?.page || 1,\n                perPage: take,\n                totalPages: Math.ceil(total / take)\n            }\n        };\n        return response;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_1__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL21lL3Nlc3Npb25zL3F1ZXJpZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR21DO0FBQ3NDO0FBR2xFLE1BQU1HLG9CQUFvQixPQUFPLEVBQ3RDQyxLQUFLLEVBQ0xDLEtBQUssRUFBRUMsT0FBTyxFQUFFLEVBQ21DO0lBQ25ELElBQUk7UUFDRkwsdUVBQWNBLENBQUNLO1FBRWYsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRSxHQUFHSjtRQUUxQixNQUFNSyxPQUFPLENBQUNGLE9BQU8sS0FBS0M7UUFDMUIsTUFBTUUsT0FBT0Y7UUFDYixNQUFNRyxrQkFBa0IsTUFBTVgsNkNBQUtBLENBQUNZLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRU4sUUFBUU8sSUFBSSxDQUFDQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ3ZFLE1BQU1DLGNBQWNKLGdCQUFnQkssTUFBTSxHQUFHLElBQUksTUFBTWhCLDZDQUFLQSxDQUFDaUIsSUFBSSxDQUFDTixtQkFBbUIsRUFBRTtRQUN2RixNQUFNTyxpQkFBaUJILFlBQ3BCSSxNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsR0FDZEMsR0FBRyxDQUFDLENBQUNELElBQU1FLEtBQUtDLEtBQUssQ0FBQ0gsSUFDdEJJLElBQUksQ0FBQyxDQUFDQyxHQUFHQztZQUNSLElBQUksQ0FBQ0QsRUFBRUUsVUFBVSxFQUFFLE9BQU8sQ0FBQztZQUMzQixJQUFJLENBQUNELEVBQUVDLFVBQVUsRUFBRSxPQUFPO1lBQzFCLE9BQU9GLEVBQUVFLFVBQVUsR0FBR0QsRUFBRUMsVUFBVSxHQUFHLENBQUMsSUFBSTtRQUM1QyxHQUNDQyxLQUFLLENBQUNuQixNQUFNQSxPQUFPQztRQUV0QixNQUFNbUIsUUFBUSxDQUFDLE1BQU03Qiw2Q0FBS0EsQ0FBQ1ksSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFTixRQUFRTyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBR0UsTUFBTTtRQUV2RSxNQUFNYyxXQUF3RTtZQUM1RUMsTUFBTWI7WUFDTmMsTUFBTTtnQkFDSkgsT0FBT1gsZUFBZUYsTUFBTTtnQkFDNUJULE1BQU1ILE9BQU9HLFFBQVE7Z0JBQ3JCQyxTQUFTRTtnQkFDVHVCLFlBQVlDLEtBQUtDLElBQUksQ0FBQ04sUUFBUW5CO1lBQ2hDO1FBQ0Y7UUFDQSxPQUFPb0I7SUFDVCxFQUFFLE9BQU9NLE9BQWdCO1FBQ3ZCLE9BQU9sQyx1RUFBY0EsQ0FBQ2tDO0lBQ3hCO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcGkvbWUvc2Vzc2lvbnMvcXVlcmllcy50cz8wOWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuaW1wb3J0IHsgZ2V0QWN0aXZlU2Vzc2lvbnNSZXNwb25zZVNjaGVtYSwgZ2V0QWN0aXZlU2Vzc2lvbnNTY2hlbWEsIHNlc3Npb25zU2NoZW1hIH0gZnJvbSBcIkAvYXBpL21lL3NjaGVtYXNcIlxuaW1wb3J0IHsgcmVkaXMgfSBmcm9tIFwiQC9saWIvcmVkaXNcIlxuaW1wb3J0IHsgZW5zdXJlTG9nZ2VkSW4sIGhhbmRsZUFwaUVycm9yIH0gZnJvbSBcIkAvbGliL3V0aWxzL3NlcnZlci11dGlsc1wiXG5pbXBvcnQgeyBhcGlJbnB1dEZyb21TY2hlbWEgfSBmcm9tIFwiQC90eXBlc1wiXG5cbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVTZXNzaW9ucyA9IGFzeW5jICh7XG4gIGlucHV0LFxuICBjdHg6IHsgc2Vzc2lvbiB9LFxufTogYXBpSW5wdXRGcm9tU2NoZW1hPHR5cGVvZiBnZXRBY3RpdmVTZXNzaW9uc1NjaGVtYT4pID0+IHtcbiAgdHJ5IHtcbiAgICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuXG4gICAgY29uc3QgeyBwYWdlLCBwZXJQYWdlIH0gPSBpbnB1dFxuXG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBwZXJQYWdlXG4gICAgY29uc3QgdGFrZSA9IHBlclBhZ2VcbiAgICBjb25zdCBhbGxTZXNzaW9uc0tleXMgPSBhd2FpdCByZWRpcy5rZXlzKGBzZXNzaW9uOiR7c2Vzc2lvbi51c2VyLmlkfToqYClcbiAgICBjb25zdCBhbGxTZXNzaW9ucyA9IGFsbFNlc3Npb25zS2V5cy5sZW5ndGggPiAwID8gYXdhaXQgcmVkaXMubWdldChhbGxTZXNzaW9uc0tleXMpIDogW11cbiAgICBjb25zdCBhY3RpdmVTZXNzaW9ucyA9IGFsbFNlc3Npb25zXG4gICAgICAuZmlsdGVyKChzKSA9PiBzKVxuICAgICAgLm1hcCgocykgPT4gSlNPTi5wYXJzZShzIGFzIHN0cmluZykgYXMgei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBzZXNzaW9uc1NjaGVtYT4+KVxuICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKCFhLmxhc3RVc2VkQXQpIHJldHVybiAtMVxuICAgICAgICBpZiAoIWIubGFzdFVzZWRBdCkgcmV0dXJuIDFcbiAgICAgICAgcmV0dXJuIGEubGFzdFVzZWRBdCA+IGIubGFzdFVzZWRBdCA/IC0xIDogMVxuICAgICAgfSlcbiAgICAgIC5zbGljZShza2lwLCBza2lwICsgdGFrZSlcblxuICAgIGNvbnN0IHRvdGFsID0gKGF3YWl0IHJlZGlzLmtleXMoYHNlc3Npb246JHtzZXNzaW9uLnVzZXIuaWR9OipgKSkubGVuZ3RoXG5cbiAgICBjb25zdCByZXNwb25zZTogei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBnZXRBY3RpdmVTZXNzaW9uc1Jlc3BvbnNlU2NoZW1hPj4gPSB7XG4gICAgICBkYXRhOiBhY3RpdmVTZXNzaW9ucyxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgdG90YWw6IGFjdGl2ZVNlc3Npb25zLmxlbmd0aCxcbiAgICAgICAgcGFnZTogaW5wdXQ/LnBhZ2UgfHwgMSxcbiAgICAgICAgcGVyUGFnZTogdGFrZSxcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gdGFrZSksXG4gICAgICB9LFxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJyZWRpcyIsImVuc3VyZUxvZ2dlZEluIiwiaGFuZGxlQXBpRXJyb3IiLCJnZXRBY3RpdmVTZXNzaW9ucyIsImlucHV0IiwiY3R4Iiwic2Vzc2lvbiIsInBhZ2UiLCJwZXJQYWdlIiwic2tpcCIsInRha2UiLCJhbGxTZXNzaW9uc0tleXMiLCJrZXlzIiwidXNlciIsImlkIiwiYWxsU2Vzc2lvbnMiLCJsZW5ndGgiLCJtZ2V0IiwiYWN0aXZlU2Vzc2lvbnMiLCJmaWx0ZXIiLCJzIiwibWFwIiwiSlNPTiIsInBhcnNlIiwic29ydCIsImEiLCJiIiwibGFzdFVzZWRBdCIsInNsaWNlIiwidG90YWwiLCJyZXNwb25zZSIsImRhdGEiLCJtZXRhIiwidG90YWxQYWdlcyIsIk1hdGgiLCJjZWlsIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/api/me/sessions/queries.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/upload/_router.ts":
/*!***********************************!*\
  !*** ./src/api/upload/_router.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uploadRouter: () => (/* binding */ uploadRouter)\n/* harmony export */ });\n/* harmony import */ var _lib_server_trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/server/trpc */ \"(rsc)/./src/lib/server/trpc.ts\");\n/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mutations */ \"(rsc)/./src/api/upload/mutations.ts\");\n/* harmony import */ var _schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./schemas */ \"(rsc)/./src/api/upload/schemas.ts\");\n\n\n\nconst uploadRouter = (0,_lib_server_trpc__WEBPACK_IMPORTED_MODULE_0__.router)({\n    presignedUrl: _lib_server_trpc__WEBPACK_IMPORTED_MODULE_0__.authenticatedProcedure.input((0,_schemas__WEBPACK_IMPORTED_MODULE_2__.presignedUrlSchema)()).output((0,_schemas__WEBPACK_IMPORTED_MODULE_2__.presignedUrlResponseSchema)()).mutation(_mutations__WEBPACK_IMPORTED_MODULE_1__.presignedUrl)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL3VwbG9hZC9fcm91dGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0U7QUFFeEI7QUFDZ0M7QUFFbkUsTUFBTUssZUFBZUosd0RBQU1BLENBQUM7SUFDakNDLGNBQWNGLG9FQUFzQkEsQ0FDakNNLEtBQUssQ0FBQ0YsNERBQWtCQSxJQUN4QkcsTUFBTSxDQUFDSixvRUFBMEJBLElBQ2pDSyxRQUFRLENBQUNOLG9EQUFZQTtBQUMxQixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS91cGxvYWQvX3JvdXRlci50cz9hNDM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1dGhlbnRpY2F0ZWRQcm9jZWR1cmUsIHJvdXRlciB9IGZyb20gXCJAL2xpYi9zZXJ2ZXIvdHJwY1wiXG5cbmltcG9ydCB7IHByZXNpZ25lZFVybCB9IGZyb20gXCIuL211dGF0aW9uc1wiXG5pbXBvcnQgeyBwcmVzaWduZWRVcmxSZXNwb25zZVNjaGVtYSwgcHJlc2lnbmVkVXJsU2NoZW1hIH0gZnJvbSBcIi4vc2NoZW1hc1wiXG5cbmV4cG9ydCBjb25zdCB1cGxvYWRSb3V0ZXIgPSByb3V0ZXIoe1xuICBwcmVzaWduZWRVcmw6IGF1dGhlbnRpY2F0ZWRQcm9jZWR1cmVcbiAgICAuaW5wdXQocHJlc2lnbmVkVXJsU2NoZW1hKCkpXG4gICAgLm91dHB1dChwcmVzaWduZWRVcmxSZXNwb25zZVNjaGVtYSgpKVxuICAgIC5tdXRhdGlvbihwcmVzaWduZWRVcmwpLFxufSlcbiJdLCJuYW1lcyI6WyJhdXRoZW50aWNhdGVkUHJvY2VkdXJlIiwicm91dGVyIiwicHJlc2lnbmVkVXJsIiwicHJlc2lnbmVkVXJsUmVzcG9uc2VTY2hlbWEiLCJwcmVzaWduZWRVcmxTY2hlbWEiLCJ1cGxvYWRSb3V0ZXIiLCJpbnB1dCIsIm91dHB1dCIsIm11dGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/upload/_router.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/upload/mutations.ts":
/*!*************************************!*\
  !*** ./src/api/upload/mutations.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   presignedUrl: () => (/* binding */ presignedUrl)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./src/lib/rate-limit.ts\");\n/* harmony import */ var _lib_s3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/s3 */ \"(rsc)/./src/lib/s3.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils/index.ts\");\n/* harmony import */ var _lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @aws-sdk/s3-presigned-post */ \"@aws-sdk/s3-presigned-post\");\n/* harmony import */ var _aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n\n\n\n\n\n\n\n\n\n\nconst presignedUrl = async ({ input, ctx: { session } })=>{\n    (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__.ensureLoggedIn)(session);\n    try {\n        if (!_lib_env__WEBPACK_IMPORTED_MODULE_2__.env.ENABLE_S3_SERVICE || !_lib_s3__WEBPACK_IMPORTED_MODULE_5__.s3Client) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__.ApiError)(\"s3ServiceDisabled\");\n        }\n        //* Rate limit (20 requests per hour)\n        const { success } = await (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(`presigned-url:${session.user.id}`, 20, 60 * 60);\n        if (!success) {\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__.ApiError)(\"tooManyAttempts\", \"TOO_MANY_REQUESTS\");\n        }\n        const { filename, filetype } = input;\n        //? Slug and max length\n        const filenameFormatted = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.stringToSlug)(filename).slice(0, 50);\n        const Key = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)() + \"-\" + filenameFormatted;\n        const expiresInSeconds = 600 //? 10 minutes\n        ;\n        const expires = new Date(Date.now() + expiresInSeconds * 1000);\n        const bucket = _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.NEXT_PUBLIC_S3_BUCKET_NAME;\n        const endpoint = _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.NEXT_PUBLIC_S3_ENDPOINT;\n        if (!endpoint || !bucket) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_9__.logger.error(\"S3 endpoint or bucket is not defined\");\n            return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__.ApiError)(\"s3ServiceDisabled\");\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.fileUploading.create({\n            data: {\n                key: Key,\n                user: {\n                    connect: {\n                        id: session.user.id\n                    }\n                },\n                expires,\n                bucket,\n                endpoint,\n                filetype\n            }\n        });\n        const { url, fields } = await (0,_aws_sdk_s3_presigned_post__WEBPACK_IMPORTED_MODULE_8__.createPresignedPost)(_lib_s3__WEBPACK_IMPORTED_MODULE_5__.s3Client, {\n            Bucket: bucket,\n            Key,\n            Conditions: [\n                [\n                    \"content-length-range\",\n                    0,\n                    _constants__WEBPACK_IMPORTED_MODULE_1__.maxUploadSize\n                ],\n                [\n                    \"starts-with\",\n                    \"$Content-Type\",\n                    filetype\n                ]\n            ],\n            Fields: {\n                acl: \"public-read\",\n                \"Content-Type\": filetype\n            },\n            Expires: expiresInSeconds\n        });\n        const response = {\n            url,\n            fields\n        };\n        return response;\n    } catch (error) {\n        return (0,_lib_utils_server_utils__WEBPACK_IMPORTED_MODULE_7__.handleApiError)(error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL3VwbG9hZC9tdXRhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFtQztBQUdRO0FBQ1o7QUFDTTtBQUNLO0FBQ1A7QUFDTztBQUN5QztBQUVuQjtBQUM5QjtBQUkzQixNQUFNWSxlQUFlLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxFQUFpRDtJQUMzR1AsdUVBQWNBLENBQUNPO0lBQ2YsSUFBSTtRQUNGLElBQUksQ0FBQ2IseUNBQUdBLENBQUNjLGlCQUFpQixJQUFJLENBQUNYLDZDQUFRQSxFQUFFO1lBQ3ZDLE9BQU9FLGlFQUFRQSxDQUFDO1FBQ2xCO1FBRUEscUNBQXFDO1FBQ3JDLE1BQU0sRUFBRVUsT0FBTyxFQUFFLEdBQUcsTUFBTWIsMkRBQVdBLENBQUMsQ0FBQyxjQUFjLEVBQUVXLFFBQVFHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEtBQUs7UUFDbkYsSUFBSSxDQUFDRixTQUFTO1lBQ1osT0FBT1YsaUVBQVFBLENBQUMsbUJBQW1CO1FBQ3JDO1FBRUEsTUFBTSxFQUFFYSxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHUjtRQUMvQix1QkFBdUI7UUFDdkIsTUFBTVMsb0JBQW9CaEIsd0RBQVlBLENBQUNjLFVBQVVHLEtBQUssQ0FBQyxHQUFHO1FBQzFELE1BQU1DLE1BQU14QixrREFBVUEsS0FBSyxNQUFNc0I7UUFDakMsTUFBTUcsbUJBQW1CLElBQUksY0FBYzs7UUFDM0MsTUFBTUMsVUFBVSxJQUFJQyxLQUFLQSxLQUFLQyxHQUFHLEtBQUtILG1CQUFtQjtRQUN6RCxNQUFNSSxTQUFTM0IseUNBQUdBLENBQUM0QiwwQkFBMEI7UUFDN0MsTUFBTUMsV0FBVzdCLHlDQUFHQSxDQUFDOEIsdUJBQXVCO1FBQzVDLElBQUksQ0FBQ0QsWUFBWSxDQUFDRixRQUFRO1lBQ3hCbEIsNkNBQU1BLENBQUNzQixLQUFLLENBQUM7WUFDYixPQUFPMUIsaUVBQVFBLENBQUM7UUFDbEI7UUFFQSxNQUFNSiwrQ0FBTUEsQ0FBQytCLGFBQWEsQ0FBQ0MsTUFBTSxDQUFDO1lBQ2hDQyxNQUFNO2dCQUNKQyxLQUFLYjtnQkFDTE4sTUFBTTtvQkFDSm9CLFNBQVM7d0JBQ1BuQixJQUFJSixRQUFRRyxJQUFJLENBQUNDLEVBQUU7b0JBQ3JCO2dCQUNGO2dCQUNBTztnQkFDQUc7Z0JBQ0FFO2dCQUNBVjtZQUNGO1FBQ0Y7UUFDQSxNQUFNLEVBQUVrQixHQUFHLEVBQUVDLE1BQU0sRUFBRSxHQUFHLE1BQU05QiwrRUFBbUJBLENBQUNMLDZDQUFRQSxFQUFFO1lBQzFEb0MsUUFBUVo7WUFDUkw7WUFDQWtCLFlBQVk7Z0JBQ1Y7b0JBQUM7b0JBQXdCO29CQUFHekMscURBQWFBO2lCQUFDO2dCQUMxQztvQkFBQztvQkFBZTtvQkFBaUJvQjtpQkFBUzthQUMzQztZQUNEc0IsUUFBUTtnQkFDTkMsS0FBSztnQkFDTCxnQkFBZ0J2QjtZQUNsQjtZQUNBd0IsU0FBU3BCO1FBQ1g7UUFFQSxNQUFNcUIsV0FBbUU7WUFDdkVQO1lBQ0FDO1FBQ0Y7UUFDQSxPQUFPTTtJQUNULEVBQUUsT0FBT2IsT0FBZ0I7UUFDdkIsT0FBT3hCLHVFQUFjQSxDQUFDd0I7SUFDeEI7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2FwaS91cGxvYWQvbXV0YXRpb25zLnRzPzI2NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gXCJjcnlwdG9cIlxuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIlxuXG5pbXBvcnQgeyBtYXhVcGxvYWRTaXplIH0gZnJvbSBcIkAvY29uc3RhbnRzXCJcbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkAvbGliL3ByaXNtYVwiXG5pbXBvcnQgcmF0ZUxpbWl0ZXIgZnJvbSBcIkAvbGliL3JhdGUtbGltaXRcIlxuaW1wb3J0IHsgczNDbGllbnQgfSBmcm9tIFwiQC9saWIvczNcIlxuaW1wb3J0IHsgc3RyaW5nVG9TbHVnIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcbmltcG9ydCB7IEFwaUVycm9yLCBlbnN1cmVMb2dnZWRJbiwgaGFuZGxlQXBpRXJyb3IgfSBmcm9tIFwiQC9saWIvdXRpbHMvc2VydmVyLXV0aWxzXCJcbmltcG9ydCB7IGFwaUlucHV0RnJvbVNjaGVtYSB9IGZyb20gXCJAL3R5cGVzXCJcbmltcG9ydCB7IGNyZWF0ZVByZXNpZ25lZFBvc3QgfSBmcm9tIFwiQGF3cy1zZGsvczMtcHJlc2lnbmVkLXBvc3RcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5cbmltcG9ydCB7IHByZXNpZ25lZFVybFJlc3BvbnNlU2NoZW1hLCBwcmVzaWduZWRVcmxTY2hlbWEgfSBmcm9tIFwiLi9zY2hlbWFzXCJcblxuZXhwb3J0IGNvbnN0IHByZXNpZ25lZFVybCA9IGFzeW5jICh7IGlucHV0LCBjdHg6IHsgc2Vzc2lvbiB9IH06IGFwaUlucHV0RnJvbVNjaGVtYTx0eXBlb2YgcHJlc2lnbmVkVXJsU2NoZW1hPikgPT4ge1xuICBlbnN1cmVMb2dnZWRJbihzZXNzaW9uKVxuICB0cnkge1xuICAgIGlmICghZW52LkVOQUJMRV9TM19TRVJWSUNFIHx8ICFzM0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwaUVycm9yKFwiczNTZXJ2aWNlRGlzYWJsZWRcIilcbiAgICB9XG5cbiAgICAvLyogUmF0ZSBsaW1pdCAoMjAgcmVxdWVzdHMgcGVyIGhvdXIpXG4gICAgY29uc3QgeyBzdWNjZXNzIH0gPSBhd2FpdCByYXRlTGltaXRlcihgcHJlc2lnbmVkLXVybDoke3Nlc3Npb24udXNlci5pZH1gLCAyMCwgNjAgKiA2MClcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBBcGlFcnJvcihcInRvb01hbnlBdHRlbXB0c1wiLCBcIlRPT19NQU5ZX1JFUVVFU1RTXCIpXG4gICAgfVxuXG4gICAgY29uc3QgeyBmaWxlbmFtZSwgZmlsZXR5cGUgfSA9IGlucHV0XG4gICAgLy8/IFNsdWcgYW5kIG1heCBsZW5ndGhcbiAgICBjb25zdCBmaWxlbmFtZUZvcm1hdHRlZCA9IHN0cmluZ1RvU2x1ZyhmaWxlbmFtZSkuc2xpY2UoMCwgNTApXG4gICAgY29uc3QgS2V5ID0gcmFuZG9tVVVJRCgpICsgXCItXCIgKyBmaWxlbmFtZUZvcm1hdHRlZFxuICAgIGNvbnN0IGV4cGlyZXNJblNlY29uZHMgPSA2MDAgLy8/IDEwIG1pbnV0ZXNcbiAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGV4cGlyZXNJblNlY29uZHMgKiAxMDAwKVxuICAgIGNvbnN0IGJ1Y2tldCA9IGVudi5ORVhUX1BVQkxJQ19TM19CVUNLRVRfTkFNRVxuICAgIGNvbnN0IGVuZHBvaW50ID0gZW52Lk5FWFRfUFVCTElDX1MzX0VORFBPSU5UXG4gICAgaWYgKCFlbmRwb2ludCB8fCAhYnVja2V0KSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXCJTMyBlbmRwb2ludCBvciBidWNrZXQgaXMgbm90IGRlZmluZWRcIilcbiAgICAgIHJldHVybiBBcGlFcnJvcihcInMzU2VydmljZURpc2FibGVkXCIpXG4gICAgfVxuXG4gICAgYXdhaXQgcHJpc21hLmZpbGVVcGxvYWRpbmcuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAga2V5OiBLZXksXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBjb25uZWN0OiB7XG4gICAgICAgICAgICBpZDogc2Vzc2lvbi51c2VyLmlkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGV4cGlyZXMsXG4gICAgICAgIGJ1Y2tldCxcbiAgICAgICAgZW5kcG9pbnQsXG4gICAgICAgIGZpbGV0eXBlLFxuICAgICAgfSxcbiAgICB9KVxuICAgIGNvbnN0IHsgdXJsLCBmaWVsZHMgfSA9IGF3YWl0IGNyZWF0ZVByZXNpZ25lZFBvc3QoczNDbGllbnQsIHtcbiAgICAgIEJ1Y2tldDogYnVja2V0LFxuICAgICAgS2V5LFxuICAgICAgQ29uZGl0aW9uczogW1xuICAgICAgICBbXCJjb250ZW50LWxlbmd0aC1yYW5nZVwiLCAwLCBtYXhVcGxvYWRTaXplXSwgLy8gdXAgdG8gMTAgTUJcbiAgICAgICAgW1wic3RhcnRzLXdpdGhcIiwgXCIkQ29udGVudC1UeXBlXCIsIGZpbGV0eXBlXSxcbiAgICAgIF0sXG4gICAgICBGaWVsZHM6IHtcbiAgICAgICAgYWNsOiBcInB1YmxpYy1yZWFkXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IGZpbGV0eXBlLFxuICAgICAgfSxcbiAgICAgIEV4cGlyZXM6IGV4cGlyZXNJblNlY29uZHMsIC8vPyBTZWNvbmRzIGJlZm9yZSB0aGUgcHJlc2lnbmVkIHBvc3QgZXhwaXJlcy4gMzYwMCBieSBkZWZhdWx0LlxuICAgIH0pXG5cbiAgICBjb25zdCByZXNwb25zZTogei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBwcmVzaWduZWRVcmxSZXNwb25zZVNjaGVtYT4+ID0ge1xuICAgICAgdXJsLFxuICAgICAgZmllbGRzLFxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICByZXR1cm4gaGFuZGxlQXBpRXJyb3IoZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJyYW5kb21VVUlEIiwibWF4VXBsb2FkU2l6ZSIsImVudiIsInByaXNtYSIsInJhdGVMaW1pdGVyIiwiczNDbGllbnQiLCJzdHJpbmdUb1NsdWciLCJBcGlFcnJvciIsImVuc3VyZUxvZ2dlZEluIiwiaGFuZGxlQXBpRXJyb3IiLCJjcmVhdGVQcmVzaWduZWRQb3N0IiwibG9nZ2VyIiwicHJlc2lnbmVkVXJsIiwiaW5wdXQiLCJjdHgiLCJzZXNzaW9uIiwiRU5BQkxFX1MzX1NFUlZJQ0UiLCJzdWNjZXNzIiwidXNlciIsImlkIiwiZmlsZW5hbWUiLCJmaWxldHlwZSIsImZpbGVuYW1lRm9ybWF0dGVkIiwic2xpY2UiLCJLZXkiLCJleHBpcmVzSW5TZWNvbmRzIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJidWNrZXQiLCJORVhUX1BVQkxJQ19TM19CVUNLRVRfTkFNRSIsImVuZHBvaW50IiwiTkVYVF9QVUJMSUNfUzNfRU5EUE9JTlQiLCJlcnJvciIsImZpbGVVcGxvYWRpbmciLCJjcmVhdGUiLCJkYXRhIiwia2V5IiwiY29ubmVjdCIsInVybCIsImZpZWxkcyIsIkJ1Y2tldCIsIkNvbmRpdGlvbnMiLCJGaWVsZHMiLCJhY2wiLCJFeHBpcmVzIiwicmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/api/upload/mutations.ts\n");

/***/ }),

/***/ "(rsc)/./src/api/upload/schemas.ts":
/*!***********************************!*\
  !*** ./src/api/upload/schemas.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   presignedUrlResponseSchema: () => (/* binding */ presignedUrlResponseSchema),\n/* harmony export */   presignedUrlSchema: () => (/* binding */ presignedUrlSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n\nconst presignedUrlSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        filename: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        filetype: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    });\nconst presignedUrlResponseSchema = ()=>zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        fields: zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n    });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBpL3VwbG9hZC9zY2hlbWFzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QjtBQUVoQixNQUFNQyxxQkFBcUIsSUFDaENELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7UUFDUEMsVUFBVUgsa0NBQUNBLENBQUNJLE1BQU07UUFDbEJDLFVBQVVMLGtDQUFDQSxDQUFDSSxNQUFNO0lBQ3BCLEdBQUU7QUFFRyxNQUFNRSw2QkFBNkIsSUFDeENOLGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7UUFDUEssS0FBS1Asa0NBQUNBLENBQUNJLE1BQU07UUFDYkksUUFBUVIsa0NBQUNBLENBQUNTLE1BQU0sQ0FBQ1Qsa0NBQUNBLENBQUNJLE1BQU07SUFDM0IsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcGkvdXBsb2FkL3NjaGVtYXMudHM/MDU0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmV4cG9ydCBjb25zdCBwcmVzaWduZWRVcmxTY2hlbWEgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgZmlsZW5hbWU6IHouc3RyaW5nKCksXG4gICAgZmlsZXR5cGU6IHouc3RyaW5nKCksXG4gIH0pXG5cbmV4cG9ydCBjb25zdCBwcmVzaWduZWRVcmxSZXNwb25zZVNjaGVtYSA9ICgpID0+XG4gIHoub2JqZWN0KHtcbiAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgZmllbGRzOiB6LnJlY29yZCh6LnN0cmluZygpKSxcbiAgfSlcbiJdLCJuYW1lcyI6WyJ6IiwicHJlc2lnbmVkVXJsU2NoZW1hIiwib2JqZWN0IiwiZmlsZW5hbWUiLCJzdHJpbmciLCJmaWxldHlwZSIsInByZXNpZ25lZFVybFJlc3BvbnNlU2NoZW1hIiwidXJsIiwiZmllbGRzIiwicmVjb3JkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/api/upload/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/trpc/[trpc]/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/trpc/[trpc]/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _api_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/api/_app */ \"(rsc)/./src/api/_app.ts\");\n/* harmony import */ var _lib_trpc_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/trpc/context */ \"(rsc)/./src/lib/trpc/context.ts\");\n/* harmony import */ var _trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/server/adapters/fetch */ \"(rsc)/../../node_modules/@trpc/server/dist/adapters/fetch/index.mjs\");\n\n\n\nconst handler = (req)=>(0,_trpc_server_adapters_fetch__WEBPACK_IMPORTED_MODULE_2__.fetchRequestHandler)({\n        endpoint: \"/api/trpc\",\n        req,\n        router: _api_app__WEBPACK_IMPORTED_MODULE_0__.appRouter,\n        createContext: _lib_trpc_context__WEBPACK_IMPORTED_MODULE_1__.createContext\n    });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90cnBjL1t0cnBjXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUNZO0FBQ2U7QUFFakUsTUFBTUcsVUFBVSxDQUFDQyxNQUNmRixnRkFBbUJBLENBQUM7UUFDbEJHLFVBQVU7UUFDVkQ7UUFDQUUsUUFBUU4sK0NBQVNBO1FBQ2pCQyxhQUFhQSw4REFBQUE7SUFDZjtBQUV3QyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9hcHAvYXBpL3RycGMvW3RycGNdL3JvdXRlLnRzPzQzZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwUm91dGVyIH0gZnJvbSBcIkAvYXBpL19hcHBcIlxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gXCJAL2xpYi90cnBjL2NvbnRleHRcIlxuaW1wb3J0IHsgZmV0Y2hSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAdHJwYy9zZXJ2ZXIvYWRhcHRlcnMvZmV0Y2hcIlxuXG5jb25zdCBoYW5kbGVyID0gKHJlcTogUmVxdWVzdCkgPT5cbiAgZmV0Y2hSZXF1ZXN0SGFuZGxlcih7XG4gICAgZW5kcG9pbnQ6IFwiL2FwaS90cnBjXCIsXG4gICAgcmVxLFxuICAgIHJvdXRlcjogYXBwUm91dGVyLFxuICAgIGNyZWF0ZUNvbnRleHQsXG4gIH0pXG5cbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfVxuIl0sIm5hbWVzIjpbImFwcFJvdXRlciIsImNyZWF0ZUNvbnRleHQiLCJmZXRjaFJlcXVlc3RIYW5kbGVyIiwiaGFuZGxlciIsInJlcSIsImVuZHBvaW50Iiwicm91dGVyIiwiR0VUIiwiUE9TVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/trpc/[trpc]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/components/auth/require-auth.tsx":
/*!**********************************************!*\
  !*** ./src/components/auth/require-auth.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ requireAuth),\n/* harmony export */   getAuthApi: () => (/* binding */ getAuthApi)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(rsc)/../../node_modules/next/dist/api/navigation.react-server.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/next/dist/api/server.js\");\n/* harmony import */ var _constants_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/constants/auth */ \"(rsc)/./src/constants/auth.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth/index.ts\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n\n\n\n\n\n\n\nasync function requireAuth(callbackUrl) {\n    const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.auth)();\n    if (!session) {\n        let searchParams = \"\";\n        if (callbackUrl) {\n            searchParams = \"?\" + new URLSearchParams({\n                callbackUrl\n            }).toString();\n        } else {\n            const baseUrl = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.headers)().get(\"x-url\");\n            if (!baseUrl) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_6__.logger.warn(\"No base url found in headers\");\n            } else {\n                const url = new URL(baseUrl);\n                searchParams = \"?\" + new URLSearchParams({\n                    callbackUrl: url.pathname\n                }).toString();\n            }\n        }\n        (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.redirect)(_constants_auth__WEBPACK_IMPORTED_MODULE_3__.authRoutes.signIn[0] + searchParams);\n    }\n    return session;\n}\nasync function getAuthApi() {\n    const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.auth)();\n    if (!session) {\n        return {\n            session: null,\n            error: next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            })\n        };\n    }\n    //* Verify that the session still exists\n    if (session.user?.uuid) {\n        const id = session.user.id;\n        const uuid = session.user.uuid;\n        const getRedisSession = async ()=>{\n            const key = `session:${id}:${uuid}`;\n            const loginSession = await _lib_redis__WEBPACK_IMPORTED_MODULE_5__.redis.get(key);\n            if (!loginSession) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_6__.logger.debug(\"Session not found\", uuid);\n                return true;\n            }\n            //* Save last used at\n            //? Only if lastUsedAt is older than 1 minute (avoid spamming the redis server)\n            const data = JSON.parse(loginSession);\n            if (data.lastUsedAt) {\n                const lastUsedAt = new Date(data.lastUsedAt);\n                const now = new Date();\n                const diff = now.getTime() - lastUsedAt.getTime();\n                if (diff > 1000 * 60) {\n                    return;\n                }\n            }\n            //? Update session lastUsed\n            const remainingTtl = await _lib_redis__WEBPACK_IMPORTED_MODULE_5__.redis.ttl(key);\n            //! Do not await to make the requests faster\n            _lib_redis__WEBPACK_IMPORTED_MODULE_5__.redis.setex(key, remainingTtl, JSON.stringify({\n                ...JSON.parse(loginSession),\n                lastUsedAt: new Date()\n            }));\n            return;\n        };\n        const res = await getRedisSession();\n        // If res is true it means that the session is not found\n        if (res === true) {\n            return {\n                session: null,\n                error: next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                })\n            };\n        }\n    }\n    return {\n        session,\n        error: null\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29tcG9uZW50cy9hdXRoL3JlcXVpcmUtYXV0aC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ0k7QUFDQTtBQUlHO0FBQ1o7QUFDRTtBQUNEO0FBRW5CLGVBQWVPLFlBQVlDLFdBQW9CO0lBQzVELE1BQU1DLFVBQVUsTUFBTUwsK0NBQUlBO0lBQzFCLElBQUksQ0FBQ0ssU0FBUztRQUNaLElBQUlDLGVBQWU7UUFDbkIsSUFBSUYsYUFBYTtZQUNmRSxlQUFlLE1BQU0sSUFBSUMsZ0JBQWdCO2dCQUFFSDtZQUFZLEdBQUdJLFFBQVE7UUFDcEUsT0FBTztZQUNMLE1BQU1DLFVBQVViLHFEQUFPQSxHQUFHYyxHQUFHLENBQUM7WUFDOUIsSUFBSSxDQUFDRCxTQUFTO2dCQUNaUCw2Q0FBTUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQ2QsT0FBTztnQkFDTCxNQUFNQyxNQUFNLElBQUlDLElBQUlKO2dCQUNwQkgsZUFBZSxNQUFNLElBQUlDLGdCQUFnQjtvQkFBRUgsYUFBYVEsSUFBSUUsUUFBUTtnQkFBQyxHQUFHTixRQUFRO1lBQ2xGO1FBQ0Y7UUFDQVgseURBQVFBLENBQUNFLHVEQUFVQSxDQUFDZ0IsTUFBTSxDQUFDLEVBQUUsR0FBR1Q7SUFDbEM7SUFFQSxPQUFPRDtBQUNUO0FBRU8sZUFBZVc7SUFDcEIsTUFBTVgsVUFBVSxNQUFNTCwrQ0FBSUE7SUFDMUIsSUFBSSxDQUFDSyxTQUFTO1FBQ1osT0FBTztZQUFFQSxTQUFTO1lBQU1ZLE9BQU9uQixxREFBWUEsQ0FBQ29CLElBQUksQ0FBQztnQkFBRUQsT0FBTztZQUFlLEdBQUc7Z0JBQUVFLFFBQVE7WUFBSTtRQUFHO0lBQy9GO0lBRUEsd0NBQXdDO0lBQ3hDLElBQUlkLFFBQVFlLElBQUksRUFBRUMsTUFBTTtRQUN0QixNQUFNQyxLQUFLakIsUUFBUWUsSUFBSSxDQUFDRSxFQUFFO1FBQzFCLE1BQU1ELE9BQU9oQixRQUFRZSxJQUFJLENBQUNDLElBQUk7UUFDOUIsTUFBTUUsa0JBQWtCO1lBQ3RCLE1BQU1DLE1BQU0sQ0FBQyxRQUFRLEVBQUVGLEdBQUcsQ0FBQyxFQUFFRCxLQUFLLENBQUM7WUFDbkMsTUFBTUksZUFBZSxNQUFNeEIsNkNBQUtBLENBQUNTLEdBQUcsQ0FBQ2M7WUFDckMsSUFBSSxDQUFDQyxjQUFjO2dCQUNqQnZCLDZDQUFNQSxDQUFDd0IsS0FBSyxDQUFDLHFCQUFxQkw7Z0JBQ2xDLE9BQU87WUFDVDtZQUVBLHFCQUFxQjtZQUNyQiwrRUFBK0U7WUFDL0UsTUFBTU0sT0FBT0MsS0FBS0MsS0FBSyxDQUFDSjtZQUN4QixJQUFJRSxLQUFLRyxVQUFVLEVBQUU7Z0JBQ25CLE1BQU1BLGFBQWEsSUFBSUMsS0FBS0osS0FBS0csVUFBVTtnQkFDM0MsTUFBTUUsTUFBTSxJQUFJRDtnQkFDaEIsTUFBTUUsT0FBT0QsSUFBSUUsT0FBTyxLQUFLSixXQUFXSSxPQUFPO2dCQUMvQyxJQUFJRCxPQUFPLE9BQU8sSUFBSTtvQkFDcEI7Z0JBQ0Y7WUFDRjtZQUNBLDJCQUEyQjtZQUMzQixNQUFNRSxlQUFlLE1BQU1sQyw2Q0FBS0EsQ0FBQ21DLEdBQUcsQ0FBQ1o7WUFDckMsNENBQTRDO1lBQzVDdkIsNkNBQUtBLENBQUNvQyxLQUFLLENBQ1RiLEtBQ0FXLGNBQ0FQLEtBQUtVLFNBQVMsQ0FBQztnQkFDYixHQUFJVixLQUFLQyxLQUFLLENBQUNKLGFBQWE7Z0JBQzVCSyxZQUFZLElBQUlDO1lBQ2xCO1lBRUY7UUFDRjtRQUNBLE1BQU1RLE1BQU0sTUFBTWhCO1FBRWxCLHdEQUF3RDtRQUN4RCxJQUFJZ0IsUUFBUSxNQUFNO1lBQ2hCLE9BQU87Z0JBQUVsQyxTQUFTO2dCQUFNWSxPQUFPbkIscURBQVlBLENBQUNvQixJQUFJLENBQUM7b0JBQUVELE9BQU87Z0JBQWUsR0FBRztvQkFBRUUsUUFBUTtnQkFBSTtZQUFHO1FBQy9GO0lBQ0Y7SUFFQSxPQUFPO1FBQUVkO1FBQVNZLE9BQU87SUFBSztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9jb21wb25lbnRzL2F1dGgvcmVxdWlyZS1hdXRoLnRzeD83NzdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhlYWRlcnMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCJcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIlxuXG5pbXBvcnQgeyBzZXNzaW9uc1NjaGVtYSB9IGZyb20gXCJAL2FwaS9tZS9zY2hlbWFzXCJcbmltcG9ydCB7IGF1dGhSb3V0ZXMgfSBmcm9tIFwiQC9jb25zdGFudHMvYXV0aFwiXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSBcIkAvbGliL2F1dGhcIlxuaW1wb3J0IHsgcmVkaXMgfSBmcm9tIFwiQC9saWIvcmVkaXNcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBdXRoKGNhbGxiYWNrVXJsPzogc3RyaW5nKSB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKClcbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgbGV0IHNlYXJjaFBhcmFtcyA9IFwiXCJcbiAgICBpZiAoY2FsbGJhY2tVcmwpIHtcbiAgICAgIHNlYXJjaFBhcmFtcyA9IFwiP1wiICsgbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGNhbGxiYWNrVXJsIH0pLnRvU3RyaW5nKClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmFzZVVybCA9IGhlYWRlcnMoKS5nZXQoXCJ4LXVybFwiKVxuICAgICAgaWYgKCFiYXNlVXJsKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiTm8gYmFzZSB1cmwgZm91bmQgaW4gaGVhZGVyc1wiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlVXJsKVxuICAgICAgICBzZWFyY2hQYXJhbXMgPSBcIj9cIiArIG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBjYWxsYmFja1VybDogdXJsLnBhdGhuYW1lIH0pLnRvU3RyaW5nKClcbiAgICAgIH1cbiAgICB9XG4gICAgcmVkaXJlY3QoYXV0aFJvdXRlcy5zaWduSW5bMF0gKyBzZWFyY2hQYXJhbXMpXG4gIH1cblxuICByZXR1cm4gc2Vzc2lvblxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aEFwaSgpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKVxuICBpZiAoIXNlc3Npb24pIHtcbiAgICByZXR1cm4geyBzZXNzaW9uOiBudWxsLCBlcnJvcjogTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pIH1cbiAgfVxuXG4gIC8vKiBWZXJpZnkgdGhhdCB0aGUgc2Vzc2lvbiBzdGlsbCBleGlzdHNcbiAgaWYgKHNlc3Npb24udXNlcj8udXVpZCkge1xuICAgIGNvbnN0IGlkID0gc2Vzc2lvbi51c2VyLmlkXG4gICAgY29uc3QgdXVpZCA9IHNlc3Npb24udXNlci51dWlkXG4gICAgY29uc3QgZ2V0UmVkaXNTZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gYHNlc3Npb246JHtpZH06JHt1dWlkfWBcbiAgICAgIGNvbnN0IGxvZ2luU2Vzc2lvbiA9IGF3YWl0IHJlZGlzLmdldChrZXkpXG4gICAgICBpZiAoIWxvZ2luU2Vzc2lvbikge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJTZXNzaW9uIG5vdCBmb3VuZFwiLCB1dWlkKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyogU2F2ZSBsYXN0IHVzZWQgYXRcbiAgICAgIC8vPyBPbmx5IGlmIGxhc3RVc2VkQXQgaXMgb2xkZXIgdGhhbiAxIG1pbnV0ZSAoYXZvaWQgc3BhbW1pbmcgdGhlIHJlZGlzIHNlcnZlcilcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGxvZ2luU2Vzc2lvbikgYXMgei5pbmZlcjxSZXR1cm5UeXBlPHR5cGVvZiBzZXNzaW9uc1NjaGVtYT4+XG4gICAgICBpZiAoZGF0YS5sYXN0VXNlZEF0KSB7XG4gICAgICAgIGNvbnN0IGxhc3RVc2VkQXQgPSBuZXcgRGF0ZShkYXRhLmxhc3RVc2VkQXQpXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICAgICAgY29uc3QgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBsYXN0VXNlZEF0LmdldFRpbWUoKVxuICAgICAgICBpZiAoZGlmZiA+IDEwMDAgKiA2MCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLz8gVXBkYXRlIHNlc3Npb24gbGFzdFVzZWRcbiAgICAgIGNvbnN0IHJlbWFpbmluZ1R0bCA9IGF3YWl0IHJlZGlzLnR0bChrZXkpXG4gICAgICAvLyEgRG8gbm90IGF3YWl0IHRvIG1ha2UgdGhlIHJlcXVlc3RzIGZhc3RlclxuICAgICAgcmVkaXMuc2V0ZXgoXG4gICAgICAgIGtleSxcbiAgICAgICAgcmVtYWluaW5nVHRsLFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgLi4uKEpTT04ucGFyc2UobG9naW5TZXNzaW9uKSBhcyBvYmplY3QpLFxuICAgICAgICAgIGxhc3RVc2VkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0UmVkaXNTZXNzaW9uKClcblxuICAgIC8vIElmIHJlcyBpcyB0cnVlIGl0IG1lYW5zIHRoYXQgdGhlIHNlc3Npb24gaXMgbm90IGZvdW5kXG4gICAgaWYgKHJlcyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHsgc2Vzc2lvbjogbnVsbCwgZXJyb3I6IE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KSB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgc2Vzc2lvbiwgZXJyb3I6IG51bGwgfVxufVxuIl0sIm5hbWVzIjpbImhlYWRlcnMiLCJyZWRpcmVjdCIsIk5leHRSZXNwb25zZSIsImF1dGhSb3V0ZXMiLCJhdXRoIiwicmVkaXMiLCJsb2dnZXIiLCJyZXF1aXJlQXV0aCIsImNhbGxiYWNrVXJsIiwic2Vzc2lvbiIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwiYmFzZVVybCIsImdldCIsIndhcm4iLCJ1cmwiLCJVUkwiLCJwYXRobmFtZSIsInNpZ25JbiIsImdldEF1dGhBcGkiLCJlcnJvciIsImpzb24iLCJzdGF0dXMiLCJ1c2VyIiwidXVpZCIsImlkIiwiZ2V0UmVkaXNTZXNzaW9uIiwia2V5IiwibG9naW5TZXNzaW9uIiwiZGVidWciLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwibGFzdFVzZWRBdCIsIkRhdGUiLCJub3ciLCJkaWZmIiwiZ2V0VGltZSIsInJlbWFpbmluZ1R0bCIsInR0bCIsInNldGV4Iiwic3RyaW5naWZ5IiwicmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/components/auth/require-auth.tsx\n");

/***/ }),

/***/ "(rsc)/./src/constants/auth.ts":
/*!*******************************!*\
  !*** ./src/constants/auth.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SESSION_MAX_AGE: () => (/* binding */ SESSION_MAX_AGE),\n/* harmony export */   authRoutes: () => (/* binding */ authRoutes),\n/* harmony export */   maxPasswordLength: () => (/* binding */ maxPasswordLength),\n/* harmony export */   minPasswordLength: () => (/* binding */ minPasswordLength)\n/* harmony export */ });\nconst SESSION_MAX_AGE = 360 * 24 * 60 * 60 // 360 days\n;\nconst authRoutes = {\n    signIn: [\n        \"/sign-in\",\n        \"/login\",\n        \"/signin\"\n    ],\n    signUp: [\n        \"/sign-up\",\n        \"/register\",\n        \"/signup\"\n    ],\n    redirectAfterSignIn: \"/examples/profile\",\n    redirectOnUnhauthorized: \"/sign-in\"\n};\nconst minPasswordLength = 8;\nconst maxPasswordLength = 25;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uc3RhbnRzL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGtCQUFrQixNQUFNLEtBQUssS0FBSyxHQUFHLFdBQVc7Q0FBWjtBQUUxQyxNQUFNQyxhQUFhO0lBQ3hCQyxRQUFRO1FBQUM7UUFBWTtRQUFVO0tBQVU7SUFDekNDLFFBQVE7UUFBQztRQUFZO1FBQWE7S0FBVTtJQUM1Q0MscUJBQXFCO0lBQ3JCQyx5QkFBeUI7QUFDM0IsRUFBQztBQUVNLE1BQU1DLG9CQUFvQixFQUFDO0FBQzNCLE1BQU1DLG9CQUFvQixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2NvbnN0YW50cy9hdXRoLnRzPzRhMzciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNFU1NJT05fTUFYX0FHRSA9IDM2MCAqIDI0ICogNjAgKiA2MCAvLyAzNjAgZGF5c1xuXG5leHBvcnQgY29uc3QgYXV0aFJvdXRlcyA9IHtcbiAgc2lnbkluOiBbXCIvc2lnbi1pblwiLCBcIi9sb2dpblwiLCBcIi9zaWduaW5cIl0sXG4gIHNpZ25VcDogW1wiL3NpZ24tdXBcIiwgXCIvcmVnaXN0ZXJcIiwgXCIvc2lnbnVwXCJdLFxuICByZWRpcmVjdEFmdGVyU2lnbkluOiBcIi9leGFtcGxlcy9wcm9maWxlXCIsXG4gIHJlZGlyZWN0T25VbmhhdXRob3JpemVkOiBcIi9zaWduLWluXCIsXG59XG5cbmV4cG9ydCBjb25zdCBtaW5QYXNzd29yZExlbmd0aCA9IDhcbmV4cG9ydCBjb25zdCBtYXhQYXNzd29yZExlbmd0aCA9IDI1XG4iXSwibmFtZXMiOlsiU0VTU0lPTl9NQVhfQUdFIiwiYXV0aFJvdXRlcyIsInNpZ25JbiIsInNpZ25VcCIsInJlZGlyZWN0QWZ0ZXJTaWduSW4iLCJyZWRpcmVjdE9uVW5oYXV0aG9yaXplZCIsIm1pblBhc3N3b3JkTGVuZ3RoIiwibWF4UGFzc3dvcmRMZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/constants/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/constants/index.ts":
/*!********************************!*\
  !*** ./src/constants/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appDescription: () => (/* binding */ appDescription),\n/* harmony export */   appTitle: () => (/* binding */ appTitle),\n/* harmony export */   defaultMaxPerPage: () => (/* binding */ defaultMaxPerPage),\n/* harmony export */   emailVerificationExpiration: () => (/* binding */ emailVerificationExpiration),\n/* harmony export */   lastLocaleExpirationInSeconds: () => (/* binding */ lastLocaleExpirationInSeconds),\n/* harmony export */   maxUploadSize: () => (/* binding */ maxUploadSize),\n/* harmony export */   otpWindow: () => (/* binding */ otpWindow),\n/* harmony export */   resendEmailVerificationExpiration: () => (/* binding */ resendEmailVerificationExpiration),\n/* harmony export */   resendResetPasswordExpiration: () => (/* binding */ resendResetPasswordExpiration),\n/* harmony export */   resetPasswordExpiration: () => (/* binding */ resetPasswordExpiration),\n/* harmony export */   rolesAsObject: () => (/* binding */ rolesAsObject)\n/* harmony export */ });\nconst rolesAsObject = {\n    admin: \"ADMIN\",\n    user: \"USER\"\n};\nconst appTitle = (dictionary)=>dictionary.app.name;\nconst appDescription = (dictionary)=>dictionary.app.description;\nconst resetPasswordExpiration = 1000 * 60 * 60 * 24 // 24 hours\n;\nconst resendResetPasswordExpiration = 1000 * 60 * 5 // 5 minutes\n;\nconst emailVerificationExpiration = 1000 * 60 * 60 * 24 * 3 // 3 days\n;\nconst resendEmailVerificationExpiration = 1000 * 60 * 2 // 5 minutes\n;\nconst defaultMaxPerPage = 100;\nconst maxUploadSize = 1024 * 1024 * 10 // 10 MB\n;\nconst otpWindow = 1;\nconst lastLocaleExpirationInSeconds = 60 * 60 * 24 * 30 // 30 days\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uc3RhbnRzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRU8sTUFBTUEsZ0JBQWdCO0lBQzNCQyxPQUFPO0lBQ1BDLE1BQU07QUFDUixFQUFVO0FBRUgsTUFBTUMsV0FBVyxDQUFDQyxhQUFxREEsV0FBV0MsR0FBRyxDQUFDQyxJQUFJO0FBQzFGLE1BQU1DLGlCQUFpQixDQUFDSCxhQUE0REEsV0FBV0MsR0FBRyxDQUFDRyxXQUFXO0FBRTlHLE1BQU1DLDBCQUEwQixPQUFPLEtBQUssS0FBSyxHQUFHLFdBQVc7Q0FBWjtBQUNuRCxNQUFNQyxnQ0FBZ0MsT0FBTyxLQUFLLEVBQUUsWUFBWTtDQUFiO0FBQ25ELE1BQU1DLDhCQUE4QixPQUFPLEtBQUssS0FBSyxLQUFLLEVBQUUsU0FBUztDQUFWO0FBQzNELE1BQU1DLG9DQUFvQyxPQUFPLEtBQUssRUFBRSxZQUFZO0NBQWI7QUFDdkQsTUFBTUMsb0JBQW9CLElBQUc7QUFDN0IsTUFBTUMsZ0JBQWdCLE9BQU8sT0FBTyxHQUFHLFFBQVE7Q0FBVDtBQUV0QyxNQUFNQyxZQUFZLEVBQUM7QUFFbkIsTUFBTUMsZ0NBQWdDLEtBQUssS0FBSyxLQUFLLEdBQUcsVUFBVTtDQUFYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2NvbnN0YW50cy9pbmRleC50cz82M2ZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFREaWN0aW9uYXJ5IH0gZnJvbSBcIkAvbGliL2xhbmdzXCJcblxuZXhwb3J0IGNvbnN0IHJvbGVzQXNPYmplY3QgPSB7XG4gIGFkbWluOiBcIkFETUlOXCIsXG4gIHVzZXI6IFwiVVNFUlwiLFxufSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgYXBwVGl0bGUgPSAoZGljdGlvbmFyeTogVERpY3Rpb25hcnk8eyBhcHA6IHsgbmFtZTogdHJ1ZSB9IH0+KSA9PiBkaWN0aW9uYXJ5LmFwcC5uYW1lXG5leHBvcnQgY29uc3QgYXBwRGVzY3JpcHRpb24gPSAoZGljdGlvbmFyeTogVERpY3Rpb25hcnk8eyBhcHA6IHsgZGVzY3JpcHRpb246IHRydWUgfSB9PikgPT4gZGljdGlvbmFyeS5hcHAuZGVzY3JpcHRpb25cblxuZXhwb3J0IGNvbnN0IHJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uID0gMTAwMCAqIDYwICogNjAgKiAyNCAvLyAyNCBob3Vyc1xuZXhwb3J0IGNvbnN0IHJlc2VuZFJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uID0gMTAwMCAqIDYwICogNSAvLyA1IG1pbnV0ZXNcbmV4cG9ydCBjb25zdCBlbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24gPSAxMDAwICogNjAgKiA2MCAqIDI0ICogMyAvLyAzIGRheXNcbmV4cG9ydCBjb25zdCByZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24gPSAxMDAwICogNjAgKiAyIC8vIDUgbWludXRlc1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRNYXhQZXJQYWdlID0gMTAwXG5leHBvcnQgY29uc3QgbWF4VXBsb2FkU2l6ZSA9IDEwMjQgKiAxMDI0ICogMTAgLy8gMTAgTUJcblxuZXhwb3J0IGNvbnN0IG90cFdpbmRvdyA9IDFcblxuZXhwb3J0IGNvbnN0IGxhc3RMb2NhbGVFeHBpcmF0aW9uSW5TZWNvbmRzID0gNjAgKiA2MCAqIDI0ICogMzAgLy8gMzAgZGF5c1xuIl0sIm5hbWVzIjpbInJvbGVzQXNPYmplY3QiLCJhZG1pbiIsInVzZXIiLCJhcHBUaXRsZSIsImRpY3Rpb25hcnkiLCJhcHAiLCJuYW1lIiwiYXBwRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInJlc2V0UGFzc3dvcmRFeHBpcmF0aW9uIiwicmVzZW5kUmVzZXRQYXNzd29yZEV4cGlyYXRpb24iLCJlbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24iLCJyZXNlbmRFbWFpbFZlcmlmaWNhdGlvbkV4cGlyYXRpb24iLCJkZWZhdWx0TWF4UGVyUGFnZSIsIm1heFVwbG9hZFNpemUiLCJvdHBXaW5kb3ciLCJsYXN0TG9jYWxlRXhwaXJhdGlvbkluU2Vjb25kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/constants/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/constants/medias.ts":
/*!*********************************!*\
  !*** ./src/constants/medias.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logoUrl: () => (/* binding */ logoUrl)\n/* harmony export */ });\nconst logoUrl = \"https://imgs.search.brave.com/I_nW-x21BB6_TTk_xXuYVy5pZlaMfv0h4q35oqhrxvc/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9zZWVr/bG9nby5jb20vaW1h/Z2VzL04vbmV4dC1q/cy1pY29uLWxvZ28t/RUUzMDJENURCRC1z/ZWVrbG9nby5jb20u/cG5n\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uc3RhbnRzL21lZGlhcy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsVUFDWCwyTUFBME0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvY29uc3RhbnRzL21lZGlhcy50cz84OGQzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBsb2dvVXJsID1cbiAgXCJodHRwczovL2ltZ3Muc2VhcmNoLmJyYXZlLmNvbS9JX25XLXgyMUJCNl9UVGtfeFh1WVZ5NXBabGFNZnYwaDRxMzVvcWhyeHZjL3JzOmZpdDo4NjA6MDowL2c6Y2UvYUhSMGNITTZMeTl6WldWci9iRzluYnk1amIyMHZhVzFoL1oyVnpMMDR2Ym1WNGRDMXEvY3kxcFkyOXVMV3h2WjI4dC9SVVV6TURKRU5VUkNSQzF6L1pXVnJiRzluYnk1amIyMHUvY0c1blwiXG4iXSwibmFtZXMiOlsibG9nb1VybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/constants/medias.ts\n");

/***/ }),

/***/ "(rsc)/./src/constants/rate-limit.ts":
/*!*************************************!*\
  !*** ./src/constants/rate-limit.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RATE_LIMIT_DURATION: () => (/* binding */ RATE_LIMIT_DURATION),\n/* harmony export */   RATE_LIMIT_PER_INTERVAL: () => (/* binding */ RATE_LIMIT_PER_INTERVAL)\n/* harmony export */ });\nconst RATE_LIMIT_PER_INTERVAL = 60;\nconst RATE_LIMIT_DURATION = 30;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uc3RhbnRzL3JhdGUtbGltaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNQSwwQkFBMEIsR0FBRTtBQUNsQyxNQUFNQyxzQkFBc0IsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9jb25zdGFudHMvcmF0ZS1saW1pdC50cz84ZjViIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBSQVRFX0xJTUlUX1BFUl9JTlRFUlZBTCA9IDYwXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9EVVJBVElPTiA9IDMwXG4iXSwibmFtZXMiOlsiUkFURV9MSU1JVF9QRVJfSU5URVJWQUwiLCJSQVRFX0xJTUlUX0RVUkFUSU9OIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/constants/rate-limit.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth/index.ts":
/*!*******************************!*\
  !*** ./src/lib/auth/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   providers: () => (/* binding */ providers),\n/* harmony export */   providersByName: () => (/* binding */ providersByName),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/../../node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/../../node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/../../node_modules/next-auth/providers/github.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var otpauth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! otpauth */ \"(rsc)/../../node_modules/otpauth/dist/otpauth.node.mjs\");\n/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! request-ip */ \"(rsc)/../../node_modules/request-ip/lib/index.js\");\n/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(request_ip__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _api_me_email_mutations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/api/me/email/mutations */ \"(rsc)/./src/api/me/email/mutations.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/constants */ \"(rsc)/./src/constants/index.ts\");\n/* harmony import */ var _constants_auth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/constants/auth */ \"(rsc)/./src/constants/auth.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _lib_i18n_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/i18n-config */ \"(rsc)/./src/lib/i18n-config.ts\");\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/../../node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _api_auth_schemas__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../api/auth/schemas */ \"(rsc)/./src/api/auth/schemas.ts\");\n/* harmony import */ var _bcrypt__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../bcrypt */ \"(rsc)/./src/lib/bcrypt.ts\");\n/* harmony import */ var _langs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../langs */ \"(rsc)/./src/lib/langs.ts\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _redis__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../redis */ \"(rsc)/./src/lib/redis.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../utils */ \"(rsc)/./src/lib/utils/index.ts\");\n/* harmony import */ var _utils_dictionary__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/dictionary */ \"(rsc)/./src/lib/utils/dictionary.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst providers = [\n    (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n        name: \"credentials\",\n        credentials: {\n            email: {\n                label: \"Email\",\n                type: \"email\",\n                placeholder: \"youremail@gmail.com\"\n            },\n            password: {\n                label: \"Password\",\n                type: \"password\"\n            }\n        },\n        authorize: async (credentials, req)=>{\n            const referer = req.headers.get(\"referer\") ?? \"\";\n            const refererUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_18__.ensureRelativeUrl)(referer);\n            const lang = _lib_i18n_config__WEBPACK_IMPORTED_MODULE_10__.i18n.locales.find((locale)=>refererUrl.startsWith(`/${locale}/`)) ?? _lib_i18n_config__WEBPACK_IMPORTED_MODULE_10__.i18n.defaultLocale;\n            const dr = (0,_utils_dictionary__WEBPACK_IMPORTED_MODULE_19__.dictionaryRequirements)({\n                errors: {\n                    password: {\n                        max25: true\n                    },\n                    wrongProvider: true\n                }\n            }, {\n                errors: {\n                    email: {\n                        required: true,\n                        invalid: true\n                    }\n                }\n            });\n            const dictionary = await (0,_langs__WEBPACK_IMPORTED_MODULE_15__.getDictionary)(lang, dr);\n            const creds = (0,_api_auth_schemas__WEBPACK_IMPORTED_MODULE_13__.signInSchema)(dictionary).parse(credentials);\n            if (!creds.email || !creds.password) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.debug(\"Missing credentials\", creds);\n                return null;\n            }\n            const user = await _prisma__WEBPACK_IMPORTED_MODULE_16__.prisma.user.findUnique({\n                where: {\n                    email: creds.email\n                },\n                select: {\n                    id: true,\n                    email: true,\n                    username: true,\n                    role: true,\n                    password: true,\n                    emailVerified: true,\n                    hasPassword: true\n                }\n            });\n            if (!user) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.debug(\"User not found\", creds.email);\n                return null;\n            }\n            if (!user.password) {\n                //? this should happen if the user signed up with a provider\n                throw new Error(dictionary.errors.wrongProvider);\n            }\n            const isValidPassword = await (0,_bcrypt__WEBPACK_IMPORTED_MODULE_14__.bcryptCompare)(creds.password, user.password);\n            if (!isValidPassword) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.debug(\"Invalid password\", user.id);\n                return null;\n            }\n            //* Store user agent and ip address in session\n            const uuid = (0,crypto__WEBPACK_IMPORTED_MODULE_3__.randomUUID)();\n            try {\n                const ua = req.headers.get(\"user-agent\") ?? \"\";\n                const parsedHeaders = {};\n                req.headers.forEach((value, key)=>{\n                    parsedHeaders[key] = value;\n                });\n                const ip = request_ip__WEBPACK_IMPORTED_MODULE_5___default().getClientIp({\n                    ...req,\n                    headers: parsedHeaders\n                }) ?? \"\";\n                const expires = new Date(Date.now() + _constants_auth__WEBPACK_IMPORTED_MODULE_8__.SESSION_MAX_AGE * 1000);\n                const body = {\n                    id: uuid,\n                    userId: user.id,\n                    expires,\n                    ua,\n                    ip,\n                    sessionToken: uuid,\n                    lastUsedAt: new Date(),\n                    createdAt: new Date()\n                };\n                await _redis__WEBPACK_IMPORTED_MODULE_17__.redis.setex(`session:${user.id}:${uuid}`, _constants_auth__WEBPACK_IMPORTED_MODULE_8__.SESSION_MAX_AGE, JSON.stringify(body));\n            } catch (error) {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.error(\"Error creating session\", error);\n            }\n            // logger.debug(\"User logged in\", user.id)\n            return {\n                id: user.id.toString(),\n                email: user.email,\n                username: user.username,\n                role: user.role,\n                uuid,\n                emailVerified: user.emailVerified,\n                hasPassword: user.hasPassword\n            };\n        }\n    })\n];\nif (_lib_env__WEBPACK_IMPORTED_MODULE_9__.env.DISABLE_REGISTRATION !== true) {\n    providers.push((0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        clientId: _lib_env__WEBPACK_IMPORTED_MODULE_9__.env.GITHUB_CLIENT_ID,\n        clientSecret: _lib_env__WEBPACK_IMPORTED_MODULE_9__.env.GITHUB_CLIENT_SECRET\n    }));\n}\nconst providersByName = providers.reduce((acc, cur)=>{\n    acc[cur.name] = cur;\n    return acc;\n}, {});\nconst { auth, handlers, signIn, signOut } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    secret: _lib_env__WEBPACK_IMPORTED_MODULE_9__.env.NEXTAUTH_SECRET,\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_11__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_16__.prisma),\n    providers,\n    callbacks: {\n        jwt: async ({ token, user })=>{\n            // logger.debug(\"JWT token\", token)\n            if (user) {\n                token.id = user.id;\n                token.email = user.email;\n                if (\"hasPassword\" in user) token.hasPassword = user.hasPassword;\n                if (\"username\" in user) token.username = user.username;\n                if (\"role\" in user) token.role = user.role;\n                if (\"uuid\" in user) token.uuid = user.uuid;\n                if (\"emailVerified\" in user) token.emailVerified = user.emailVerified;\n                if (\"lastLocale\" in user) token.lastLocale = user.lastLocale;\n                //* Send verification email if needed\n                if (user.email && \"emailVerified\" in user && !user.emailVerified) {\n                    const dbUser = await _prisma__WEBPACK_IMPORTED_MODULE_16__.prisma.user.findUnique({\n                        where: {\n                            email: user.email.toLowerCase()\n                        }\n                    });\n                    if (!dbUser) throw new Error(\"User not found\");\n                    await (0,_api_me_email_mutations__WEBPACK_IMPORTED_MODULE_6__.sendVerificationEmail)({\n                        input: {\n                            user: dbUser,\n                            silent: true\n                        },\n                        ctx: {}\n                    });\n                }\n            }\n            return token;\n        },\n        session: async ({ session, token })=>{\n            // logger.debug(\"Session token\", token)\n            if (!token.id || typeof token.id !== \"string\") {\n                _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.debug(\"Missing token id\");\n                throw new Error(\"MISSING_TOKEN_ID\");\n            }\n            //* Verify that the user still exists\n            const dbUser = await _prisma__WEBPACK_IMPORTED_MODULE_16__.prisma.user.findUnique({\n                where: {\n                    id: token.id\n                }\n            });\n            if (!dbUser) {\n                // logger.debug(\"User not found\", token.id)\n                throw new Error(\"USER_NOT_FOUND\");\n            }\n            //* Fill session with user data\n            const username = dbUser.username;\n            const role = dbUser.role;\n            const hasPassword = dbUser.hasPassword;\n            const emailVerified = dbUser.emailVerified;\n            const lastLocale = dbUser.lastLocale;\n            //* Fill session with token data\n            const uuid = \"uuid\" in token ? token.uuid : undefined;\n            const sessionFilled = {\n                ...session,\n                user: {\n                    ...session.user,\n                    id: token.id,\n                    username,\n                    role,\n                    uuid,\n                    hasPassword,\n                    emailVerified,\n                    lastLocale\n                }\n            };\n            return sessionFilled;\n        },\n        async signIn ({ user, credentials, account }) {\n            if (user.email) {\n                const dbUser = await _prisma__WEBPACK_IMPORTED_MODULE_16__.prisma.user.findUnique({\n                    where: {\n                        email: user.email.toLowerCase()\n                    }\n                });\n                if (!dbUser) return true;\n                //* Send verification email if needed\n                await (0,_api_me_email_mutations__WEBPACK_IMPORTED_MODULE_6__.sendVerificationEmail)({\n                    input: {\n                        user: dbUser,\n                        silent: true\n                    },\n                    ctx: {}\n                });\n                //* Redirect to otp page if needed\n                const userHasOtp = dbUser?.otpVerified;\n                const provId = account?.provider;\n                if (provId === \"credentials\" && userHasOtp && (!credentials?.otp || typeof credentials.otp !== \"string\" || credentials.otp === \"undefined\")) {\n                    throw new Error(\"OTP_REQUIRED\");\n                } else if (userHasOtp && credentials?.otp) {\n                    //? Check the otp\n                    const totp = new otpauth__WEBPACK_IMPORTED_MODULE_4__.TOTP({\n                        algorithm: \"SHA1\",\n                        digits: 6,\n                        period: 30,\n                        secret: dbUser.otpSecret\n                    });\n                    const isValid = totp.validate({\n                        token: credentials.otp,\n                        window: _constants__WEBPACK_IMPORTED_MODULE_7__.otpWindow\n                    }) !== null;\n                    if (!isValid) {\n                        throw new Error(\"OTP_INVALID\");\n                    }\n                }\n            }\n            return true;\n        }\n    },\n    pages: {\n        signIn: _constants_auth__WEBPACK_IMPORTED_MODULE_8__.authRoutes.signIn[0],\n        newUser: _constants_auth__WEBPACK_IMPORTED_MODULE_8__.authRoutes.signUp[0],\n        error: _constants_auth__WEBPACK_IMPORTED_MODULE_8__.authRoutes.signIn[0]\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: _constants_auth__WEBPACK_IMPORTED_MODULE_8__.SESSION_MAX_AGE\n    },\n    logger: {\n        warn (code) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.warn(\"warn\", code);\n        },\n        error (error) {\n            const { name } = error;\n            if ([\n                \"CredentialsSignin\",\n                \"JWTSessionError\",\n                \"CallbackRouteError\"\n            ].includes(name)) return;\n            _elan_lib__WEBPACK_IMPORTED_MODULE_12__.logger.error(\"Next auth error\");\n            console.error(error);\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ0EsT0FBTztRQUNUO0lBQ0Y7SUFDQW1FLE9BQU87UUFDTGhDLFFBQVF2Rix1REFBVUEsQ0FBQ3VGLE1BQU0sQ0FBQyxFQUFFO1FBQzVCaUMsU0FBU3hILHVEQUFVQSxDQUFDeUgsTUFBTSxDQUFDLEVBQUU7UUFDN0JoRCxPQUFPekUsdURBQVVBLENBQUN1RixNQUFNLENBQUMsRUFBRTtJQUM3QjtJQUNBYyxTQUFTO1FBQ1BxQixVQUFVO1FBQ1ZDLFFBQVExSCw0REFBZUE7SUFDekI7SUFDQUksUUFBUTtRQUNOdUgsTUFBS0MsSUFBSTtZQUNQeEgsOENBQU1BLENBQUN1SCxJQUFJLENBQUMsUUFBUUM7UUFDdEI7UUFDQXBELE9BQU1BLEtBQUs7WUFDVCxNQUFNLEVBQUUzRCxJQUFJLEVBQUUsR0FBRzJEO1lBQ2pCLElBQUk7Z0JBQUM7Z0JBQXFCO2dCQUFtQjthQUFxQixDQUFDcUQsUUFBUSxDQUFDaEgsT0FBTztZQUNuRlQsOENBQU1BLENBQUNvRSxLQUFLLENBQUM7WUFDYnNELFFBQVF0RCxLQUFLLENBQUNBO1FBQ2hCO0lBQ0Y7QUFDRixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9hdXRoL2luZGV4LnRzP2M5NzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IENyZWRlbnRpYWxzIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCJcbmltcG9ydCBHaXRodWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIlxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9pbmRleFwiXG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSBcImNyeXB0b1wiXG5pbXBvcnQgKiBhcyBPVFBBdXRoIGZyb20gXCJvdHBhdXRoXCJcbmltcG9ydCByZXF1ZXN0SXAsIHsgUmVxdWVzdEhlYWRlcnMgfSBmcm9tIFwicmVxdWVzdC1pcFwiXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7IHNlbmRWZXJpZmljYXRpb25FbWFpbCB9IGZyb20gXCJAL2FwaS9tZS9lbWFpbC9tdXRhdGlvbnNcIlxuaW1wb3J0IHsgb3RwV2luZG93IH0gZnJvbSBcIkAvY29uc3RhbnRzXCJcbmltcG9ydCB7IGF1dGhSb3V0ZXMsIFNFU1NJT05fTUFYX0FHRSB9IGZyb20gXCJAL2NvbnN0YW50cy9hdXRoXCJcbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIlxuaW1wb3J0IHsgaTE4biB9IGZyb20gXCJAL2xpYi9pMThuLWNvbmZpZ1wiXG5pbXBvcnQgeyBJVHJwY0NvbnRleHQgfSBmcm9tIFwiQC90eXBlc1wiXG5pbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL3ByaXNtYS1hZGFwdGVyXCJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJAZWxhbi9saWJcIlxuXG5pbXBvcnQgeyBzaWduSW5TY2hlbWEgfSBmcm9tIFwiLi4vLi4vYXBpL2F1dGgvc2NoZW1hc1wiXG5pbXBvcnQgeyBzZXNzaW9uc1NjaGVtYSB9IGZyb20gXCIuLi8uLi9hcGkvbWUvc2NoZW1hc1wiXG5pbXBvcnQgeyBiY3J5cHRDb21wYXJlIH0gZnJvbSBcIi4uL2JjcnlwdFwiXG5pbXBvcnQgeyBnZXREaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL2xhbmdzXCJcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi9wcmlzbWFcIlxuaW1wb3J0IHsgcmVkaXMgfSBmcm9tIFwiLi4vcmVkaXNcIlxuaW1wb3J0IHsgZW5zdXJlUmVsYXRpdmVVcmwgfSBmcm9tIFwiLi4vdXRpbHNcIlxuaW1wb3J0IHsgZGljdGlvbmFyeVJlcXVpcmVtZW50cyB9IGZyb20gXCIuLi91dGlscy9kaWN0aW9uYXJ5XCJcblxuZXhwb3J0IGNvbnN0IHByb3ZpZGVyczogUHJvdmlkZXJbXSA9IFtcbiAgQ3JlZGVudGlhbHMoe1xuICAgIG5hbWU6IFwiY3JlZGVudGlhbHNcIixcbiAgICBjcmVkZW50aWFsczoge1xuICAgICAgZW1haWw6IHtcbiAgICAgICAgbGFiZWw6IFwiRW1haWxcIixcbiAgICAgICAgdHlwZTogXCJlbWFpbFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJ5b3VyZW1haWxAZ21haWwuY29tXCIsXG4gICAgICB9LFxuICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG4gICAgfSxcbiAgICBhdXRob3JpemU6IGFzeW5jIChjcmVkZW50aWFscywgcmVxKSA9PiB7XG4gICAgICBjb25zdCByZWZlcmVyID0gcmVxLmhlYWRlcnMuZ2V0KFwicmVmZXJlclwiKSA/PyBcIlwiXG4gICAgICBjb25zdCByZWZlcmVyVXJsID0gZW5zdXJlUmVsYXRpdmVVcmwocmVmZXJlcilcbiAgICAgIGNvbnN0IGxhbmcgPSBpMThuLmxvY2FsZXMuZmluZCgobG9jYWxlKSA9PiByZWZlcmVyVXJsLnN0YXJ0c1dpdGgoYC8ke2xvY2FsZX0vYCkpID8/IGkxOG4uZGVmYXVsdExvY2FsZVxuICAgICAgY29uc3QgZHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBwYXNzd29yZDoge1xuICAgICAgICAgICAgICBtYXgyNTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cm9uZ1Byb3ZpZGVyOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICBpbnZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApXG4gICAgICBjb25zdCBkaWN0aW9uYXJ5ID0gYXdhaXQgZ2V0RGljdGlvbmFyeShsYW5nLCBkcilcblxuICAgICAgY29uc3QgY3JlZHMgPSBzaWduSW5TY2hlbWEoZGljdGlvbmFyeSkucGFyc2UoY3JlZGVudGlhbHMpXG5cbiAgICAgIGlmICghY3JlZHMuZW1haWwgfHwgIWNyZWRzLnBhc3N3b3JkKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIk1pc3NpbmcgY3JlZGVudGlhbHNcIiwgY3JlZHMpXG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRzLmVtYWlsIH0sXG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgIHVzZXJuYW1lOiB0cnVlLFxuICAgICAgICAgIHJvbGU6IHRydWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IHRydWUsXG4gICAgICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICBoYXNQYXNzd29yZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJVc2VyIG5vdCBmb3VuZFwiLCBjcmVkcy5lbWFpbClcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cblxuICAgICAgaWYgKCF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICAgIC8vPyB0aGlzIHNob3VsZCBoYXBwZW4gaWYgdGhlIHVzZXIgc2lnbmVkIHVwIHdpdGggYSBwcm92aWRlclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGljdGlvbmFyeS5lcnJvcnMud3JvbmdQcm92aWRlcilcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Q29tcGFyZShjcmVkcy5wYXNzd29yZCwgdXNlci5wYXNzd29yZClcblxuICAgICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiSW52YWxpZCBwYXNzd29yZFwiLCB1c2VyLmlkKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICAvLyogU3RvcmUgdXNlciBhZ2VudCBhbmQgaXAgYWRkcmVzcyBpbiBzZXNzaW9uXG4gICAgICBjb25zdCB1dWlkID0gcmFuZG9tVVVJRCgpXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1YSA9IHJlcS5oZWFkZXJzLmdldChcInVzZXItYWdlbnRcIikgPz8gXCJcIlxuICAgICAgICBjb25zdCBwYXJzZWRIZWFkZXJzOiBSZXF1ZXN0SGVhZGVycyA9IHt9XG4gICAgICAgIHJlcS5oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBwYXJzZWRIZWFkZXJzW2tleV0gPSB2YWx1ZVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBpcCA9XG4gICAgICAgICAgcmVxdWVzdElwLmdldENsaWVudElwKHtcbiAgICAgICAgICAgIC4uLnJlcSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHBhcnNlZEhlYWRlcnMsXG4gICAgICAgICAgfSkgPz8gXCJcIlxuICAgICAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIFNFU1NJT05fTUFYX0FHRSAqIDEwMDApXG4gICAgICAgIGNvbnN0IGJvZHk6IHouaW5mZXI8UmV0dXJuVHlwZTx0eXBlb2Ygc2Vzc2lvbnNTY2hlbWE+PiA9IHtcbiAgICAgICAgICBpZDogdXVpZCxcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgZXhwaXJlcyxcbiAgICAgICAgICB1YSxcbiAgICAgICAgICBpcCxcbiAgICAgICAgICBzZXNzaW9uVG9rZW46IHV1aWQsXG4gICAgICAgICAgbGFzdFVzZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgcmVkaXMuc2V0ZXgoYHNlc3Npb246JHt1c2VyLmlkfToke3V1aWR9YCwgU0VTU0lPTl9NQVhfQUdFLCBKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlc3Npb25cIiwgZXJyb3IpXG4gICAgICB9XG5cbiAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhcIlVzZXIgbG9nZ2VkIGluXCIsIHVzZXIuaWQpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogdXNlci5pZC50b1N0cmluZygpLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgdXVpZCxcbiAgICAgICAgZW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkLFxuICAgICAgICBoYXNQYXNzd29yZDogdXNlci5oYXNQYXNzd29yZCxcbiAgICAgIH1cbiAgICB9LFxuICB9KSxcbl1cblxuaWYgKGVudi5ESVNBQkxFX1JFR0lTVFJBVElPTiAhPT0gdHJ1ZSkge1xuICBwcm92aWRlcnMucHVzaChcbiAgICBHaXRodWJQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogZW52LkdJVEhVQl9DTElFTlRfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IGVudi5HSVRIVUJfQ0xJRU5UX1NFQ1JFVCxcbiAgICB9KVxuICApXG59XG5cbmV4cG9ydCBjb25zdCBwcm92aWRlcnNCeU5hbWU6IHtcbiAgW2tleTogc3RyaW5nXTogUHJvdmlkZXIgfCB1bmRlZmluZWRcbn0gPSBwcm92aWRlcnMucmVkdWNlPHtcbiAgW2tleTogc3RyaW5nXTogUHJvdmlkZXIgfCB1bmRlZmluZWRcbn0+KChhY2MsIGN1cikgPT4ge1xuICBhY2NbY3VyLm5hbWVdID0gY3VyXG4gIHJldHVybiBhY2Ncbn0sIHt9KVxuXG5leHBvcnQgY29uc3QgeyBhdXRoLCBoYW5kbGVycywgc2lnbkluLCBzaWduT3V0IH0gPSBOZXh0QXV0aCh7XG4gIHNlY3JldDogZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLCAvLz8gUmVxdWlyZSB0byB1c2UgZGF0YWJhc2VcbiAgcHJvdmlkZXJzLFxuICBjYWxsYmFja3M6IHtcbiAgICBqd3Q6IGFzeW5jICh7IHRva2VuLCB1c2VyIH0pID0+IHtcbiAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhcIkpXVCB0b2tlblwiLCB0b2tlbilcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgICAgaWYgKFwiaGFzUGFzc3dvcmRcIiBpbiB1c2VyKSB0b2tlbi5oYXNQYXNzd29yZCA9IHVzZXIuaGFzUGFzc3dvcmQgYXMgYm9vbGVhblxuICAgICAgICBpZiAoXCJ1c2VybmFtZVwiIGluIHVzZXIpIHRva2VuLnVzZXJuYW1lID0gdXNlci51c2VybmFtZVxuICAgICAgICBpZiAoXCJyb2xlXCIgaW4gdXNlcikgdG9rZW4ucm9sZSA9IHVzZXIucm9sZSBhcyBzdHJpbmdcbiAgICAgICAgaWYgKFwidXVpZFwiIGluIHVzZXIpIHRva2VuLnV1aWQgPSB1c2VyLnV1aWQgYXMgc3RyaW5nXG4gICAgICAgIGlmIChcImVtYWlsVmVyaWZpZWRcIiBpbiB1c2VyKSB0b2tlbi5lbWFpbFZlcmlmaWVkID0gdXNlci5lbWFpbFZlcmlmaWVkIGFzIERhdGVcbiAgICAgICAgaWYgKFwibGFzdExvY2FsZVwiIGluIHVzZXIpIHRva2VuLmxhc3RMb2NhbGUgPSB1c2VyLmxhc3RMb2NhbGUgYXMgc3RyaW5nIHwgbnVsbFxuICAgICAgICAvLyogU2VuZCB2ZXJpZmljYXRpb24gZW1haWwgaWYgbmVlZGVkXG4gICAgICAgIGlmICh1c2VyLmVtYWlsICYmIFwiZW1haWxWZXJpZmllZFwiIGluIHVzZXIgJiYgIXVzZXIuZW1haWxWZXJpZmllZCkge1xuICAgICAgICAgIGNvbnN0IGRiVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgICBpZiAoIWRiVXNlcikgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBub3QgZm91bmRcIilcbiAgICAgICAgICBhd2FpdCBzZW5kVmVyaWZpY2F0aW9uRW1haWwoeyBpbnB1dDogeyB1c2VyOiBkYlVzZXIsIHNpbGVudDogdHJ1ZSB9LCBjdHg6IHt9IGFzIElUcnBjQ29udGV4dCB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW5cbiAgICB9LFxuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH0pID0+IHtcbiAgICAgIC8vIGxvZ2dlci5kZWJ1ZyhcIlNlc3Npb24gdG9rZW5cIiwgdG9rZW4pXG4gICAgICBpZiAoIXRva2VuLmlkIHx8IHR5cGVvZiB0b2tlbi5pZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJNaXNzaW5nIHRva2VuIGlkXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1JU1NJTkdfVE9LRU5fSURcIilcbiAgICAgIH1cbiAgICAgIC8vKiBWZXJpZnkgdGhhdCB0aGUgdXNlciBzdGlsbCBleGlzdHNcbiAgICAgIGNvbnN0IGRiVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiB0b2tlbi5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICBpZiAoIWRiVXNlcikge1xuICAgICAgICAvLyBsb2dnZXIuZGVidWcoXCJVc2VyIG5vdCBmb3VuZFwiLCB0b2tlbi5pZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVVNFUl9OT1RfRk9VTkRcIilcbiAgICAgIH1cbiAgICAgIC8vKiBGaWxsIHNlc3Npb24gd2l0aCB1c2VyIGRhdGFcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gZGJVc2VyLnVzZXJuYW1lXG4gICAgICBjb25zdCByb2xlID0gZGJVc2VyLnJvbGVcbiAgICAgIGNvbnN0IGhhc1Bhc3N3b3JkID0gZGJVc2VyLmhhc1Bhc3N3b3JkXG4gICAgICBjb25zdCBlbWFpbFZlcmlmaWVkID0gZGJVc2VyLmVtYWlsVmVyaWZpZWRcbiAgICAgIGNvbnN0IGxhc3RMb2NhbGUgPSBkYlVzZXIubGFzdExvY2FsZVxuICAgICAgLy8qIEZpbGwgc2Vzc2lvbiB3aXRoIHRva2VuIGRhdGFcbiAgICAgIGNvbnN0IHV1aWQgPSBcInV1aWRcIiBpbiB0b2tlbiA/IHRva2VuLnV1aWQgOiB1bmRlZmluZWRcbiAgICAgIGNvbnN0IHNlc3Npb25GaWxsZWQgPSB7XG4gICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAuLi5zZXNzaW9uLnVzZXIsXG4gICAgICAgICAgaWQ6IHRva2VuLmlkLFxuICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgdXVpZCxcbiAgICAgICAgICBoYXNQYXNzd29yZCxcbiAgICAgICAgICBlbWFpbFZlcmlmaWVkLFxuICAgICAgICAgIGxhc3RMb2NhbGUsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbkZpbGxlZFxuICAgIH0sXG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgY3JlZGVudGlhbHMsIGFjY291bnQgfSkge1xuICAgICAgaWYgKHVzZXIuZW1haWwpIHtcbiAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKCFkYlVzZXIpIHJldHVybiB0cnVlXG4gICAgICAgIC8vKiBTZW5kIHZlcmlmaWNhdGlvbiBlbWFpbCBpZiBuZWVkZWRcbiAgICAgICAgYXdhaXQgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKHsgaW5wdXQ6IHsgdXNlcjogZGJVc2VyLCBzaWxlbnQ6IHRydWUgfSwgY3R4OiB7fSBhcyBJVHJwY0NvbnRleHQgfSlcbiAgICAgICAgLy8qIFJlZGlyZWN0IHRvIG90cCBwYWdlIGlmIG5lZWRlZFxuICAgICAgICBjb25zdCB1c2VySGFzT3RwID0gZGJVc2VyPy5vdHBWZXJpZmllZFxuICAgICAgICBjb25zdCBwcm92SWQgPSBhY2NvdW50Py5wcm92aWRlclxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvdklkID09PSBcImNyZWRlbnRpYWxzXCIgJiZcbiAgICAgICAgICB1c2VySGFzT3RwICYmXG4gICAgICAgICAgKCFjcmVkZW50aWFscz8ub3RwIHx8IHR5cGVvZiBjcmVkZW50aWFscy5vdHAgIT09IFwic3RyaW5nXCIgfHwgY3JlZGVudGlhbHMub3RwID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPVFBfUkVRVUlSRURcIilcbiAgICAgICAgfSBlbHNlIGlmICh1c2VySGFzT3RwICYmIGNyZWRlbnRpYWxzPy5vdHApIHtcbiAgICAgICAgICAvLz8gQ2hlY2sgdGhlIG90cFxuICAgICAgICAgIGNvbnN0IHRvdHAgPSBuZXcgT1RQQXV0aC5UT1RQKHtcbiAgICAgICAgICAgIGFsZ29yaXRobTogXCJTSEExXCIsXG4gICAgICAgICAgICBkaWdpdHM6IDYsXG4gICAgICAgICAgICBwZXJpb2Q6IDMwLFxuICAgICAgICAgICAgc2VjcmV0OiBkYlVzZXIub3RwU2VjcmV0LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9XG4gICAgICAgICAgICB0b3RwLnZhbGlkYXRlKHtcbiAgICAgICAgICAgICAgdG9rZW46IGNyZWRlbnRpYWxzLm90cCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgIHdpbmRvdzogb3RwV2luZG93LFxuICAgICAgICAgICAgfSkgIT09IG51bGxcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9UUF9JTlZBTElEXCIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiBhdXRoUm91dGVzLnNpZ25JblswXSxcbiAgICBuZXdVc2VyOiBhdXRoUm91dGVzLnNpZ25VcFswXSxcbiAgICBlcnJvcjogYXV0aFJvdXRlcy5zaWduSW5bMF0sXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIiwgLy8/IFN0cmF0ZWd5IGRhdGFiYXNlIGNvdWxkIG5vdCB3b3JrIHdpdGggY3JlZGVudGlhbHMgcHJvdmlkZXIgZm9yIHNlY3VyaXR5IHJlYXNvbnNcbiAgICBtYXhBZ2U6IFNFU1NJT05fTUFYX0FHRSxcbiAgfSxcbiAgbG9nZ2VyOiB7XG4gICAgd2Fybihjb2RlKSB7XG4gICAgICBsb2dnZXIud2FybihcIndhcm5cIiwgY29kZSlcbiAgICB9LFxuICAgIGVycm9yKGVycm9yKSB7XG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGVycm9yXG4gICAgICBpZiAoW1wiQ3JlZGVudGlhbHNTaWduaW5cIiwgXCJKV1RTZXNzaW9uRXJyb3JcIiwgXCJDYWxsYmFja1JvdXRlRXJyb3JcIl0uaW5jbHVkZXMobmFtZSkpIHJldHVyblxuICAgICAgbG9nZ2VyLmVycm9yKFwiTmV4dCBhdXRoIGVycm9yXCIpXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgIH0sXG4gIH0sXG59KVxuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHMiLCJHaXRodWJQcm92aWRlciIsInJhbmRvbVVVSUQiLCJPVFBBdXRoIiwicmVxdWVzdElwIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwib3RwV2luZG93IiwiYXV0aFJvdXRlcyIsIlNFU1NJT05fTUFYX0FHRSIsImVudiIsImkxOG4iLCJQcmlzbWFBZGFwdGVyIiwibG9nZ2VyIiwic2lnbkluU2NoZW1hIiwiYmNyeXB0Q29tcGFyZSIsImdldERpY3Rpb25hcnkiLCJwcmlzbWEiLCJyZWRpcyIsImVuc3VyZVJlbGF0aXZlVXJsIiwiZGljdGlvbmFyeVJlcXVpcmVtZW50cyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInJlcSIsInJlZmVyZXIiLCJoZWFkZXJzIiwiZ2V0IiwicmVmZXJlclVybCIsImxhbmciLCJsb2NhbGVzIiwiZmluZCIsImxvY2FsZSIsInN0YXJ0c1dpdGgiLCJkZWZhdWx0TG9jYWxlIiwiZHIiLCJlcnJvcnMiLCJtYXgyNSIsIndyb25nUHJvdmlkZXIiLCJyZXF1aXJlZCIsImludmFsaWQiLCJkaWN0aW9uYXJ5IiwiY3JlZHMiLCJwYXJzZSIsImRlYnVnIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInNlbGVjdCIsImlkIiwidXNlcm5hbWUiLCJyb2xlIiwiZW1haWxWZXJpZmllZCIsImhhc1Bhc3N3b3JkIiwiRXJyb3IiLCJpc1ZhbGlkUGFzc3dvcmQiLCJ1dWlkIiwidWEiLCJwYXJzZWRIZWFkZXJzIiwiZm9yRWFjaCIsInZhbHVlIiwia2V5IiwiaXAiLCJnZXRDbGllbnRJcCIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwiYm9keSIsInVzZXJJZCIsInNlc3Npb25Ub2tlbiIsImxhc3RVc2VkQXQiLCJjcmVhdGVkQXQiLCJzZXRleCIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsInRvU3RyaW5nIiwiRElTQUJMRV9SRUdJU1RSQVRJT04iLCJwdXNoIiwiY2xpZW50SWQiLCJHSVRIVUJfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR0lUSFVCX0NMSUVOVF9TRUNSRVQiLCJwcm92aWRlcnNCeU5hbWUiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJhdXRoIiwiaGFuZGxlcnMiLCJzaWduSW4iLCJzaWduT3V0Iiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiYWRhcHRlciIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwibGFzdExvY2FsZSIsImRiVXNlciIsInRvTG93ZXJDYXNlIiwiaW5wdXQiLCJzaWxlbnQiLCJjdHgiLCJzZXNzaW9uIiwidW5kZWZpbmVkIiwic2Vzc2lvbkZpbGxlZCIsImFjY291bnQiLCJ1c2VySGFzT3RwIiwib3RwVmVyaWZpZWQiLCJwcm92SWQiLCJwcm92aWRlciIsIm90cCIsInRvdHAiLCJUT1RQIiwiYWxnb3JpdGhtIiwiZGlnaXRzIiwicGVyaW9kIiwib3RwU2VjcmV0IiwiaXNWYWxpZCIsInZhbGlkYXRlIiwid2luZG93IiwicGFnZXMiLCJuZXdVc2VyIiwic2lnblVwIiwic3RyYXRlZ3kiLCJtYXhBZ2UiLCJ3YXJuIiwiY29kZSIsImluY2x1ZGVzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/bcrypt.ts":
/*!***************************!*\
  !*** ./src/lib/bcrypt.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bcryptCompare: () => (/* binding */ bcryptCompare),\n/* harmony export */   hash: () => (/* binding */ hash)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/../../node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto-js */ \"(rsc)/../../node_modules/crypto-js/index.js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n\n\n\nconst PASSWORD_HASHER_SECRET = _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.PASSWORD_HASHER_SECRET;\nconst hash = async (value, saltOrRounds)=>{\n    if (value.length > 100) throw new Error(\"Password too long\");\n    const preHashed = crypto_js__WEBPACK_IMPORTED_MODULE_1___default().HmacSHA256(value, PASSWORD_HASHER_SECRET).toString();\n    return await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_0__.hash)(preHashed, saltOrRounds);\n};\nconst bcryptCompare = async (value, hash)=>{\n    if (value.length > 100) throw new Error(\"Value for password is too long\");\n    const preHashed = crypto_js__WEBPACK_IMPORTED_MODULE_1___default().HmacSHA256(value, PASSWORD_HASHER_SECRET).toString();\n    return (0,bcryptjs__WEBPACK_IMPORTED_MODULE_0__.compare)(preHashed, hash);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2JjcnlwdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWlEO0FBQ25CO0FBRUM7QUFFL0IsTUFBTUsseUJBQXlCRCx5Q0FBR0EsQ0FBQ0Msc0JBQXNCO0FBRWxELE1BQU1KLE9BQU8sT0FBT0ssT0FBZUM7SUFDeEMsSUFBSUQsTUFBTUUsTUFBTSxHQUFHLEtBQUssTUFBTSxJQUFJQyxNQUFNO0lBQ3hDLE1BQU1DLFlBQVlQLDJEQUFpQixDQUFDRyxPQUFPRCx3QkFBd0JPLFFBQVE7SUFDM0UsT0FBTyxNQUFNViw4Q0FBS0EsQ0FBQ1EsV0FBV0g7QUFDaEMsRUFBQztBQUVNLE1BQU1NLGdCQUFnQixPQUFPUCxPQUFlTDtJQUNqRCxJQUFJSyxNQUFNRSxNQUFNLEdBQUcsS0FBSyxNQUFNLElBQUlDLE1BQU07SUFDeEMsTUFBTUMsWUFBWVAsMkRBQWlCLENBQUNHLE9BQU9ELHdCQUF3Qk8sUUFBUTtJQUMzRSxPQUFPWixpREFBT0EsQ0FBQ1UsV0FBV1Q7QUFDNUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvYmNyeXB0LnRzPzU5OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcGFyZSwgaGFzaCBhcyBiaGFzaCB9IGZyb20gXCJiY3J5cHRqc1wiXG5pbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG8tanNcIlxuXG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52XCJcblxuY29uc3QgUEFTU1dPUkRfSEFTSEVSX1NFQ1JFVCA9IGVudi5QQVNTV09SRF9IQVNIRVJfU0VDUkVUXG5cbmV4cG9ydCBjb25zdCBoYXNoID0gYXN5bmMgKHZhbHVlOiBzdHJpbmcsIHNhbHRPclJvdW5kczogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gIGlmICh2YWx1ZS5sZW5ndGggPiAxMDApIHRocm93IG5ldyBFcnJvcihcIlBhc3N3b3JkIHRvbyBsb25nXCIpXG4gIGNvbnN0IHByZUhhc2hlZCA9IGNyeXB0by5IbWFjU0hBMjU2KHZhbHVlLCBQQVNTV09SRF9IQVNIRVJfU0VDUkVUKS50b1N0cmluZygpXG4gIHJldHVybiBhd2FpdCBiaGFzaChwcmVIYXNoZWQsIHNhbHRPclJvdW5kcylcbn1cblxuZXhwb3J0IGNvbnN0IGJjcnlwdENvbXBhcmUgPSBhc3luYyAodmFsdWU6IHN0cmluZywgaGFzaDogc3RyaW5nKSA9PiB7XG4gIGlmICh2YWx1ZS5sZW5ndGggPiAxMDApIHRocm93IG5ldyBFcnJvcihcIlZhbHVlIGZvciBwYXNzd29yZCBpcyB0b28gbG9uZ1wiKVxuICBjb25zdCBwcmVIYXNoZWQgPSBjcnlwdG8uSG1hY1NIQTI1Nih2YWx1ZSwgUEFTU1dPUkRfSEFTSEVSX1NFQ1JFVCkudG9TdHJpbmcoKVxuICByZXR1cm4gY29tcGFyZShwcmVIYXNoZWQsIGhhc2gpXG59XG4iXSwibmFtZXMiOlsiY29tcGFyZSIsImhhc2giLCJiaGFzaCIsImNyeXB0byIsImVudiIsIlBBU1NXT1JEX0hBU0hFUl9TRUNSRVQiLCJ2YWx1ZSIsInNhbHRPclJvdW5kcyIsImxlbmd0aCIsIkVycm9yIiwicHJlSGFzaGVkIiwiSG1hY1NIQTI1NiIsInRvU3RyaW5nIiwiYmNyeXB0Q29tcGFyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/bcrypt.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/env.ts":
/*!************************!*\
  !*** ./src/lib/env.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dotenv */ \"(rsc)/../../node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @t3-oss/env-nextjs */ \"(rsc)/../../node_modules/@t3-oss/env-nextjs/dist/index.js\");\n/* eslint-disable no-process-env */ \n\n\n\nif (!process.env.ENV) {\n    (0,dotenv__WEBPACK_IMPORTED_MODULE_0__.config)();\n}\nconst env = (0,_t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_2__.createEnv)({\n    server: {\n        ANALYZE: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\"),\n        PASSWORD_HASHER_SECRET: zod__WEBPACK_IMPORTED_MODULE_3__.z.string(),\n        DATABASE_PRISMA_URL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1),\n        DATABASE_URL_NON_POOLING: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        NEXTAUTH_SECRET: zod__WEBPACK_IMPORTED_MODULE_3__.z.string(),\n        NEXTAUTH_URL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        GITHUB_CLIENT_ID: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1),\n        GITHUB_CLIENT_SECRET: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1),\n        AUTH_ADMIN_EMAIL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1),\n        AUTH_ADMIN_PASSWORD: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().min(1),\n        REDIS_HOST: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        REDIS_PORT: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional().transform((value)=>!!value ? parseInt(value) : undefined),\n        REDIS_USERNAME: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        REDIS_PASSWORD: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        REDIS_USE_TLS: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\"),\n        ENV: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"development\",\n            \"staging\",\n            \"preproduction\",\n            \"production\"\n        ]),\n        VERCEL_URL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SMTP_HOST: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SMTP_PORT: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().transform((value)=>parseInt(value)).optional(),\n        SMTP_USERNAME: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SMTP_PASSWORD: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SMTP_FROM_NAME: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SMTP_FROM_EMAIL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        SUPPORT_EMAIL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        S3_REGION: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        S3_ACCESS_KEY_ID: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        S3_SECRET_ACCESS_KEY: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        ENABLE_S3_SERVICE: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\"),\n        DISABLE_REGISTRATION: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\")\n    },\n    client: {\n        NEXT_PUBLIC_BASE_URL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().url().optional(),\n        NEXT_PUBLIC_IS_DEMO: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\"),\n        NEXT_PUBLIC_DEMO_EMAIL: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        NEXT_PUBLIC_DEMO_PASSWORD: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        NEXT_PUBLIC_S3_ENDPOINT: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        NEXT_PUBLIC_S3_BUCKET_NAME: zod__WEBPACK_IMPORTED_MODULE_3__.z.string().optional(),\n        NEXT_PUBLIC_ENABLE_MAILING_SERVICE: zod__WEBPACK_IMPORTED_MODULE_3__.z.enum([\n            \"true\",\n            \"false\"\n        ]).optional().transform((value)=>value === \"true\")\n    },\n    runtimeEnv: {\n        ANALYZE: process.env.ANALYZE,\n        PASSWORD_HASHER_SECRET: process.env.PASSWORD_HASHER_SECRET,\n        DATABASE_PRISMA_URL: process.env.DATABASE_PRISMA_URL,\n        DATABASE_URL_NON_POOLING: process.env.DATABASE_URL_NON_POOLING,\n        NEXTAUTH_SECRET: process.env.NEXTAUTH_SECRET,\n        NEXTAUTH_URL: process.env.NEXTAUTH_URL,\n        GITHUB_CLIENT_ID: process.env.GITHUB_CLIENT_ID,\n        GITHUB_CLIENT_SECRET: process.env.GITHUB_CLIENT_SECRET,\n        AUTH_ADMIN_EMAIL: process.env.AUTH_ADMIN_EMAIL,\n        AUTH_ADMIN_PASSWORD: process.env.AUTH_ADMIN_PASSWORD,\n        REDIS_HOST: process.env.REDIS_HOST,\n        REDIS_PORT: process.env.REDIS_PORT,\n        REDIS_USERNAME: process.env.REDIS_USERNAME,\n        REDIS_PASSWORD: process.env.REDIS_PASSWORD,\n        REDIS_USE_TLS: process.env.REDIS_USE_TLS,\n        NEXT_PUBLIC_IS_DEMO: \"true\",\n        NEXT_PUBLIC_DEMO_EMAIL: \"test@mail.com\",\n        NEXT_PUBLIC_DEMO_PASSWORD: \"Azerty123!\",\n        ENV: process.env.ENV,\n        NEXT_PUBLIC_BASE_URL: \"http://localhost:3000\",\n        VERCEL_URL: process.env.VERCEL_URL,\n        SMTP_HOST: process.env.SMTP_HOST,\n        SMTP_PORT: process.env.SMTP_PORT,\n        SMTP_USERNAME: process.env.SMTP_USERNAME,\n        SMTP_PASSWORD: process.env.SMTP_PASSWORD,\n        SMTP_FROM_NAME: process.env.SMTP_FROM_NAME,\n        SMTP_FROM_EMAIL: process.env.SMTP_FROM_EMAIL,\n        SUPPORT_EMAIL: process.env.SUPPORT_EMAIL,\n        NEXT_PUBLIC_ENABLE_MAILING_SERVICE: \"false\",\n        S3_REGION: process.env.S3_REGION,\n        NEXT_PUBLIC_S3_BUCKET_NAME: \"secret\",\n        S3_ACCESS_KEY_ID: process.env.S3_ACCESS_KEY_ID,\n        S3_SECRET_ACCESS_KEY: process.env.S3_SECRET_ACCESS_KEY,\n        NEXT_PUBLIC_S3_ENDPOINT: \"s3.fr-par.scw.cloud\",\n        ENABLE_S3_SERVICE: process.env.ENABLE_S3_SERVICE,\n        DISABLE_REGISTRATION: process.env.DISABLE_REGISTRATION\n    },\n    onValidationError: (error)=>{\n        _elan_lib__WEBPACK_IMPORTED_MODULE_1__.logger.error(error);\n        throw \"Invalid environment variables\";\n    },\n    onInvalidAccess (variable) {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_1__.logger.error(`Invalid access to ${variable}`);\n        throw \"Invalid environment variables\";\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztRQUNsQnJELDZDQUFNQSxDQUFDcUQsS0FBSyxDQUFDQTtRQUNiLE1BQU07SUFDUjtJQUNBQyxpQkFBZ0JDLFFBQVE7UUFDdEJ2RCw2Q0FBTUEsQ0FBQ3FELEtBQUssQ0FBQyxDQUFDLGtCQUFrQixFQUFFRSxTQUFTLENBQUM7UUFDNUMsTUFBTTtJQUNSO0FBQ0YsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvZW52LnRzPzg0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvY2Vzcy1lbnYgKi9cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCJkb3RlbnZcIlxuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIlxuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQGVsYW4vbGliXCJcbmltcG9ydCB7IGNyZWF0ZUVudiB9IGZyb20gXCJAdDMtb3NzL2Vudi1uZXh0anNcIlxuXG5pZiAoIXByb2Nlc3MuZW52LkVOVikge1xuICBjb25maWcoKVxufVxuXG5leHBvcnQgY29uc3QgZW52ID0gY3JlYXRlRW52KHtcbiAgc2VydmVyOiB7XG4gICAgQU5BTFlaRTogelxuICAgICAgLmVudW0oW1widHJ1ZVwiLCBcImZhbHNlXCJdKVxuICAgICAgLm9wdGlvbmFsKClcbiAgICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJ0cnVlXCIpLFxuICAgIFBBU1NXT1JEX0hBU0hFUl9TRUNSRVQ6IHouc3RyaW5nKCksXG4gICAgREFUQUJBU0VfUFJJU01BX1VSTDogei5zdHJpbmcoKS5taW4oMSksXG4gICAgREFUQUJBU0VfVVJMX05PTl9QT09MSU5HOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgTkVYVEFVVEhfU0VDUkVUOiB6LnN0cmluZygpLFxuICAgIE5FWFRBVVRIX1VSTDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIEdJVEhVQl9DTElFTlRfSUQ6IHouc3RyaW5nKCkubWluKDEpLFxuICAgIEdJVEhVQl9DTElFTlRfU0VDUkVUOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICBBVVRIX0FETUlOX0VNQUlMOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICBBVVRIX0FETUlOX1BBU1NXT1JEOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICBSRURJU19IT1NUOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgUkVESVNfUE9SVDogelxuICAgICAgLnN0cmluZygpXG4gICAgICAub3B0aW9uYWwoKVxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+ICghIXZhbHVlID8gcGFyc2VJbnQodmFsdWUpIDogdW5kZWZpbmVkKSksXG4gICAgUkVESVNfVVNFUk5BTUU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBSRURJU19QQVNTV09SRDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFJFRElTX1VTRV9UTFM6IHpcbiAgICAgIC5lbnVtKFtcInRydWVcIiwgXCJmYWxzZVwiXSlcbiAgICAgIC5vcHRpb25hbCgpXG4gICAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gdmFsdWUgPT09IFwidHJ1ZVwiKSxcbiAgICBFTlY6IHouZW51bShbXCJkZXZlbG9wbWVudFwiLCBcInN0YWdpbmdcIiwgXCJwcmVwcm9kdWN0aW9uXCIsIFwicHJvZHVjdGlvblwiXSksXG4gICAgVkVSQ0VMX1VSTDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFNNVFBfSE9TVDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFNNVFBfUE9SVDogelxuICAgICAgLnN0cmluZygpXG4gICAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gcGFyc2VJbnQodmFsdWUpKVxuICAgICAgLm9wdGlvbmFsKCksXG4gICAgU01UUF9VU0VSTkFNRTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFNNVFBfUEFTU1dPUkQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBTTVRQX0ZST01fTkFNRTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFNNVFBfRlJPTV9FTUFJTDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIFNVUFBPUlRfRU1BSUw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBTM19SRUdJT046IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBTM19BQ0NFU1NfS0VZX0lEOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgUzNfU0VDUkVUX0FDQ0VTU19LRVk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBFTkFCTEVfUzNfU0VSVklDRTogelxuICAgICAgLmVudW0oW1widHJ1ZVwiLCBcImZhbHNlXCJdKVxuICAgICAgLm9wdGlvbmFsKClcbiAgICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJ0cnVlXCIpLFxuICAgIERJU0FCTEVfUkVHSVNUUkFUSU9OOiB6XG4gICAgICAuZW51bShbXCJ0cnVlXCIsIFwiZmFsc2VcIl0pXG4gICAgICAub3B0aW9uYWwoKVxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+IHZhbHVlID09PSBcInRydWVcIiksXG4gIH0sXG4gIGNsaWVudDoge1xuICAgIE5FWFRfUFVCTElDX0JBU0VfVVJMOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXG4gICAgTkVYVF9QVUJMSUNfSVNfREVNTzogelxuICAgICAgLmVudW0oW1widHJ1ZVwiLCBcImZhbHNlXCJdKVxuICAgICAgLm9wdGlvbmFsKClcbiAgICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiB2YWx1ZSA9PT0gXCJ0cnVlXCIpLFxuICAgIE5FWFRfUFVCTElDX0RFTU9fRU1BSUw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBORVhUX1BVQkxJQ19ERU1PX1BBU1NXT1JEOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgTkVYVF9QVUJMSUNfUzNfRU5EUE9JTlQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBORVhUX1BVQkxJQ19TM19CVUNLRVRfTkFNRTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIE5FWFRfUFVCTElDX0VOQUJMRV9NQUlMSU5HX1NFUlZJQ0U6IHpcbiAgICAgIC5lbnVtKFtcInRydWVcIiwgXCJmYWxzZVwiXSlcbiAgICAgIC5vcHRpb25hbCgpXG4gICAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gdmFsdWUgPT09IFwidHJ1ZVwiKSxcbiAgfSxcbiAgcnVudGltZUVudjoge1xuICAgIEFOQUxZWkU6IHByb2Nlc3MuZW52LkFOQUxZWkUsXG4gICAgUEFTU1dPUkRfSEFTSEVSX1NFQ1JFVDogcHJvY2Vzcy5lbnYuUEFTU1dPUkRfSEFTSEVSX1NFQ1JFVCxcbiAgICBEQVRBQkFTRV9QUklTTUFfVVJMOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9QUklTTUFfVVJMLFxuICAgIERBVEFCQVNFX1VSTF9OT05fUE9PTElORzogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMX05PTl9QT09MSU5HLFxuICAgIE5FWFRBVVRIX1NFQ1JFVDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuICAgIE5FWFRBVVRIX1VSTDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMLFxuICAgIEdJVEhVQl9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfSUQsXG4gICAgR0lUSFVCX0NMSUVOVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfU0VDUkVULFxuICAgIEFVVEhfQURNSU5fRU1BSUw6IHByb2Nlc3MuZW52LkFVVEhfQURNSU5fRU1BSUwsXG4gICAgQVVUSF9BRE1JTl9QQVNTV09SRDogcHJvY2Vzcy5lbnYuQVVUSF9BRE1JTl9QQVNTV09SRCxcbiAgICBSRURJU19IT1NUOiBwcm9jZXNzLmVudi5SRURJU19IT1NULFxuICAgIFJFRElTX1BPUlQ6IHByb2Nlc3MuZW52LlJFRElTX1BPUlQsXG4gICAgUkVESVNfVVNFUk5BTUU6IHByb2Nlc3MuZW52LlJFRElTX1VTRVJOQU1FLFxuICAgIFJFRElTX1BBU1NXT1JEOiBwcm9jZXNzLmVudi5SRURJU19QQVNTV09SRCxcbiAgICBSRURJU19VU0VfVExTOiBwcm9jZXNzLmVudi5SRURJU19VU0VfVExTLFxuICAgIE5FWFRfUFVCTElDX0lTX0RFTU86IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0lTX0RFTU8sXG4gICAgTkVYVF9QVUJMSUNfREVNT19FTUFJTDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfREVNT19FTUFJTCxcbiAgICBORVhUX1BVQkxJQ19ERU1PX1BBU1NXT1JEOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ERU1PX1BBU1NXT1JELFxuICAgIEVOVjogcHJvY2Vzcy5lbnYuRU5WLFxuICAgIE5FWFRfUFVCTElDX0JBU0VfVVJMOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQVNFX1VSTCxcbiAgICBWRVJDRUxfVVJMOiBwcm9jZXNzLmVudi5WRVJDRUxfVVJMLFxuICAgIFNNVFBfSE9TVDogcHJvY2Vzcy5lbnYuU01UUF9IT1NULFxuICAgIFNNVFBfUE9SVDogcHJvY2Vzcy5lbnYuU01UUF9QT1JULFxuICAgIFNNVFBfVVNFUk5BTUU6IHByb2Nlc3MuZW52LlNNVFBfVVNFUk5BTUUsXG4gICAgU01UUF9QQVNTV09SRDogcHJvY2Vzcy5lbnYuU01UUF9QQVNTV09SRCxcbiAgICBTTVRQX0ZST01fTkFNRTogcHJvY2Vzcy5lbnYuU01UUF9GUk9NX05BTUUsXG4gICAgU01UUF9GUk9NX0VNQUlMOiBwcm9jZXNzLmVudi5TTVRQX0ZST01fRU1BSUwsXG4gICAgU1VQUE9SVF9FTUFJTDogcHJvY2Vzcy5lbnYuU1VQUE9SVF9FTUFJTCxcbiAgICBORVhUX1BVQkxJQ19FTkFCTEVfTUFJTElOR19TRVJWSUNFOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19FTkFCTEVfTUFJTElOR19TRVJWSUNFLFxuICAgIFMzX1JFR0lPTjogcHJvY2Vzcy5lbnYuUzNfUkVHSU9OLFxuICAgIE5FWFRfUFVCTElDX1MzX0JVQ0tFVF9OQU1FOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TM19CVUNLRVRfTkFNRSxcbiAgICBTM19BQ0NFU1NfS0VZX0lEOiBwcm9jZXNzLmVudi5TM19BQ0NFU1NfS0VZX0lELFxuICAgIFMzX1NFQ1JFVF9BQ0NFU1NfS0VZOiBwcm9jZXNzLmVudi5TM19TRUNSRVRfQUNDRVNTX0tFWSxcbiAgICBORVhUX1BVQkxJQ19TM19FTkRQT0lOVDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUzNfRU5EUE9JTlQsXG4gICAgRU5BQkxFX1MzX1NFUlZJQ0U6IHByb2Nlc3MuZW52LkVOQUJMRV9TM19TRVJWSUNFLFxuICAgIERJU0FCTEVfUkVHSVNUUkFUSU9OOiBwcm9jZXNzLmVudi5ESVNBQkxFX1JFR0lTVFJBVElPTixcbiAgfSxcbiAgb25WYWxpZGF0aW9uRXJyb3I6IChlcnJvcikgPT4ge1xuICAgIGxvZ2dlci5lcnJvcihlcnJvcilcbiAgICB0aHJvdyBcIkludmFsaWQgZW52aXJvbm1lbnQgdmFyaWFibGVzXCJcbiAgfSxcbiAgb25JbnZhbGlkQWNjZXNzKHZhcmlhYmxlKSB7XG4gICAgbG9nZ2VyLmVycm9yKGBJbnZhbGlkIGFjY2VzcyB0byAke3ZhcmlhYmxlfWApXG4gICAgdGhyb3cgXCJJbnZhbGlkIGVudmlyb25tZW50IHZhcmlhYmxlc1wiXG4gIH0sXG59KVxuIl0sIm5hbWVzIjpbImNvbmZpZyIsInoiLCJsb2dnZXIiLCJjcmVhdGVFbnYiLCJwcm9jZXNzIiwiZW52IiwiRU5WIiwic2VydmVyIiwiQU5BTFlaRSIsImVudW0iLCJvcHRpb25hbCIsInRyYW5zZm9ybSIsInZhbHVlIiwiUEFTU1dPUkRfSEFTSEVSX1NFQ1JFVCIsInN0cmluZyIsIkRBVEFCQVNFX1BSSVNNQV9VUkwiLCJtaW4iLCJEQVRBQkFTRV9VUkxfTk9OX1BPT0xJTkciLCJORVhUQVVUSF9TRUNSRVQiLCJORVhUQVVUSF9VUkwiLCJHSVRIVUJfQ0xJRU5UX0lEIiwiR0lUSFVCX0NMSUVOVF9TRUNSRVQiLCJBVVRIX0FETUlOX0VNQUlMIiwiQVVUSF9BRE1JTl9QQVNTV09SRCIsIlJFRElTX0hPU1QiLCJSRURJU19QT1JUIiwicGFyc2VJbnQiLCJ1bmRlZmluZWQiLCJSRURJU19VU0VSTkFNRSIsIlJFRElTX1BBU1NXT1JEIiwiUkVESVNfVVNFX1RMUyIsIlZFUkNFTF9VUkwiLCJTTVRQX0hPU1QiLCJTTVRQX1BPUlQiLCJTTVRQX1VTRVJOQU1FIiwiU01UUF9QQVNTV09SRCIsIlNNVFBfRlJPTV9OQU1FIiwiU01UUF9GUk9NX0VNQUlMIiwiU1VQUE9SVF9FTUFJTCIsIlMzX1JFR0lPTiIsIlMzX0FDQ0VTU19LRVlfSUQiLCJTM19TRUNSRVRfQUNDRVNTX0tFWSIsIkVOQUJMRV9TM19TRVJWSUNFIiwiRElTQUJMRV9SRUdJU1RSQVRJT04iLCJjbGllbnQiLCJORVhUX1BVQkxJQ19CQVNFX1VSTCIsInVybCIsIk5FWFRfUFVCTElDX0lTX0RFTU8iLCJORVhUX1BVQkxJQ19ERU1PX0VNQUlMIiwiTkVYVF9QVUJMSUNfREVNT19QQVNTV09SRCIsIk5FWFRfUFVCTElDX1MzX0VORFBPSU5UIiwiTkVYVF9QVUJMSUNfUzNfQlVDS0VUX05BTUUiLCJORVhUX1BVQkxJQ19FTkFCTEVfTUFJTElOR19TRVJWSUNFIiwicnVudGltZUVudiIsIm9uVmFsaWRhdGlvbkVycm9yIiwiZXJyb3IiLCJvbkludmFsaWRBY2Nlc3MiLCJ2YXJpYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/env.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/i18n-config.ts":
/*!********************************!*\
  !*** ./src/lib/i18n-config.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i18n: () => (/* binding */ i18n),\n/* harmony export */   localesDetailed: () => (/* binding */ localesDetailed)\n/* harmony export */ });\nconst localesDetailed = {\n    en: {\n        name: \"English\",\n        nativeName: \"English\",\n        country: \"GB\",\n        flag: \"https://flagcdn.com/gb.svg\"\n    },\n    fr: {\n        name: \"French\",\n        nativeName: \"Fran\\xe7ais\",\n        country: \"FR\",\n        flag: \"https://flagcdn.com/fr.svg\"\n    }\n};\nconst i18n = {\n    defaultLocale: \"en\",\n    locales: Object.keys(localesDetailed)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2kxOG4tY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sTUFBTUEsa0JBQWtCO0lBQzdCQyxJQUFJO1FBQ0ZDLE1BQU07UUFDTkMsWUFBWTtRQUNaQyxTQUFTO1FBQ1RDLE1BQU07SUFDUjtJQUNBQyxJQUFJO1FBQ0ZKLE1BQU07UUFDTkMsWUFBWTtRQUNaQyxTQUFTO1FBQ1RDLE1BQU07SUFDUjtBQUNGLEVBQVU7QUFFSCxNQUFNRSxPQUFPO0lBQ2xCQyxlQUFlO0lBQ2ZDLFNBQVNDLE9BQU9DLElBQUksQ0FBQ1g7QUFDdkIsRUFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvaTE4bi1jb25maWcudHM/MWMyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbG9jYWxlc0RldGFpbGVkID0ge1xuICBlbjoge1xuICAgIG5hbWU6IFwiRW5nbGlzaFwiLFxuICAgIG5hdGl2ZU5hbWU6IFwiRW5nbGlzaFwiLFxuICAgIGNvdW50cnk6IFwiR0JcIixcbiAgICBmbGFnOiBcImh0dHBzOi8vZmxhZ2Nkbi5jb20vZ2Iuc3ZnXCIsXG4gIH0sXG4gIGZyOiB7XG4gICAgbmFtZTogXCJGcmVuY2hcIixcbiAgICBuYXRpdmVOYW1lOiBcIkZyYW7Dp2Fpc1wiLFxuICAgIGNvdW50cnk6IFwiRlJcIixcbiAgICBmbGFnOiBcImh0dHBzOi8vZmxhZ2Nkbi5jb20vZnIuc3ZnXCIsXG4gIH0sXG59IGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBpMThuID0ge1xuICBkZWZhdWx0TG9jYWxlOiBcImVuXCIsXG4gIGxvY2FsZXM6IE9iamVjdC5rZXlzKGxvY2FsZXNEZXRhaWxlZCkgYXMgQXJyYXk8a2V5b2YgdHlwZW9mIGxvY2FsZXNEZXRhaWxlZD4sXG59IGFzIGNvbnN0XG5cbmV4cG9ydCB0eXBlIExvY2FsZSA9ICh0eXBlb2YgaTE4bilbXCJsb2NhbGVzXCJdW251bWJlcl1cbiJdLCJuYW1lcyI6WyJsb2NhbGVzRGV0YWlsZWQiLCJlbiIsIm5hbWUiLCJuYXRpdmVOYW1lIiwiY291bnRyeSIsImZsYWciLCJmciIsImkxOG4iLCJkZWZhdWx0TG9jYWxlIiwibG9jYWxlcyIsIk9iamVjdCIsImtleXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/i18n-config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/langs.ts":
/*!**************************!*\
  !*** ./src/lib/langs.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _getDictionary: () => (/* binding */ _getDictionary),\n/* harmony export */   getDictionary: () => (/* binding */ getDictionary)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"(rsc)/./src/lib/utils/index.ts\");\n\nconst dictionaries = {\n    default: {\n        en: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_en_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/en.json */ \"(rsc)/./src/langs/en.json\", 19)).then((module)=>module.default),\n        fr: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_fr_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/fr.json */ \"(rsc)/./src/langs/fr.json\", 19)).then((module)=>module.default)\n    },\n    errors: {\n        en: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_errors_en_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/errors/en.json */ \"(rsc)/./src/langs/errors/en.json\", 19)).then((module)=>module.default),\n        fr: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_errors_fr_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/errors/fr.json */ \"(rsc)/./src/langs/errors/fr.json\", 19)).then((module)=>module.default)\n    },\n    transactionals: {\n        en: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_transactionals_en_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/transactionals/en.json */ \"(rsc)/./src/langs/transactionals/en.json\", 19)).then((module)=>module.default),\n        fr: ()=>__webpack_require__.e(/*! import() */ \"_rsc_src_langs_transactionals_fr_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../langs/transactionals/fr.json */ \"(rsc)/./src/langs/transactionals/fr.json\", 19)).then((module)=>module.default)\n    }\n};\nconst _getDictionary = async (subset, locale, dictionaryRequirements)=>{\n    const dict = dictionaries[subset][locale];\n    // Dict already loaded\n    if (typeof dict !== \"function\") {\n        if (!dictionaryRequirements) return dict;\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pickFromSubset)(dict, dictionaryRequirements);\n    }\n    // Load the dictionary\n    // logger.info(`Loading dictionary ${subset} for locale ${locale}`)\n    const loadedDictionary = await dict();\n    const dTyped = dictionaries;\n    dTyped[subset][locale] = loadedDictionary;\n    if (!dictionaryRequirements) return loadedDictionary;\n    const parsedDictionary = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.pickFromSubset)(loadedDictionary, dictionaryRequirements);\n    return parsedDictionary;\n};\nconst getDictionary = async (locale, dictionaryRequirements)=>{\n    return _getDictionary(\"default\", locale, dictionaryRequirements);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2xhbmdzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUd3QztBQUV4QyxNQUFNQyxlQUFlO0lBQ25CQyxTQUFTO1FBQ1BDLElBQUksSUFBTSw4S0FBMEIsQ0FBQ0MsSUFBSSxDQUFDLENBQUNDLFNBQVdBLE9BQU9ILE9BQU87UUFDcEVJLElBQUksSUFBTSw4S0FBMEIsQ0FBQ0YsSUFBSSxDQUFDLENBQUNDLFNBQVdBLE9BQU9ILE9BQU87SUFDdEU7SUFDQUssUUFBUTtRQUNOSixJQUFJLElBQU0sbU1BQWlDLENBQUNDLElBQUksQ0FBQyxDQUFDQyxTQUFXQSxPQUFPSCxPQUFPO1FBQzNFSSxJQUFJLElBQU0sbU1BQWlDLENBQUNGLElBQUksQ0FBQyxDQUFDQyxTQUFXQSxPQUFPSCxPQUFPO0lBQzdFO0lBQ0FNLGdCQUFnQjtRQUNkTCxJQUFJLElBQU0sMk5BQXlDLENBQUNDLElBQUksQ0FBQyxDQUFDQyxTQUFXQSxPQUFPSCxPQUFPO1FBQ25GSSxJQUFJLElBQU0sMk5BQXlDLENBQUNGLElBQUksQ0FBQyxDQUFDQyxTQUFXQSxPQUFPSCxPQUFPO0lBQ3JGO0FBQ0Y7QUFvQk8sTUFBTU8saUJBQWlCLE9BSzVCQyxRQUNBQyxRQUNBQztJQUVBLE1BQU1DLE9BQU8sWUFBd0MsQ0FBQ0gsT0FBTyxDQUFDQyxPQUFPO0lBQ3JFLHNCQUFzQjtJQUN0QixJQUFJLE9BQU9FLFNBQVMsWUFBWTtRQUM5QixJQUFJLENBQUNELHdCQUF3QixPQUFPQztRQUNwQyxPQUFPYixzREFBY0EsQ0FBQ2EsTUFBTUQ7SUFDOUI7SUFDQSxzQkFBc0I7SUFDdEIsbUVBQW1FO0lBQ25FLE1BQU1FLG1CQUFtQixNQUFNRDtJQUMvQixNQUFNRSxTQUFTZDtJQUNmYyxNQUFNLENBQUNMLE9BQU8sQ0FBQ0MsT0FBTyxHQUFHRztJQUN6QixJQUFJLENBQUNGLHdCQUF3QixPQUFPRTtJQUNwQyxNQUFNRSxtQkFBbUJoQixzREFBY0EsQ0FBQ2Msa0JBQWtCRjtJQUMxRCxPQUFPSTtBQUNULEVBQUM7QUFFTSxNQUFNQyxnQkFBZ0IsT0FLM0JOLFFBQ0FDO0lBRUEsT0FBT0gsZUFBZSxXQUFpQkUsUUFBUUM7QUFDakQsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvbGFuZ3MudHM/ZDgxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhbGUgfSBmcm9tIFwiQC9saWIvaTE4bi1jb25maWdcIlxuaW1wb3J0IHsgUGlja0Zyb21TdWJzZXQsIFNlbGVjdFN1YnNldCB9IGZyb20gXCJAL3R5cGVzXCJcblxuaW1wb3J0IHsgcGlja0Zyb21TdWJzZXQgfSBmcm9tIFwiLi91dGlsc1wiXG5cbmNvbnN0IGRpY3Rpb25hcmllcyA9IHtcbiAgZGVmYXVsdDoge1xuICAgIGVuOiAoKSA9PiBpbXBvcnQoXCIuLi9sYW5ncy9lbi5qc29uXCIpLnRoZW4oKG1vZHVsZSkgPT4gbW9kdWxlLmRlZmF1bHQpLFxuICAgIGZyOiAoKSA9PiBpbXBvcnQoXCIuLi9sYW5ncy9mci5qc29uXCIpLnRoZW4oKG1vZHVsZSkgPT4gbW9kdWxlLmRlZmF1bHQpLFxuICB9LFxuICBlcnJvcnM6IHtcbiAgICBlbjogKCkgPT4gaW1wb3J0KFwiLi4vbGFuZ3MvZXJyb3JzL2VuLmpzb25cIikudGhlbigobW9kdWxlKSA9PiBtb2R1bGUuZGVmYXVsdCksXG4gICAgZnI6ICgpID0+IGltcG9ydChcIi4uL2xhbmdzL2Vycm9ycy9mci5qc29uXCIpLnRoZW4oKG1vZHVsZSkgPT4gbW9kdWxlLmRlZmF1bHQpLFxuICB9LFxuICB0cmFuc2FjdGlvbmFsczoge1xuICAgIGVuOiAoKSA9PiBpbXBvcnQoXCIuLi9sYW5ncy90cmFuc2FjdGlvbmFscy9lbi5qc29uXCIpLnRoZW4oKG1vZHVsZSkgPT4gbW9kdWxlLmRlZmF1bHQpLFxuICAgIGZyOiAoKSA9PiBpbXBvcnQoXCIuLi9sYW5ncy90cmFuc2FjdGlvbmFscy9mci5qc29uXCIpLnRoZW4oKG1vZHVsZSkgPT4gbW9kdWxlLmRlZmF1bHQpLFxuICB9LFxufVxuXG5leHBvcnQgdHlwZSBUUG9zc2libGVOYW1lc3BhY2VzID0ga2V5b2YgdHlwZW9mIGRpY3Rpb25hcmllc1xuZXhwb3J0IHR5cGUgVEJhc2VEaWN0PE5TIGV4dGVuZHMgVFBvc3NpYmxlTmFtZXNwYWNlcz4gPSBBd2FpdGVkPFJldHVyblR5cGU8KHR5cGVvZiBkaWN0aW9uYXJpZXMpW05TXVtMb2NhbGVdPj5cbi8vIEp1c3QgYWRkIHRoZSBwb3NzaWJpbGl0eSBvZiBhbHJlYWR5IGNhY2hlZCBkaWN0aW9uYXJpZXNcbnR5cGUgVERpY3Rpb25hcmllc1dpdGhDYWNoZSA9IHtcbiAgW2tleSBpbiBrZXlvZiB0eXBlb2YgZGljdGlvbmFyaWVzXToge1xuICAgIFtsa2V5IGluIExvY2FsZV06ICgoKSA9PiBQcm9taXNlPFRCYXNlRGljdDxrZXk+PikgfCBUQmFzZURpY3Q8a2V5PlxuICB9XG59XG5cbi8vIERvIG5vdCBzcGVjaWZ5IGEgZGVmYXVsdCB2YWx1ZSBmb3IgUCBpbiBvcmRlciB0byBmb3JjZSB1c2VycyB0byBzcGVjaWZ5IHRoZSBkaWN0aW9uYXJ5IHN1YnNldFxuZXhwb3J0IHR5cGUgVERpY3Rpb25hcnk8UCBleHRlbmRzIFNlbGVjdFN1YnNldDxUQmFzZURpY3Q8TlM+PiB8IHVuZGVmaW5lZCwgTlMgZXh0ZW5kcyBUUG9zc2libGVOYW1lc3BhY2VzID0gXCJkZWZhdWx0XCI+ID1cbiAgUCBleHRlbmRzIFNlbGVjdFN1YnNldDxUQmFzZURpY3Q8TlM+PiA/IFBpY2tGcm9tU3Vic2V0PFRCYXNlRGljdDxOUz4sIFA+IDogVEJhc2VEaWN0PE5TPlxuXG50eXBlIEdldERpY3Rpb25hcnlSZXR1cm5UeXBlPFxuICBQIGV4dGVuZHMgU2VsZWN0U3Vic2V0PE1EPiB8IHVuZGVmaW5lZCxcbiAgTlMgZXh0ZW5kcyBUUG9zc2libGVOYW1lc3BhY2VzLFxuICBNRCBleHRlbmRzIFREaWN0aW9uYXJ5PHVuZGVmaW5lZCwgTlM+ID0gVERpY3Rpb25hcnk8dW5kZWZpbmVkLCBOUz4sXG4+ID0gUHJvbWlzZTxQIGV4dGVuZHMgU2VsZWN0U3Vic2V0PE1EPiA/IFBpY2tGcm9tU3Vic2V0PE1ELCBQPiA6IE1EPlxuZXhwb3J0IGNvbnN0IF9nZXREaWN0aW9uYXJ5ID0gYXN5bmMgPFxuICBQIGV4dGVuZHMgU2VsZWN0U3Vic2V0PE1EPiB8IHVuZGVmaW5lZCxcbiAgTlMgZXh0ZW5kcyBUUG9zc2libGVOYW1lc3BhY2VzLFxuICBNRCBleHRlbmRzIFREaWN0aW9uYXJ5PHVuZGVmaW5lZCwgTlM+ID0gVERpY3Rpb25hcnk8dW5kZWZpbmVkLCBOUz4sXG4+KFxuICBzdWJzZXQ6IE5TLFxuICBsb2NhbGU6IExvY2FsZSxcbiAgZGljdGlvbmFyeVJlcXVpcmVtZW50czogUFxuKTogR2V0RGljdGlvbmFyeVJldHVyblR5cGU8UCwgTlMsIE1EPiA9PiB7XG4gIGNvbnN0IGRpY3QgPSAoZGljdGlvbmFyaWVzIGFzIFREaWN0aW9uYXJpZXNXaXRoQ2FjaGUpW3N1YnNldF1bbG9jYWxlXVxuICAvLyBEaWN0IGFscmVhZHkgbG9hZGVkXG4gIGlmICh0eXBlb2YgZGljdCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgaWYgKCFkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKSByZXR1cm4gZGljdCBhcyB1bmtub3duIGFzIEdldERpY3Rpb25hcnlSZXR1cm5UeXBlPFAsIE5TLCBNRD5cbiAgICByZXR1cm4gcGlja0Zyb21TdWJzZXQoZGljdCwgZGljdGlvbmFyeVJlcXVpcmVtZW50cykgYXMgdW5rbm93biBhcyBHZXREaWN0aW9uYXJ5UmV0dXJuVHlwZTxQLCBOUywgTUQ+XG4gIH1cbiAgLy8gTG9hZCB0aGUgZGljdGlvbmFyeVxuICAvLyBsb2dnZXIuaW5mbyhgTG9hZGluZyBkaWN0aW9uYXJ5ICR7c3Vic2V0fSBmb3IgbG9jYWxlICR7bG9jYWxlfWApXG4gIGNvbnN0IGxvYWRlZERpY3Rpb25hcnkgPSBhd2FpdCBkaWN0KClcbiAgY29uc3QgZFR5cGVkID0gZGljdGlvbmFyaWVzIGFzIFREaWN0aW9uYXJpZXNXaXRoQ2FjaGVcbiAgZFR5cGVkW3N1YnNldF1bbG9jYWxlXSA9IGxvYWRlZERpY3Rpb25hcnlcbiAgaWYgKCFkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKSByZXR1cm4gbG9hZGVkRGljdGlvbmFyeSBhcyB1bmtub3duIGFzIEdldERpY3Rpb25hcnlSZXR1cm5UeXBlPFAsIE5TLCBNRD5cbiAgY29uc3QgcGFyc2VkRGljdGlvbmFyeSA9IHBpY2tGcm9tU3Vic2V0KGxvYWRlZERpY3Rpb25hcnksIGRpY3Rpb25hcnlSZXF1aXJlbWVudHMpXG4gIHJldHVybiBwYXJzZWREaWN0aW9uYXJ5IGFzIHVua25vd24gYXMgR2V0RGljdGlvbmFyeVJldHVyblR5cGU8UCwgTlMsIE1EPlxufVxuXG5leHBvcnQgY29uc3QgZ2V0RGljdGlvbmFyeSA9IGFzeW5jIDxcbiAgUCBleHRlbmRzIFNlbGVjdFN1YnNldDxNRD4gfCB1bmRlZmluZWQsXG4gIE5TIGV4dGVuZHMgVFBvc3NpYmxlTmFtZXNwYWNlcyA9IFwiZGVmYXVsdFwiLFxuICBNRCBleHRlbmRzIFREaWN0aW9uYXJ5PHVuZGVmaW5lZCwgTlM+ID0gVERpY3Rpb25hcnk8dW5kZWZpbmVkLCBOUz4sXG4+KFxuICBsb2NhbGU6IExvY2FsZSxcbiAgZGljdGlvbmFyeVJlcXVpcmVtZW50czogUFxuKTogR2V0RGljdGlvbmFyeVJldHVyblR5cGU8UCwgTlMsIE1EPiA9PiB7XG4gIHJldHVybiBfZ2V0RGljdGlvbmFyeShcImRlZmF1bHRcIiBhcyBOUywgbG9jYWxlLCBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKVxufVxuIl0sIm5hbWVzIjpbInBpY2tGcm9tU3Vic2V0IiwiZGljdGlvbmFyaWVzIiwiZGVmYXVsdCIsImVuIiwidGhlbiIsIm1vZHVsZSIsImZyIiwiZXJyb3JzIiwidHJhbnNhY3Rpb25hbHMiLCJfZ2V0RGljdGlvbmFyeSIsInN1YnNldCIsImxvY2FsZSIsImRpY3Rpb25hcnlSZXF1aXJlbWVudHMiLCJkaWN0IiwibG9hZGVkRGljdGlvbmFyeSIsImRUeXBlZCIsInBhcnNlZERpY3Rpb25hcnkiLCJnZXREaWN0aW9uYXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/langs.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mailer.ts":
/*!***************************!*\
  !*** ./src/lib/mailer.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   configOptions: () => (/* binding */ configOptions),\n/* harmony export */   sendMail: () => (/* binding */ sendMail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/../../node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _utils_server_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n\n\n\n\nconst configOptions = {\n    port: _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_PORT,\n    host: _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_HOST,\n    username: _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_USERNAME,\n    password: _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_PASSWORD\n};\nconst transporter = (0,nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport)({\n    port: configOptions.port,\n    host: configOptions.host,\n    auth: {\n        user: configOptions.username,\n        pass: configOptions.password\n    }\n});\nconst sendMail = async (params)=>{\n    if (!_lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_ENABLE_MAILING_SERVICE) {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Email service is disabled, sending email is skipped.\");\n        return (0,_utils_server_utils__WEBPACK_IMPORTED_MODULE_3__.ApiError)(\"emailServiceDisabled\", \"PRECONDITION_FAILED\");\n    }\n    try {\n        const res = await transporter.sendMail({\n            from: `\"${_lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_FROM_NAME}\" <${_lib_env__WEBPACK_IMPORTED_MODULE_1__.env.SMTP_FROM_EMAIL}>`,\n            ...params\n        });\n        _elan_lib__WEBPACK_IMPORTED_MODULE_2__.logger.info(`Email sent to ${res.envelope.to}`);\n    } catch (error) {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_2__.logger.error(`Error sending message: ${error}`);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21haWxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEM7QUFFYjtBQUNHO0FBRWE7QUFFeEMsTUFBTUksZ0JBQWdCO0lBQzNCQyxNQUFNSix5Q0FBR0EsQ0FBQ0ssU0FBUztJQUNuQkMsTUFBTU4seUNBQUdBLENBQUNPLFNBQVM7SUFDbkJDLFVBQVVSLHlDQUFHQSxDQUFDUyxhQUFhO0lBQzNCQyxVQUFVVix5Q0FBR0EsQ0FBQ1csYUFBYTtBQUM3QixFQUFDO0FBRUQsTUFBTUMsY0FBY2IsMkRBQWVBLENBQUM7SUFDbENLLE1BQU1ELGNBQWNDLElBQUk7SUFDeEJFLE1BQU1ILGNBQWNHLElBQUk7SUFDeEJPLE1BQU07UUFDSkMsTUFBTVgsY0FBY0ssUUFBUTtRQUM1Qk8sTUFBTVosY0FBY08sUUFBUTtJQUM5QjtBQUNGO0FBRU8sTUFBTU0sV0FBVyxPQUN0QkM7SUFJQSxJQUFJLENBQUNqQix5Q0FBR0EsQ0FBQ2tCLGtDQUFrQyxFQUFFO1FBQzNDakIsNkNBQU1BLENBQUNrQixLQUFLLENBQUM7UUFDYixPQUFPakIsNkRBQVFBLENBQUMsd0JBQXdCO0lBQzFDO0lBQ0EsSUFBSTtRQUNGLE1BQU1rQixNQUFNLE1BQU1SLFlBQVlJLFFBQVEsQ0FBQztZQUNyQ0ssTUFBTSxDQUFDLENBQUMsRUFBRXJCLHlDQUFHQSxDQUFDc0IsY0FBYyxDQUFDLEdBQUcsRUFBRXRCLHlDQUFHQSxDQUFDdUIsZUFBZSxDQUFDLENBQUMsQ0FBQztZQUN4RCxHQUFHTixNQUFNO1FBQ1g7UUFDQWhCLDZDQUFNQSxDQUFDdUIsSUFBSSxDQUFDLENBQUMsY0FBYyxFQUFFSixJQUFJSyxRQUFRLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ2hELEVBQUUsT0FBT1AsT0FBTztRQUNkbEIsNkNBQU1BLENBQUNrQixLQUFLLENBQUMsQ0FBQyx1QkFBdUIsRUFBRUEsTUFBTSxDQUFDO1FBQzlDLE1BQU1BO0lBQ1I7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9tYWlsZXIudHM/MWVhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVUcmFuc3BvcnQgfSBmcm9tIFwibm9kZW1haWxlclwiXG5cbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5cbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4vdXRpbHMvc2VydmVyLXV0aWxzXCJcblxuZXhwb3J0IGNvbnN0IGNvbmZpZ09wdGlvbnMgPSB7XG4gIHBvcnQ6IGVudi5TTVRQX1BPUlQsXG4gIGhvc3Q6IGVudi5TTVRQX0hPU1QsXG4gIHVzZXJuYW1lOiBlbnYuU01UUF9VU0VSTkFNRSxcbiAgcGFzc3dvcmQ6IGVudi5TTVRQX1BBU1NXT1JELFxufVxuXG5jb25zdCB0cmFuc3BvcnRlciA9IGNyZWF0ZVRyYW5zcG9ydCh7XG4gIHBvcnQ6IGNvbmZpZ09wdGlvbnMucG9ydCxcbiAgaG9zdDogY29uZmlnT3B0aW9ucy5ob3N0LFxuICBhdXRoOiB7XG4gICAgdXNlcjogY29uZmlnT3B0aW9ucy51c2VybmFtZSxcbiAgICBwYXNzOiBjb25maWdPcHRpb25zLnBhc3N3b3JkLFxuICB9LFxufSlcblxuZXhwb3J0IGNvbnN0IHNlbmRNYWlsID0gYXN5bmMgKFxuICBwYXJhbXM6IFBhcmFtZXRlcnM8dHlwZW9mIHRyYW5zcG9ydGVyLnNlbmRNYWlsPlswXSAmIHtcbiAgICBmcm9tPzogUGFyYW1ldGVyczx0eXBlb2YgdHJhbnNwb3J0ZXIuc2VuZE1haWw+WzBdW1wiZnJvbVwiXVxuICB9XG4pID0+IHtcbiAgaWYgKCFlbnYuTkVYVF9QVUJMSUNfRU5BQkxFX01BSUxJTkdfU0VSVklDRSkge1xuICAgIGxvZ2dlci5lcnJvcihcIkVtYWlsIHNlcnZpY2UgaXMgZGlzYWJsZWQsIHNlbmRpbmcgZW1haWwgaXMgc2tpcHBlZC5cIilcbiAgICByZXR1cm4gQXBpRXJyb3IoXCJlbWFpbFNlcnZpY2VEaXNhYmxlZFwiLCBcIlBSRUNPTkRJVElPTl9GQUlMRURcIilcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICAgIGZyb206IGBcIiR7ZW52LlNNVFBfRlJPTV9OQU1FfVwiIDwke2Vudi5TTVRQX0ZST01fRU1BSUx9PmAsXG4gICAgICAuLi5wYXJhbXMsXG4gICAgfSlcbiAgICBsb2dnZXIuaW5mbyhgRW1haWwgc2VudCB0byAke3Jlcy5lbnZlbG9wZS50b31gKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihgRXJyb3Igc2VuZGluZyBtZXNzYWdlOiAke2Vycm9yfWApXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVRyYW5zcG9ydCIsImVudiIsImxvZ2dlciIsIkFwaUVycm9yIiwiY29uZmlnT3B0aW9ucyIsInBvcnQiLCJTTVRQX1BPUlQiLCJob3N0IiwiU01UUF9IT1NUIiwidXNlcm5hbWUiLCJTTVRQX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJTTVRQX1BBU1NXT1JEIiwidHJhbnNwb3J0ZXIiLCJhdXRoIiwidXNlciIsInBhc3MiLCJzZW5kTWFpbCIsInBhcmFtcyIsIk5FWFRfUFVCTElDX0VOQUJMRV9NQUlMSU5HX1NFUlZJQ0UiLCJlcnJvciIsInJlcyIsImZyb20iLCJTTVRQX0ZST01fTkFNRSIsIlNNVFBfRlJPTV9FTUFJTCIsImluZm8iLCJlbnZlbG9wZSIsInRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mailer.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = global;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient().$extends({\n    query: {\n        user: {\n            async $allOperations ({ args, query }) {\n                const result = await query(args);\n                if (!(\"select\" in args) || args.select && typeof args.select === \"object\" && \"password\" in args.select && args.select.password !== true) {\n                    if (Array.isArray(result)) result.forEach((r)=>\"password\" in r && delete r.password);\n                    else typeof result === \"object\" && result && \"password\" in result && delete result.password;\n                }\n                return result;\n            }\n        }\n    }\n});\n// eslint-disable-next-line no-process-env\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUVqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLEdBQUdJLFFBQVEsQ0FBQztJQUMxQkMsT0FBTztRQUNMQyxNQUFNO1lBQ0osTUFBTUMsZ0JBQWUsRUFBRUMsSUFBSSxFQUFFSCxLQUFLLEVBQUU7Z0JBQ2xDLE1BQU1JLFNBQVMsTUFBTUosTUFBTUc7Z0JBQzNCLElBQ0UsQ0FBRSxhQUFZQSxJQUFHLEtBQ2hCQSxLQUFLRSxNQUFNLElBQ1YsT0FBT0YsS0FBS0UsTUFBTSxLQUFLLFlBQ3ZCLGNBQWNGLEtBQUtFLE1BQU0sSUFDekJGLEtBQUtFLE1BQU0sQ0FBQ0MsUUFBUSxLQUFLLE1BQzNCO29CQUNBLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0osU0FBU0EsT0FBT0ssT0FBTyxDQUFDLENBQUNDLElBQU0sY0FBY0EsS0FBSyxPQUFPQSxFQUFFSixRQUFRO3lCQUNoRixPQUFPRixXQUFXLFlBQVlBLFVBQVUsY0FBY0EsVUFBVSxPQUFPQSxPQUFPRSxRQUFRO2dCQUM3RjtnQkFDQSxPQUFPRjtZQUNUO1FBQ0Y7SUFDRjtBQUNGLEdBQUU7QUFFSiwwQ0FBMEM7QUFDMUMsSUFBSU8sSUFBcUMsRUFBRWYsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9wcmlzbWEudHM/MDFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWwgYXMgdW5rbm93biBhcyB7IHByaXNtYTogUHJpc21hQ2xpZW50IH1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9XG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHxcbiAgbmV3IFByaXNtYUNsaWVudCgpLiRleHRlbmRzKHtcbiAgICBxdWVyeToge1xuICAgICAgdXNlcjoge1xuICAgICAgICBhc3luYyAkYWxsT3BlcmF0aW9ucyh7IGFyZ3MsIHF1ZXJ5IH0pIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShhcmdzKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXCJzZWxlY3RcIiBpbiBhcmdzKSB8fFxuICAgICAgICAgICAgKGFyZ3Muc2VsZWN0ICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBhcmdzLnNlbGVjdCA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgICBcInBhc3N3b3JkXCIgaW4gYXJncy5zZWxlY3QgJiZcbiAgICAgICAgICAgICAgYXJncy5zZWxlY3QucGFzc3dvcmQgIT09IHRydWUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSByZXN1bHQuZm9yRWFjaCgocikgPT4gXCJwYXNzd29yZFwiIGluIHIgJiYgZGVsZXRlIHIucGFzc3dvcmQpXG4gICAgICAgICAgICBlbHNlIHR5cGVvZiByZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgcmVzdWx0ICYmIFwicGFzc3dvcmRcIiBpbiByZXN1bHQgJiYgZGVsZXRlIHJlc3VsdC5wYXNzd29yZFxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm9jZXNzLWVudlxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYVxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbCIsInByaXNtYSIsIiRleHRlbmRzIiwicXVlcnkiLCJ1c2VyIiwiJGFsbE9wZXJhdGlvbnMiLCJhcmdzIiwicmVzdWx0Iiwic2VsZWN0IiwicGFzc3dvcmQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiciIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/queries-options.ts":
/*!************************************!*\
  !*** ./src/lib/queries-options.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queriesOptionPage: () => (/* binding */ queriesOptionPage),\n/* harmony export */   queriesOptionPageDr: () => (/* binding */ queriesOptionPageDr),\n/* harmony export */   queriesOptionPerPage: () => (/* binding */ queriesOptionPerPage),\n/* harmony export */   queriesOptionPerPageDr: () => (/* binding */ queriesOptionPerPageDr),\n/* harmony export */   queriesOptionSort: () => (/* binding */ queriesOptionSort),\n/* harmony export */   queriesOptionSortDr: () => (/* binding */ queriesOptionSortDr)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _utils_dictionary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/dictionary */ \"(rsc)/./src/lib/utils/dictionary.ts\");\n\n\n\nconst queriesOptionPageDr = (0,_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        typeError: {\n            number: {\n                invalid: true,\n                required: true\n            }\n        }\n    }\n});\nconst queriesOptionPage = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.z.number({\n        invalid_type_error: dictionary?.errors.typeError.number.invalid,\n        required_error: dictionary?.errors.typeError.number.required\n    }).positive().int();\nconst queriesOptionPerPageDr = (0,_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        typeError: {\n            number: {\n                invalid: true,\n                required: true\n            }\n        }\n    }\n});\nconst queriesOptionPerPage = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.z.number({\n        invalid_type_error: dictionary?.errors.typeError.number.invalid,\n        required_error: dictionary?.errors.typeError.number.required\n    }).positive().int().transform((value)=>{\n        const maxPerPage = 20;\n        if (value > maxPerPage) {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_0__.logger.debug(`perPage value ${value} is greater than maxPerPage ${maxPerPage}.`);\n            return maxPerPage;\n        }\n        return value;\n    });\nconst queriesOptionSortDr = (0,_utils_dictionary__WEBPACK_IMPORTED_MODULE_1__.dictionaryRequirements)({\n    errors: {\n        typeError: {\n            string: {\n                invalid: true,\n                required: true\n            }\n        }\n    }\n});\nconst queriesOptionSort = (dictionary)=>zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        field: zod__WEBPACK_IMPORTED_MODULE_2__.z.string({\n            invalid_type_error: dictionary?.errors.typeError.string.invalid,\n            required_error: dictionary?.errors.typeError.string.required\n        }),\n        direction: zod__WEBPACK_IMPORTED_MODULE_2__.z.enum([\n            \"asc\",\n            \"desc\"\n        ])\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3F1ZXJpZXMtb3B0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUI7QUFFVztBQUV5QjtBQUdwRCxNQUFNRyxzQkFBc0JELHlFQUFzQkEsQ0FBQztJQUN4REUsUUFBUTtRQUNOQyxXQUFXO1lBQ1RDLFFBQVE7Z0JBQ05DLFNBQVM7Z0JBQ1RDLFVBQVU7WUFDWjtRQUNGO0lBQ0Y7QUFDRixHQUFFO0FBQ0ssTUFBTUMsb0JBQW9CLENBQUNDLGFBQ2hDVixrQ0FBQ0EsQ0FDRU0sTUFBTSxDQUFDO1FBQ05LLG9CQUFvQkQsWUFBWU4sT0FBT0MsVUFBVUMsT0FBT0M7UUFDeERLLGdCQUFnQkYsWUFBWU4sT0FBT0MsVUFBVUMsT0FBT0U7SUFDdEQsR0FDQ0ssUUFBUSxHQUNSQyxHQUFHLEdBQUU7QUFFSCxNQUFNQyx5QkFBeUJiLHlFQUFzQkEsQ0FBQztJQUMzREUsUUFBUTtRQUNOQyxXQUFXO1lBQ1RDLFFBQVE7Z0JBQ05DLFNBQVM7Z0JBQ1RDLFVBQVU7WUFDWjtRQUNGO0lBQ0Y7QUFDRixHQUFFO0FBQ0ssTUFBTVEsdUJBQXVCLENBQUNOLGFBQ25DVixrQ0FBQ0EsQ0FDRU0sTUFBTSxDQUFDO1FBQ05LLG9CQUFvQkQsWUFBWU4sT0FBT0MsVUFBVUMsT0FBT0M7UUFDeERLLGdCQUFnQkYsWUFBWU4sT0FBT0MsVUFBVUMsT0FBT0U7SUFDdEQsR0FDQ0ssUUFBUSxHQUNSQyxHQUFHLEdBQ0hHLFNBQVMsQ0FBQyxDQUFDQztRQUNWLE1BQU1DLGFBQWE7UUFDbkIsSUFBSUQsUUFBUUMsWUFBWTtZQUN0QmxCLDZDQUFNQSxDQUFDbUIsS0FBSyxDQUFDLENBQUMsY0FBYyxFQUFFRixNQUFNLDRCQUE0QixFQUFFQyxXQUFXLENBQUMsQ0FBQztZQUMvRSxPQUFPQTtRQUNUO1FBQ0EsT0FBT0Q7SUFDVCxHQUFFO0FBRUMsTUFBTUcsc0JBQXNCbkIseUVBQXNCQSxDQUFDO0lBQ3hERSxRQUFRO1FBQ05DLFdBQVc7WUFDVGlCLFFBQVE7Z0JBQ05mLFNBQVM7Z0JBQ1RDLFVBQVU7WUFDWjtRQUNGO0lBQ0Y7QUFDRixHQUFFO0FBQ0ssTUFBTWUsb0JBQW9CLENBQUNiLGFBQ2hDVixrQ0FBQ0EsQ0FBQ3dCLEtBQUssQ0FDTHhCLGtDQUFDQSxDQUFDeUIsTUFBTSxDQUFDO1FBQ1BDLE9BQU8xQixrQ0FBQ0EsQ0FBQ3NCLE1BQU0sQ0FBQztZQUNkWCxvQkFBb0JELFlBQVlOLE9BQU9DLFVBQVVpQixPQUFPZjtZQUN4REssZ0JBQWdCRixZQUFZTixPQUFPQyxVQUFVaUIsT0FBT2Q7UUFDdEQ7UUFDQW1CLFdBQVczQixrQ0FBQ0EsQ0FBQzRCLElBQUksQ0FBQztZQUFDO1lBQU87U0FBTztJQUNuQyxJQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9xdWVyaWVzLW9wdGlvbnMudHM/NjU3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJAZWxhbi9saWJcIlxuXG5pbXBvcnQgeyBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzIH0gZnJvbSBcIi4vdXRpbHMvZGljdGlvbmFyeVwiXG5pbXBvcnQgeyBURGljdGlvbmFyeSB9IGZyb20gXCIuL2xhbmdzXCJcblxuZXhwb3J0IGNvbnN0IHF1ZXJpZXNPcHRpb25QYWdlRHIgPSBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzKHtcbiAgZXJyb3JzOiB7XG4gICAgdHlwZUVycm9yOiB7XG4gICAgICBudW1iZXI6IHtcbiAgICAgICAgaW52YWxpZDogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59KVxuZXhwb3J0IGNvbnN0IHF1ZXJpZXNPcHRpb25QYWdlID0gKGRpY3Rpb25hcnk/OiBURGljdGlvbmFyeTx0eXBlb2YgcXVlcmllc09wdGlvblBhZ2VEcj4pID0+XG4gIHpcbiAgICAubnVtYmVyKHtcbiAgICAgIGludmFsaWRfdHlwZV9lcnJvcjogZGljdGlvbmFyeT8uZXJyb3JzLnR5cGVFcnJvci5udW1iZXIuaW52YWxpZCxcbiAgICAgIHJlcXVpcmVkX2Vycm9yOiBkaWN0aW9uYXJ5Py5lcnJvcnMudHlwZUVycm9yLm51bWJlci5yZXF1aXJlZCxcbiAgICB9KVxuICAgIC5wb3NpdGl2ZSgpXG4gICAgLmludCgpXG5cbmV4cG9ydCBjb25zdCBxdWVyaWVzT3B0aW9uUGVyUGFnZURyID0gZGljdGlvbmFyeVJlcXVpcmVtZW50cyh7XG4gIGVycm9yczoge1xuICAgIHR5cGVFcnJvcjoge1xuICAgICAgbnVtYmVyOiB7XG4gICAgICAgIGludmFsaWQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxufSlcbmV4cG9ydCBjb25zdCBxdWVyaWVzT3B0aW9uUGVyUGFnZSA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIHF1ZXJpZXNPcHRpb25QZXJQYWdlRHI+KSA9PlxuICB6XG4gICAgLm51bWJlcih7XG4gICAgICBpbnZhbGlkX3R5cGVfZXJyb3I6IGRpY3Rpb25hcnk/LmVycm9ycy50eXBlRXJyb3IubnVtYmVyLmludmFsaWQsXG4gICAgICByZXF1aXJlZF9lcnJvcjogZGljdGlvbmFyeT8uZXJyb3JzLnR5cGVFcnJvci5udW1iZXIucmVxdWlyZWQsXG4gICAgfSlcbiAgICAucG9zaXRpdmUoKVxuICAgIC5pbnQoKVxuICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBtYXhQZXJQYWdlID0gMjBcbiAgICAgIGlmICh2YWx1ZSA+IG1heFBlclBhZ2UpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKGBwZXJQYWdlIHZhbHVlICR7dmFsdWV9IGlzIGdyZWF0ZXIgdGhhbiBtYXhQZXJQYWdlICR7bWF4UGVyUGFnZX0uYClcbiAgICAgICAgcmV0dXJuIG1heFBlclBhZ2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0pXG5cbmV4cG9ydCBjb25zdCBxdWVyaWVzT3B0aW9uU29ydERyID0gZGljdGlvbmFyeVJlcXVpcmVtZW50cyh7XG4gIGVycm9yczoge1xuICAgIHR5cGVFcnJvcjoge1xuICAgICAgc3RyaW5nOiB7XG4gICAgICAgIGludmFsaWQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxufSlcbmV4cG9ydCBjb25zdCBxdWVyaWVzT3B0aW9uU29ydCA9IChkaWN0aW9uYXJ5PzogVERpY3Rpb25hcnk8dHlwZW9mIHF1ZXJpZXNPcHRpb25Tb3J0RHI+KSA9PlxuICB6LmFycmF5KFxuICAgIHoub2JqZWN0KHtcbiAgICAgIGZpZWxkOiB6LnN0cmluZyh7XG4gICAgICAgIGludmFsaWRfdHlwZV9lcnJvcjogZGljdGlvbmFyeT8uZXJyb3JzLnR5cGVFcnJvci5zdHJpbmcuaW52YWxpZCxcbiAgICAgICAgcmVxdWlyZWRfZXJyb3I6IGRpY3Rpb25hcnk/LmVycm9ycy50eXBlRXJyb3Iuc3RyaW5nLnJlcXVpcmVkLFxuICAgICAgfSksXG4gICAgICBkaXJlY3Rpb246IHouZW51bShbXCJhc2NcIiwgXCJkZXNjXCJdKSxcbiAgICB9KVxuICApXG4iXSwibmFtZXMiOlsieiIsImxvZ2dlciIsImRpY3Rpb25hcnlSZXF1aXJlbWVudHMiLCJxdWVyaWVzT3B0aW9uUGFnZURyIiwiZXJyb3JzIiwidHlwZUVycm9yIiwibnVtYmVyIiwiaW52YWxpZCIsInJlcXVpcmVkIiwicXVlcmllc09wdGlvblBhZ2UiLCJkaWN0aW9uYXJ5IiwiaW52YWxpZF90eXBlX2Vycm9yIiwicmVxdWlyZWRfZXJyb3IiLCJwb3NpdGl2ZSIsImludCIsInF1ZXJpZXNPcHRpb25QZXJQYWdlRHIiLCJxdWVyaWVzT3B0aW9uUGVyUGFnZSIsInRyYW5zZm9ybSIsInZhbHVlIiwibWF4UGVyUGFnZSIsImRlYnVnIiwicXVlcmllc09wdGlvblNvcnREciIsInN0cmluZyIsInF1ZXJpZXNPcHRpb25Tb3J0IiwiYXJyYXkiLCJvYmplY3QiLCJmaWVsZCIsImRpcmVjdGlvbiIsImVudW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/queries-options.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rate-limit.ts":
/*!*******************************!*\
  !*** ./src/lib/rate-limit.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiRateLimiter: () => (/* binding */ apiRateLimiter),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! request-ip */ \"(rsc)/../../node_modules/request-ip/lib/index.js\");\n/* harmony import */ var request_ip__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(request_ip__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_rate_limit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants/rate-limit */ \"(rsc)/./src/constants/rate-limit.ts\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _utils_server_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n/* harmony import */ var _redis__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./redis */ \"(rsc)/./src/lib/redis.ts\");\n\n\n\n\n\n\nconst rateLimiter = async (identifier, limit, duration)=>{\n    const key = `rate_limit:${identifier}`;\n    const currentCount = await _redis__WEBPACK_IMPORTED_MODULE_5__.redis.get(key);\n    const currentCountTTLLeft = await _redis__WEBPACK_IMPORTED_MODULE_5__.redis.ttl(key);\n    if (currentCount === null) {\n        _redis__WEBPACK_IMPORTED_MODULE_5__.redis.setex(key, duration, 1);\n        return {\n            limit,\n            remaining: limit - 1,\n            success: true\n        };\n    } else {\n        _redis__WEBPACK_IMPORTED_MODULE_5__.redis.incr(key);\n        // Ensure that the key will expire after the duration\n        _redis__WEBPACK_IMPORTED_MODULE_5__.redis.expire(key, currentCountTTLLeft);\n    }\n    const count = currentCount ? parseInt(currentCount) : 1;\n    if (count >= limit) {\n        return {\n            limit,\n            remaining: limit - count,\n            success: false\n        };\n    }\n    return {\n        limit,\n        remaining: limit - (count + 1),\n        success: true\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (rateLimiter);\nconst apiRateLimiter = async (req, options = {\n    limitPerInterval: _constants_rate_limit__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMIT_PER_INTERVAL,\n    duration: _constants_rate_limit__WEBPACK_IMPORTED_MODULE_1__.RATE_LIMIT_DURATION\n})=>{\n    const headers = {};\n    req.headers.forEach((value, key)=>{\n        headers[key] = value;\n    });\n    let identifier = request_ip__WEBPACK_IMPORTED_MODULE_0___default().getClientIp({\n        ...req,\n        headers\n    });\n    if (!identifier) {\n        if (_lib_env__WEBPACK_IMPORTED_MODULE_2__.env.ENV !== \"development\") {\n            _elan_lib__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Could not identify IP address.\");\n            await (0,_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"couldNotIdentifyIp\", \"INTERNAL_SERVER_ERROR\");\n            throw new Error(\"Could not identify IP address.\");\n        } else {\n            identifier = \"unknown_ip\";\n        }\n    }\n    const result = await rateLimiter(identifier, options.limitPerInterval, options.duration);\n    if (!result.success) {\n        await (0,_utils_server_utils__WEBPACK_IMPORTED_MODULE_4__.ApiError)(\"tooManyRequests\", \"TOO_MANY_REQUESTS\");\n    }\n    return {\n        headers: new Headers({\n            \"X-RateLimit-Limit\": `${result.limit}`,\n            \"X-RateLimit-Remaining\": `${result.remaining}`,\n            \"X-RateLimit-Reset\": `${options.duration}`\n        })\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JhdGUtbGltaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ2tDO0FBRW1EO0FBQ3REO0FBQ0c7QUFFYTtBQUNOO0FBUXpDLE1BQU1RLGNBQWMsT0FBT0MsWUFBb0JDLE9BQWVDO0lBQzVELE1BQU1DLE1BQU0sQ0FBQyxXQUFXLEVBQUVILFdBQVcsQ0FBQztJQUN0QyxNQUFNSSxlQUFlLE1BQU1OLHlDQUFNQSxDQUFDTyxHQUFHLENBQUNGO0lBQ3RDLE1BQU1HLHNCQUFzQixNQUFNUix5Q0FBTUEsQ0FBQ1MsR0FBRyxDQUFDSjtJQUM3QyxJQUFJQyxpQkFBaUIsTUFBTTtRQUN6Qk4seUNBQU1BLENBQUNVLEtBQUssQ0FBQ0wsS0FBS0QsVUFBVTtRQUM1QixPQUFPO1lBQUVEO1lBQU9RLFdBQVdSLFFBQVE7WUFBR1MsU0FBUztRQUFLO0lBQ3RELE9BQU87UUFDTFoseUNBQU1BLENBQUNhLElBQUksQ0FBQ1I7UUFDWixxREFBcUQ7UUFDckRMLHlDQUFNQSxDQUFDYyxNQUFNLENBQUNULEtBQUtHO0lBQ3JCO0lBQ0EsTUFBTU8sUUFBUVQsZUFBZVUsU0FBU1YsZ0JBQWdCO0lBQ3RELElBQUlTLFNBQVNaLE9BQU87UUFDbEIsT0FBTztZQUFFQTtZQUFPUSxXQUFXUixRQUFRWTtZQUFPSCxTQUFTO1FBQU07SUFDM0Q7SUFDQSxPQUFPO1FBQUVUO1FBQU9RLFdBQVdSLFFBQVNZLENBQUFBLFFBQVE7UUFBSUgsU0FBUztJQUFLO0FBQ2hFO0FBRUEsaUVBQWVYLFdBQVdBLEVBQUE7QUFJbkIsTUFBTWdCLGlCQUFpQixPQUM1QkMsS0FDQUMsVUFHSTtJQUNGQyxrQkFBa0J6QiwwRUFBdUJBO0lBQ3pDUyxVQUFVVixzRUFBbUJBO0FBQy9CLENBQUM7SUFPRCxNQUFNMkIsVUFBa0MsQ0FBQztJQUN6Q0gsSUFBSUcsT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FBQ0MsT0FBT2xCO1FBQzFCZ0IsT0FBTyxDQUFDaEIsSUFBSSxHQUFHa0I7SUFDakI7SUFDQSxJQUFJckIsYUFBYVQsNkRBQXFCLENBQUM7UUFDckMsR0FBR3lCLEdBQUc7UUFDTkc7SUFDRjtJQUVBLElBQUksQ0FBQ25CLFlBQVk7UUFDZixJQUFJTix5Q0FBR0EsQ0FBQzZCLEdBQUcsS0FBSyxlQUFlO1lBQzdCNUIsNkNBQU1BLENBQUM2QixLQUFLLENBQUM7WUFDYixNQUFNNUIsNkRBQVFBLENBQUMsc0JBQXNCO1lBQ3JDLE1BQU0sSUFBSTZCLE1BQU07UUFDbEIsT0FBTztZQUNMekIsYUFBYTtRQUNmO0lBQ0Y7SUFFQSxNQUFNMEIsU0FBUyxNQUFNM0IsWUFBWUMsWUFBWWlCLFFBQVFDLGdCQUFnQixFQUFFRCxRQUFRZixRQUFRO0lBRXZGLElBQUksQ0FBQ3dCLE9BQU9oQixPQUFPLEVBQUU7UUFDbkIsTUFBTWQsNkRBQVFBLENBQUMsbUJBQW1CO0lBQ3BDO0lBRUEsT0FBTztRQUNMdUIsU0FBUyxJQUFJUSxRQUFRO1lBQ25CLHFCQUFxQixDQUFDLEVBQUVELE9BQU96QixLQUFLLENBQUMsQ0FBQztZQUN0Qyx5QkFBeUIsQ0FBQyxFQUFFeUIsT0FBT2pCLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLHFCQUFxQixDQUFDLEVBQUVRLFFBQVFmLFFBQVEsQ0FBQyxDQUFDO1FBQzVDO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9yYXRlLWxpbWl0LnRzPzhjNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCJcbmltcG9ydCByZXF1ZXN0SXAgZnJvbSBcInJlcXVlc3QtaXBcIlxuXG5pbXBvcnQgeyBSQVRFX0xJTUlUX0RVUkFUSU9OLCBSQVRFX0xJTUlUX1BFUl9JTlRFUlZBTCB9IGZyb20gXCJAL2NvbnN0YW50cy9yYXRlLWxpbWl0XCJcbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5cbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4vdXRpbHMvc2VydmVyLXV0aWxzXCJcbmltcG9ydCB7IHJlZGlzIGFzIGNsaWVudCB9IGZyb20gXCIuL3JlZGlzXCJcblxudHlwZSBSZXN1bHQgPSB7XG4gIGxpbWl0OiBudW1iZXJcbiAgcmVtYWluaW5nOiBudW1iZXJcbiAgc3VjY2VzczogYm9vbGVhblxufVxuXG5jb25zdCByYXRlTGltaXRlciA9IGFzeW5jIChpZGVudGlmaWVyOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBQcm9taXNlPFJlc3VsdD4gPT4ge1xuICBjb25zdCBrZXkgPSBgcmF0ZV9saW1pdDoke2lkZW50aWZpZXJ9YFxuICBjb25zdCBjdXJyZW50Q291bnQgPSBhd2FpdCBjbGllbnQuZ2V0KGtleSlcbiAgY29uc3QgY3VycmVudENvdW50VFRMTGVmdCA9IGF3YWl0IGNsaWVudC50dGwoa2V5KVxuICBpZiAoY3VycmVudENvdW50ID09PSBudWxsKSB7XG4gICAgY2xpZW50LnNldGV4KGtleSwgZHVyYXRpb24sIDEpXG4gICAgcmV0dXJuIHsgbGltaXQsIHJlbWFpbmluZzogbGltaXQgLSAxLCBzdWNjZXNzOiB0cnVlIH1cbiAgfSBlbHNlIHtcbiAgICBjbGllbnQuaW5jcihrZXkpXG4gICAgLy8gRW5zdXJlIHRoYXQgdGhlIGtleSB3aWxsIGV4cGlyZSBhZnRlciB0aGUgZHVyYXRpb25cbiAgICBjbGllbnQuZXhwaXJlKGtleSwgY3VycmVudENvdW50VFRMTGVmdClcbiAgfVxuICBjb25zdCBjb3VudCA9IGN1cnJlbnRDb3VudCA/IHBhcnNlSW50KGN1cnJlbnRDb3VudCkgOiAxXG4gIGlmIChjb3VudCA+PSBsaW1pdCkge1xuICAgIHJldHVybiB7IGxpbWl0LCByZW1haW5pbmc6IGxpbWl0IC0gY291bnQsIHN1Y2Nlc3M6IGZhbHNlIH1cbiAgfVxuICByZXR1cm4geyBsaW1pdCwgcmVtYWluaW5nOiBsaW1pdCAtIChjb3VudCArIDEpLCBzdWNjZXNzOiB0cnVlIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmF0ZUxpbWl0ZXJcblxuZXhwb3J0IHR5cGUgSVJhdGVMaW1pdGVyRXJyb3JSZXNwb25zZSA9IE5leHRSZXNwb25zZVxuXG5leHBvcnQgY29uc3QgYXBpUmF0ZUxpbWl0ZXIgPSBhc3luYyAoXG4gIHJlcTogUmVxdWVzdCxcbiAgb3B0aW9uczoge1xuICAgIGxpbWl0UGVySW50ZXJ2YWw6IG51bWJlclxuICAgIGR1cmF0aW9uOiBudW1iZXJcbiAgfSA9IHtcbiAgICBsaW1pdFBlckludGVydmFsOiBSQVRFX0xJTUlUX1BFUl9JTlRFUlZBTCxcbiAgICBkdXJhdGlvbjogUkFURV9MSU1JVF9EVVJBVElPTixcbiAgfVxuKTogUHJvbWlzZTxcbiAgfCB7XG4gICAgICBoZWFkZXJzOiBIZWFkZXJzXG4gICAgfVxuICB8IG5ldmVyXG4+ID0+IHtcbiAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9XG4gIHJlcS5oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZVxuICB9KVxuICBsZXQgaWRlbnRpZmllciA9IHJlcXVlc3RJcC5nZXRDbGllbnRJcCh7XG4gICAgLi4ucmVxLFxuICAgIGhlYWRlcnMsXG4gIH0pXG5cbiAgaWYgKCFpZGVudGlmaWVyKSB7XG4gICAgaWYgKGVudi5FTlYgIT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiQ291bGQgbm90IGlkZW50aWZ5IElQIGFkZHJlc3MuXCIpXG4gICAgICBhd2FpdCBBcGlFcnJvcihcImNvdWxkTm90SWRlbnRpZnlJcFwiLCBcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGlkZW50aWZ5IElQIGFkZHJlc3MuXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlkZW50aWZpZXIgPSBcInVua25vd25faXBcIlxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJhdGVMaW1pdGVyKGlkZW50aWZpZXIsIG9wdGlvbnMubGltaXRQZXJJbnRlcnZhbCwgb3B0aW9ucy5kdXJhdGlvbilcblxuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgYXdhaXQgQXBpRXJyb3IoXCJ0b29NYW55UmVxdWVzdHNcIiwgXCJUT09fTUFOWV9SRVFVRVNUU1wiKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG4gICAgICBcIlgtUmF0ZUxpbWl0LUxpbWl0XCI6IGAke3Jlc3VsdC5saW1pdH1gLFxuICAgICAgXCJYLVJhdGVMaW1pdC1SZW1haW5pbmdcIjogYCR7cmVzdWx0LnJlbWFpbmluZ31gLFxuICAgICAgXCJYLVJhdGVMaW1pdC1SZXNldFwiOiBgJHtvcHRpb25zLmR1cmF0aW9ufWAsXG4gICAgfSksXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJyZXF1ZXN0SXAiLCJSQVRFX0xJTUlUX0RVUkFUSU9OIiwiUkFURV9MSU1JVF9QRVJfSU5URVJWQUwiLCJlbnYiLCJsb2dnZXIiLCJBcGlFcnJvciIsInJlZGlzIiwiY2xpZW50IiwicmF0ZUxpbWl0ZXIiLCJpZGVudGlmaWVyIiwibGltaXQiLCJkdXJhdGlvbiIsImtleSIsImN1cnJlbnRDb3VudCIsImdldCIsImN1cnJlbnRDb3VudFRUTExlZnQiLCJ0dGwiLCJzZXRleCIsInJlbWFpbmluZyIsInN1Y2Nlc3MiLCJpbmNyIiwiZXhwaXJlIiwiY291bnQiLCJwYXJzZUludCIsImFwaVJhdGVMaW1pdGVyIiwicmVxIiwib3B0aW9ucyIsImxpbWl0UGVySW50ZXJ2YWwiLCJoZWFkZXJzIiwiZm9yRWFjaCIsInZhbHVlIiwiZ2V0Q2xpZW50SXAiLCJFTlYiLCJlcnJvciIsIkVycm9yIiwicmVzdWx0IiwiSGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rate-limit.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/redis.ts":
/*!**************************!*\
  !*** ./src/lib/redis.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redis: () => (/* binding */ redis)\n/* harmony export */ });\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ioredis */ \"(rsc)/../../node_modules/ioredis/built/index.js\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ \"(rsc)/./src/lib/env.ts\");\n\n\nconst options = {\n    host: _env__WEBPACK_IMPORTED_MODULE_1__.env.REDIS_HOST,\n    port: _env__WEBPACK_IMPORTED_MODULE_1__.env.REDIS_PORT,\n    username: _env__WEBPACK_IMPORTED_MODULE_1__.env.REDIS_USERNAME,\n    password: _env__WEBPACK_IMPORTED_MODULE_1__.env.REDIS_PASSWORD,\n    tls: _env__WEBPACK_IMPORTED_MODULE_1__.env.REDIS_USE_TLS ? {} : undefined\n};\nconst redis = new (ioredis__WEBPACK_IMPORTED_MODULE_0___default())(options);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JlZGlzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkM7QUFFbEI7QUFFM0IsTUFBTUUsVUFBd0I7SUFDNUJDLE1BQU1GLHFDQUFHQSxDQUFDRyxVQUFVO0lBQ3BCQyxNQUFNSixxQ0FBR0EsQ0FBQ0ssVUFBVTtJQUNwQkMsVUFBVU4scUNBQUdBLENBQUNPLGNBQWM7SUFDNUJDLFVBQVVSLHFDQUFHQSxDQUFDUyxjQUFjO0lBQzVCQyxLQUFLVixxQ0FBR0EsQ0FBQ1csYUFBYSxHQUFHLENBQUMsSUFBSUM7QUFDaEM7QUFFTyxNQUFNQyxRQUFRLElBQUlkLGdEQUFLQSxDQUFDRSxTQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi9yZWRpcy50cz85MjVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWRpcywgeyBSZWRpc09wdGlvbnMgfSBmcm9tIFwiaW9yZWRpc1wiXG5cbmltcG9ydCB7IGVudiB9IGZyb20gXCIuL2VudlwiXG5cbmNvbnN0IG9wdGlvbnM6IFJlZGlzT3B0aW9ucyA9IHtcbiAgaG9zdDogZW52LlJFRElTX0hPU1QsXG4gIHBvcnQ6IGVudi5SRURJU19QT1JULFxuICB1c2VybmFtZTogZW52LlJFRElTX1VTRVJOQU1FLFxuICBwYXNzd29yZDogZW52LlJFRElTX1BBU1NXT1JELFxuICB0bHM6IGVudi5SRURJU19VU0VfVExTID8ge30gOiB1bmRlZmluZWQsXG59XG5cbmV4cG9ydCBjb25zdCByZWRpcyA9IG5ldyBSZWRpcyhvcHRpb25zKVxuIl0sIm5hbWVzIjpbIlJlZGlzIiwiZW52Iiwib3B0aW9ucyIsImhvc3QiLCJSRURJU19IT1NUIiwicG9ydCIsIlJFRElTX1BPUlQiLCJ1c2VybmFtZSIsIlJFRElTX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJSRURJU19QQVNTV09SRCIsInRscyIsIlJFRElTX1VTRV9UTFMiLCJ1bmRlZmluZWQiLCJyZWRpcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/redis.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/s3.ts":
/*!***********************!*\
  !*** ./src/lib/s3.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   s3Client: () => (/* binding */ s3Client)\n/* harmony export */ });\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst s3Client = _lib_env__WEBPACK_IMPORTED_MODULE_0__.env.ENABLE_S3_SERVICE ? new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_1__.S3Client({\n    region: _lib_env__WEBPACK_IMPORTED_MODULE_0__.env.S3_REGION,\n    credentials: {\n        accessKeyId: _lib_env__WEBPACK_IMPORTED_MODULE_0__.env.S3_ACCESS_KEY_ID ?? \"\",\n        secretAccessKey: _lib_env__WEBPACK_IMPORTED_MODULE_0__.env.S3_SECRET_ACCESS_KEY ?? \"\"\n    },\n    endpoint: \"https://\" + _lib_env__WEBPACK_IMPORTED_MODULE_0__.env.NEXT_PUBLIC_S3_ENDPOINT\n}) : null;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3MzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFDYztBQUV0QyxNQUFNRSxXQUFXRix5Q0FBR0EsQ0FBQ0csaUJBQWlCLEdBQ3pDLElBQUlGLHdEQUFRQSxDQUFDO0lBQ1hHLFFBQVFKLHlDQUFHQSxDQUFDSyxTQUFTO0lBQ3JCQyxhQUFhO1FBQ1hDLGFBQWFQLHlDQUFHQSxDQUFDUSxnQkFBZ0IsSUFBSTtRQUNyQ0MsaUJBQWlCVCx5Q0FBR0EsQ0FBQ1Usb0JBQW9CLElBQUk7SUFDL0M7SUFDQUMsVUFBVSxhQUFhWCx5Q0FBR0EsQ0FBQ1ksdUJBQXVCO0FBQ3BELEtBQ0EsS0FBSSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvczMudHM/OWIzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52XCJcbmltcG9ydCB7IFMzQ2xpZW50IH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zM1wiXG5cbmV4cG9ydCBjb25zdCBzM0NsaWVudCA9IGVudi5FTkFCTEVfUzNfU0VSVklDRVxuICA/IG5ldyBTM0NsaWVudCh7XG4gICAgICByZWdpb246IGVudi5TM19SRUdJT04sXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBhY2Nlc3NLZXlJZDogZW52LlMzX0FDQ0VTU19LRVlfSUQgPz8gXCJcIixcbiAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBlbnYuUzNfU0VDUkVUX0FDQ0VTU19LRVkgPz8gXCJcIixcbiAgICAgIH0sXG4gICAgICBlbmRwb2ludDogXCJodHRwczovL1wiICsgZW52Lk5FWFRfUFVCTElDX1MzX0VORFBPSU5ULFxuICAgIH0pXG4gIDogbnVsbFxuIl0sIm5hbWVzIjpbImVudiIsIlMzQ2xpZW50IiwiczNDbGllbnQiLCJFTkFCTEVfUzNfU0VSVklDRSIsInJlZ2lvbiIsIlMzX1JFR0lPTiIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJTM19BQ0NFU1NfS0VZX0lEIiwic2VjcmV0QWNjZXNzS2V5IiwiUzNfU0VDUkVUX0FDQ0VTU19LRVkiLCJlbmRwb2ludCIsIk5FWFRfUFVCTElDX1MzX0VORFBPSU5UIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/s3.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/server/trpc.ts":
/*!********************************!*\
  !*** ./src/lib/server/trpc.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticatedNoEmailVerificationProcedure: () => (/* binding */ authenticatedNoEmailVerificationProcedure),\n/* harmony export */   authenticatedProcedure: () => (/* binding */ authenticatedProcedure),\n/* harmony export */   createCallerFactory: () => (/* binding */ createCallerFactory),\n/* harmony export */   middleware: () => (/* binding */ middleware),\n/* harmony export */   publicProcedure: () => (/* binding */ publicProcedure),\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var superjson__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superjson */ \"(rsc)/../../node_modules/superjson/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _components_auth_require_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/auth/require-auth */ \"(rsc)/./src/components/auth/require-auth.tsx\");\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/env */ \"(rsc)/./src/lib/env.ts\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/../../node_modules/@trpc/server/dist/index.mjs\");\n/* harmony import */ var _rate_limit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rate-limit */ \"(rsc)/./src/lib/rate-limit.ts\");\n/* harmony import */ var _utils_server_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/server-utils */ \"(rsc)/./src/lib/utils/server-utils.ts\");\n\n\n\n\n\n\n\n/**\n * Initialization of tRPC backend\n * Should be done only once per backend!\n */ const t = _trpc_server__WEBPACK_IMPORTED_MODULE_3__.initTRPC.context().create({\n    transformer: superjson__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    errorFormatter (opts) {\n        const { shape, error } = opts;\n        return {\n            ...shape,\n            data: {\n                ...shape.data,\n                zodError: error.code === \"BAD_REQUEST\" && error.cause instanceof zod__WEBPACK_IMPORTED_MODULE_6__.ZodError ? error.cause.flatten() : null\n            }\n        };\n    }\n});\n/**\n * Export reusable router and procedure helpers\n * that can be used throughout the router\n */ const createCallerFactory = t.createCallerFactory;\nconst router = t.router;\nconst middleware = t.middleware;\nconst hasRateLimit = middleware(async (opts)=>{\n    if (opts.ctx.req) {\n        const { headers } = await (0,_rate_limit__WEBPACK_IMPORTED_MODULE_4__.apiRateLimiter)(opts.ctx.req);\n        return opts.next({\n            ctx: {\n                Headers: headers\n            }\n        });\n    }\n    return opts.next();\n});\nconst publicProcedure = t.procedure.use(hasRateLimit);\nconst isAuthenticated = middleware(async (opts)=>{\n    const { session } = await (0,_components_auth_require_auth__WEBPACK_IMPORTED_MODULE_1__.getAuthApi)();\n    if (!session) {\n        await (0,_utils_server_utils__WEBPACK_IMPORTED_MODULE_5__.ApiError)(\"unauthorized\", \"UNAUTHORIZED\");\n    }\n    return opts.next({\n        ctx: {\n            ...opts.ctx,\n            session\n        }\n    });\n});\nconst hasVerifiedEmail = middleware(async (opts)=>{\n    const { ctx } = opts;\n    const session = ctx.session;\n    if (!session || !session.user.emailVerified && _lib_env__WEBPACK_IMPORTED_MODULE_2__.env.NEXT_PUBLIC_ENABLE_MAILING_SERVICE === true) {\n        await (0,_utils_server_utils__WEBPACK_IMPORTED_MODULE_5__.ApiError)(\"emailNotVerified\", \"UNAUTHORIZED\", {\n            redirect: false\n        });\n    }\n    return opts.next();\n});\nconst authenticatedProcedure = publicProcedure.use(isAuthenticated).use(hasVerifiedEmail);\nconst authenticatedNoEmailVerificationProcedure = publicProcedure.use(isAuthenticated);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZlci90cnBjLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDaUM7QUFDSDtBQUU2QjtBQUM1QjtBQUVRO0FBRU87QUFFRTtBQUVoRDs7O0NBR0MsR0FDRCxNQUFNTyxJQUFJSCxrREFBUUEsQ0FBQ0ksT0FBTyxHQUFZQyxNQUFNLENBQUM7SUFDM0NDLGFBQWFWLGlEQUFTQTtJQUN0QlcsZ0JBQWVDLElBQUk7UUFDakIsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRSxHQUFHRjtRQUN6QixPQUFPO1lBQ0wsR0FBR0MsS0FBSztZQUNSRSxNQUFNO2dCQUNKLEdBQUdGLE1BQU1FLElBQUk7Z0JBQ2JDLFVBQVVGLE1BQU1HLElBQUksS0FBSyxpQkFBaUJILE1BQU1JLEtBQUssWUFBWWpCLHlDQUFRQSxHQUFHYSxNQUFNSSxLQUFLLENBQUNDLE9BQU8sS0FBSztZQUN0RztRQUNGO0lBQ0Y7QUFDRjtBQUNBOzs7Q0FHQyxHQUNNLE1BQU1DLHNCQUFzQmIsRUFBRWEsbUJBQW1CO0FBQ2pELE1BQU1DLFNBQVNkLEVBQUVjLE1BQU07QUFDdkIsTUFBTUMsYUFBYWYsRUFBRWUsVUFBVTtBQUN0QyxNQUFNQyxlQUFlRCxXQUFXLE9BQU9WO0lBQ3JDLElBQUlBLEtBQUtZLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFO1FBQ2hCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUcsTUFBTXJCLDJEQUFjQSxDQUFDTyxLQUFLWSxHQUFHLENBQUNDLEdBQUc7UUFDckQsT0FBT2IsS0FBS2UsSUFBSSxDQUFDO1lBQ2ZILEtBQUs7Z0JBQ0hJLFNBQVNGO1lBQ1g7UUFDRjtJQUNGO0lBQ0EsT0FBT2QsS0FBS2UsSUFBSTtBQUNsQjtBQUNPLE1BQU1FLGtCQUFrQnRCLEVBQUV1QixTQUFTLENBQUNDLEdBQUcsQ0FBQ1IsY0FBYTtBQUM1RCxNQUFNUyxrQkFBa0JWLFdBQVcsT0FBT1Y7SUFDeEMsTUFBTSxFQUFFcUIsT0FBTyxFQUFFLEdBQUcsTUFBTS9CLHlFQUFVQTtJQUVwQyxJQUFJLENBQUMrQixTQUFTO1FBQ1osTUFBTTNCLDZEQUFRQSxDQUFDLGdCQUFnQjtJQUNqQztJQUVBLE9BQU9NLEtBQUtlLElBQUksQ0FBQztRQUNmSCxLQUFLO1lBQ0gsR0FBR1osS0FBS1ksR0FBRztZQUNYUztRQUNGO0lBQ0Y7QUFDRjtBQUNBLE1BQU1DLG1CQUFtQlosV0FBVyxPQUFPVjtJQUN6QyxNQUFNLEVBQUVZLEdBQUcsRUFBRSxHQUFHWjtJQUNoQixNQUFNcUIsVUFBVVQsSUFBSVMsT0FBTztJQUMzQixJQUFJLENBQUNBLFdBQVksQ0FBQ0EsUUFBUUUsSUFBSSxDQUFDQyxhQUFhLElBQUlqQyx5Q0FBR0EsQ0FBQ2tDLGtDQUFrQyxLQUFLLE1BQU87UUFDaEcsTUFBTS9CLDZEQUFRQSxDQUFDLG9CQUFvQixnQkFBZ0I7WUFDakRnQyxVQUFVO1FBQ1o7SUFDRjtJQUNBLE9BQU8xQixLQUFLZSxJQUFJO0FBQ2xCO0FBQ08sTUFBTVkseUJBQXlCVixnQkFBZ0JFLEdBQUcsQ0FBQ0MsaUJBQWlCRCxHQUFHLENBQUNHLGtCQUFpQjtBQUN6RixNQUFNTSw0Q0FBNENYLGdCQUFnQkUsR0FBRyxDQUFDQyxpQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvbGliL3NlcnZlci90cnBjLnRzPzYxZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IHN1cGVyanNvbiBmcm9tIFwic3VwZXJqc29uXCJcbmltcG9ydCB7IFpvZEVycm9yIH0gZnJvbSBcInpvZFwiXG5cbmltcG9ydCB7IGdldEF1dGhBcGkgfSBmcm9tIFwiQC9jb21wb25lbnRzL2F1dGgvcmVxdWlyZS1hdXRoXCJcbmltcG9ydCB7IGVudiB9IGZyb20gXCJAL2xpYi9lbnZcIlxuaW1wb3J0IHsgVXNlciB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiXG5pbXBvcnQgeyBpbml0VFJQQyB9IGZyb20gXCJAdHJwYy9zZXJ2ZXJcIlxuXG5pbXBvcnQgeyBhcGlSYXRlTGltaXRlciB9IGZyb20gXCIuLi9yYXRlLWxpbWl0XCJcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwiLi4vdHJwYy9jb250ZXh0XCJcbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSBcIi4uL3V0aWxzL3NlcnZlci11dGlsc1wiXG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gb2YgdFJQQyBiYWNrZW5kXG4gKiBTaG91bGQgYmUgZG9uZSBvbmx5IG9uY2UgcGVyIGJhY2tlbmQhXG4gKi9cbmNvbnN0IHQgPSBpbml0VFJQQy5jb250ZXh0PENvbnRleHQ+KCkuY3JlYXRlKHtcbiAgdHJhbnNmb3JtZXI6IHN1cGVyanNvbixcbiAgZXJyb3JGb3JtYXR0ZXIob3B0cykge1xuICAgIGNvbnN0IHsgc2hhcGUsIGVycm9yIH0gPSBvcHRzXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnNoYXBlLFxuICAgICAgZGF0YToge1xuICAgICAgICAuLi5zaGFwZS5kYXRhLFxuICAgICAgICB6b2RFcnJvcjogZXJyb3IuY29kZSA9PT0gXCJCQURfUkVRVUVTVFwiICYmIGVycm9yLmNhdXNlIGluc3RhbmNlb2YgWm9kRXJyb3IgPyBlcnJvci5jYXVzZS5mbGF0dGVuKCkgOiBudWxsLFxuICAgICAgfSxcbiAgICB9XG4gIH0sXG59KVxuLyoqXG4gKiBFeHBvcnQgcmV1c2FibGUgcm91dGVyIGFuZCBwcm9jZWR1cmUgaGVscGVyc1xuICogdGhhdCBjYW4gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSByb3V0ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhbGxlckZhY3RvcnkgPSB0LmNyZWF0ZUNhbGxlckZhY3RvcnlcbmV4cG9ydCBjb25zdCByb3V0ZXIgPSB0LnJvdXRlclxuZXhwb3J0IGNvbnN0IG1pZGRsZXdhcmUgPSB0Lm1pZGRsZXdhcmVcbmNvbnN0IGhhc1JhdGVMaW1pdCA9IG1pZGRsZXdhcmUoYXN5bmMgKG9wdHMpID0+IHtcbiAgaWYgKG9wdHMuY3R4LnJlcSkge1xuICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gYXdhaXQgYXBpUmF0ZUxpbWl0ZXIob3B0cy5jdHgucmVxKVxuICAgIHJldHVybiBvcHRzLm5leHQoe1xuICAgICAgY3R4OiB7XG4gICAgICAgIEhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICB9LFxuICAgIH0pXG4gIH1cbiAgcmV0dXJuIG9wdHMubmV4dCgpXG59KVxuZXhwb3J0IGNvbnN0IHB1YmxpY1Byb2NlZHVyZSA9IHQucHJvY2VkdXJlLnVzZShoYXNSYXRlTGltaXQpXG5jb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSBtaWRkbGV3YXJlKGFzeW5jIChvcHRzKSA9PiB7XG4gIGNvbnN0IHsgc2Vzc2lvbiB9ID0gYXdhaXQgZ2V0QXV0aEFwaSgpXG5cbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgYXdhaXQgQXBpRXJyb3IoXCJ1bmF1dGhvcml6ZWRcIiwgXCJVTkFVVEhPUklaRURcIilcbiAgfVxuXG4gIHJldHVybiBvcHRzLm5leHQoe1xuICAgIGN0eDoge1xuICAgICAgLi4ub3B0cy5jdHgsXG4gICAgICBzZXNzaW9uLFxuICAgIH0sXG4gIH0pXG59KVxuY29uc3QgaGFzVmVyaWZpZWRFbWFpbCA9IG1pZGRsZXdhcmUoYXN5bmMgKG9wdHMpID0+IHtcbiAgY29uc3QgeyBjdHggfSA9IG9wdHNcbiAgY29uc3Qgc2Vzc2lvbiA9IGN0eC5zZXNzaW9uIGFzIChTZXNzaW9uICYgeyB1c2VyOiBPbWl0PFVzZXIsIFwicGFzc3dvcmRcIj4gfSkgfCBudWxsXG4gIGlmICghc2Vzc2lvbiB8fCAoIXNlc3Npb24udXNlci5lbWFpbFZlcmlmaWVkICYmIGVudi5ORVhUX1BVQkxJQ19FTkFCTEVfTUFJTElOR19TRVJWSUNFID09PSB0cnVlKSkge1xuICAgIGF3YWl0IEFwaUVycm9yKFwiZW1haWxOb3RWZXJpZmllZFwiLCBcIlVOQVVUSE9SSVpFRFwiLCB7XG4gICAgICByZWRpcmVjdDogZmFsc2UsXG4gICAgfSlcbiAgfVxuICByZXR1cm4gb3B0cy5uZXh0KClcbn0pXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlZFByb2NlZHVyZSA9IHB1YmxpY1Byb2NlZHVyZS51c2UoaXNBdXRoZW50aWNhdGVkKS51c2UoaGFzVmVyaWZpZWRFbWFpbClcbmV4cG9ydCBjb25zdCBhdXRoZW50aWNhdGVkTm9FbWFpbFZlcmlmaWNhdGlvblByb2NlZHVyZSA9IHB1YmxpY1Byb2NlZHVyZS51c2UoaXNBdXRoZW50aWNhdGVkKVxuIl0sIm5hbWVzIjpbInN1cGVyanNvbiIsIlpvZEVycm9yIiwiZ2V0QXV0aEFwaSIsImVudiIsImluaXRUUlBDIiwiYXBpUmF0ZUxpbWl0ZXIiLCJBcGlFcnJvciIsInQiLCJjb250ZXh0IiwiY3JlYXRlIiwidHJhbnNmb3JtZXIiLCJlcnJvckZvcm1hdHRlciIsIm9wdHMiLCJzaGFwZSIsImVycm9yIiwiZGF0YSIsInpvZEVycm9yIiwiY29kZSIsImNhdXNlIiwiZmxhdHRlbiIsImNyZWF0ZUNhbGxlckZhY3RvcnkiLCJyb3V0ZXIiLCJtaWRkbGV3YXJlIiwiaGFzUmF0ZUxpbWl0IiwiY3R4IiwicmVxIiwiaGVhZGVycyIsIm5leHQiLCJIZWFkZXJzIiwicHVibGljUHJvY2VkdXJlIiwicHJvY2VkdXJlIiwidXNlIiwiaXNBdXRoZW50aWNhdGVkIiwic2Vzc2lvbiIsImhhc1ZlcmlmaWVkRW1haWwiLCJ1c2VyIiwiZW1haWxWZXJpZmllZCIsIk5FWFRfUFVCTElDX0VOQUJMRV9NQUlMSU5HX1NFUlZJQ0UiLCJyZWRpcmVjdCIsImF1dGhlbnRpY2F0ZWRQcm9jZWR1cmUiLCJhdXRoZW50aWNhdGVkTm9FbWFpbFZlcmlmaWNhdGlvblByb2NlZHVyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/server/trpc.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/trpc/context.ts":
/*!*********************************!*\
  !*** ./src/lib/trpc/context.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createContext: () => (/* binding */ createContext)\n/* harmony export */ });\nfunction createContext(opts, fromServer) {\n    const response = {\n        session: null,\n        headers: opts && Object.fromEntries(opts.req.headers),\n        req: opts && opts.req,\n        fromServer\n    };\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3RycGMvY29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBR08sU0FBU0EsY0FBY0MsSUFBa0MsRUFBRUMsVUFBb0I7SUFDcEYsTUFBTUMsV0FBeUI7UUFDN0JDLFNBQVM7UUFDVEMsU0FBU0osUUFBUUssT0FBT0MsV0FBVyxDQUFDTixLQUFLTyxHQUFHLENBQUNILE9BQU87UUFDcERHLEtBQUtQLFFBQVFBLEtBQUtPLEdBQUc7UUFDckJOO0lBQ0Y7SUFDQSxPQUFPQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi90cnBjL2NvbnRleHQudHM/NWNjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJVHJwY0NvbnRleHQgfSBmcm9tIFwiQC90eXBlc1wiXG5pbXBvcnQgeyBGZXRjaENyZWF0ZUNvbnRleHRGbk9wdGlvbnMgfSBmcm9tIFwiQHRycGMvc2VydmVyL2FkYXB0ZXJzL2ZldGNoXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQob3B0cz86IEZldGNoQ3JlYXRlQ29udGV4dEZuT3B0aW9ucywgZnJvbVNlcnZlcj86IGJvb2xlYW4pIHtcbiAgY29uc3QgcmVzcG9uc2U6IElUcnBjQ29udGV4dCA9IHtcbiAgICBzZXNzaW9uOiBudWxsLFxuICAgIGhlYWRlcnM6IG9wdHMgJiYgT2JqZWN0LmZyb21FbnRyaWVzKG9wdHMucmVxLmhlYWRlcnMpLFxuICAgIHJlcTogb3B0cyAmJiBvcHRzLnJlcSxcbiAgICBmcm9tU2VydmVyLFxuICB9XG4gIHJldHVybiByZXNwb25zZVxufVxuXG5leHBvcnQgdHlwZSBDb250ZXh0ID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDb250ZXh0Pj5cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0Iiwib3B0cyIsImZyb21TZXJ2ZXIiLCJyZXNwb25zZSIsInNlc3Npb24iLCJoZWFkZXJzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJyZXEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/trpc/context.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils/dictionary.ts":
/*!*************************************!*\
  !*** ./src/lib/utils/dictionary.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dictionaryRequirements: () => (/* binding */ dictionaryRequirements)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! . */ \"(rsc)/./src/lib/utils/index.ts\");\n\n/**\n * Used to define the dictionary requirements of a component\n */ const dictionaryRequirements = (subset, ...subsets)=>{\n    const requirements = subsets.length > 0 ? (0,___WEBPACK_IMPORTED_MODULE_0__.merge)(subset, ...subsets) : subset;\n    return requirements;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzL2RpY3Rpb25hcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJeUI7QUFFekI7O0NBRUMsR0FDTSxNQUFNQyx5QkFBeUIsQ0FRcENDLFFBQ0EsR0FBR0M7SUFFSCxNQUFNQyxlQUFlRCxRQUFRRSxNQUFNLEdBQUcsSUFBSUwsd0NBQUtBLENBQUNFLFdBQVdDLFdBQVlEO0lBQ3ZFLE9BQU9FO0FBQ1QsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvdXRpbHMvZGljdGlvbmFyeS50cz83ZDZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbGVjdFN1YnNldCwgVW5pb25Ub0ludGVyc2VjdGlvbiB9IGZyb20gXCJAL3R5cGVzXCJcblxuaW1wb3J0IHsgVEJhc2VEaWN0LCBUUG9zc2libGVOYW1lc3BhY2VzIH0gZnJvbSBcIi4uL2xhbmdzXCJcblxuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tIFwiLlwiXG5cbi8qKlxuICogVXNlZCB0byBkZWZpbmUgdGhlIGRpY3Rpb25hcnkgcmVxdWlyZW1lbnRzIG9mIGEgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCBkaWN0aW9uYXJ5UmVxdWlyZW1lbnRzID0gPFxuICBOUyBleHRlbmRzIFRQb3NzaWJsZU5hbWVzcGFjZXMgPSBcImRlZmF1bHRcIixcbiAgUDEgZXh0ZW5kcyBTZWxlY3RTdWJzZXQ8VEJhc2VEaWN0PE5TPj4gPSBTZWxlY3RTdWJzZXQ8VEJhc2VEaWN0PE5TPj4sXG4gIFAyIGV4dGVuZHMgU2VsZWN0U3Vic2V0PFRCYXNlRGljdDxOUz4+W10gPSBTZWxlY3RTdWJzZXQ8VEJhc2VEaWN0PE5TPj5bXSxcbiAgUCBleHRlbmRzIFAyIGV4dGVuZHMgW10gPyBQMSA6IFAxICYgVW5pb25Ub0ludGVyc2VjdGlvbjxQMltudW1iZXJdPiA9IFAyIGV4dGVuZHMgW11cbiAgICA/IFAxXG4gICAgOiBQMSAmIFVuaW9uVG9JbnRlcnNlY3Rpb248UDJbbnVtYmVyXT4sXG4+KFxuICBzdWJzZXQ6IFAxLFxuICAuLi5zdWJzZXRzOiBbLi4uUDJdXG4pOiBQID0+IHtcbiAgY29uc3QgcmVxdWlyZW1lbnRzID0gc3Vic2V0cy5sZW5ndGggPiAwID8gbWVyZ2Uoc3Vic2V0LCAuLi5zdWJzZXRzKSA6IChzdWJzZXQgYXMgdW5rbm93biBhcyBQKVxuICByZXR1cm4gcmVxdWlyZW1lbnRzIGFzIFBcbn1cbiJdLCJuYW1lcyI6WyJtZXJnZSIsImRpY3Rpb25hcnlSZXF1aXJlbWVudHMiLCJzdWJzZXQiLCJzdWJzZXRzIiwicmVxdWlyZW1lbnRzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils/dictionary.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils/index.ts":
/*!********************************!*\
  !*** ./src/lib/utils/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bytesToMegabytes: () => (/* binding */ bytesToMegabytes),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   ensureRelativeUrl: () => (/* binding */ ensureRelativeUrl),\n/* harmony export */   findNestedKeyInDictionary: () => (/* binding */ findNestedKeyInDictionary),\n/* harmony export */   formatCouldNotMessage: () => (/* binding */ formatCouldNotMessage),\n/* harmony export */   getTimeBetween: () => (/* binding */ getTimeBetween),\n/* harmony export */   handleApiError: () => (/* binding */ handleApiError),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   pickFromSubset: () => (/* binding */ pickFromSubset),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   stringToSlug: () => (/* binding */ stringToSlug)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/../../node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/../../node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n/* harmony import */ var _constants_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants/auth */ \"(rsc)/./src/constants/auth.ts\");\n\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n/**\n * Get the time between to dates\n * @param firstDate First date\n * @param secondDate Second date\n * @returns The time between the two dates\n * @example\n * getTimeBetween(new Date(\"2020-01-01\"), new Date(\"2020-01-02\")) // 1 day\n */ const getTimeBetween = (firstDate, secondDate, options)=>{\n    // Time difference in milliseconds\n    const timeDiff = Math.abs(firstDate.getTime() - secondDate.getTime()) // in milliseconds\n    ;\n    // Check for the markAsNowSince\n    const markAsNowSince = options.markAsNowSince || 1000 * 60;\n    if (timeDiff < markAsNowSince) {\n        return options.dictionary.timeUnit.now;\n    }\n    // Define time intervals in milliseconds\n    const intervals = {\n        year: 365.25 * 24 * 60 * 60 * 1000,\n        month: 30.44 * 24 * 60 * 60 * 1000,\n        day: 24 * 60 * 60 * 1000,\n        hour: 60 * 60 * 1000,\n        minute: 60 * 1000,\n        second: 1000\n    };\n    // Calculate the number of intervals elapsed\n    const elapsed = {\n        year: Math.floor(timeDiff / intervals.year),\n        month: Math.floor(timeDiff / intervals.month),\n        day: Math.floor(timeDiff / intervals.day),\n        hour: Math.floor(timeDiff / intervals.hour),\n        minute: Math.floor(timeDiff / intervals.minute),\n        second: Math.floor(timeDiff / intervals.second)\n    };\n    // Determine the appropriate time interval to display\n    let timeUnit;\n    let timeValue;\n    if (elapsed.year > 0) {\n        timeUnit = elapsed.year > 1 ? options.dictionary.timeUnit.years : options.dictionary.timeUnit.year;\n        timeValue = elapsed.year;\n    } else if (elapsed.month > 0) {\n        timeUnit = elapsed.month > 1 ? options.dictionary.timeUnit.months : options.dictionary.timeUnit.month;\n        timeValue = elapsed.month;\n    } else if (elapsed.day > 0) {\n        timeUnit = elapsed.day > 1 ? options.dictionary.timeUnit.days : options.dictionary.timeUnit.day;\n        timeValue = elapsed.day;\n    } else if (elapsed.hour > 0) {\n        timeUnit = elapsed.hour > 1 ? options.dictionary.timeUnit.hours : options.dictionary.timeUnit.hour;\n        timeValue = elapsed.hour;\n    } else if (elapsed.minute > 0) {\n        timeUnit = elapsed.minute > 1 ? options.dictionary.timeUnit.minutes : options.dictionary.timeUnit.minute;\n        timeValue = elapsed.minute;\n    } else {\n        timeUnit = elapsed.second > 1 ? options.dictionary.timeUnit.seconds : options.dictionary.timeUnit.second;\n        timeValue = elapsed.second;\n    }\n    // Construct and return the time elapsed string\n    return `${timeValue} ${timeUnit}`;\n};\n// Function to ensure an url is relative to the current domain\nconst ensureRelativeUrl = (url)=>{\n    if (url && url.startsWith(\"http\")) {\n        const urlObject = new URL(url);\n        return urlObject.pathname;\n    }\n    return url;\n};\nconst formatCouldNotMessage = async ({ couldNotMessage, action, subject })=>{\n    return couldNotMessage.replace(\"{action}\", action).replace(\"{subject}\", subject);\n};\nconst findNestedKeyInDictionary = (key, dictionaryErrors)=>{\n    const keys = key.split(\".\");\n    let currentKey = keys.shift();\n    let currentObject = dictionaryErrors;\n    while(currentKey && currentObject && typeof currentObject === \"object\"){\n        currentObject = currentObject[currentKey];\n        currentKey = keys.shift();\n    }\n    return currentObject;\n};\nconst handleApiError = (error, dictionary, router)=>{\n    try {\n        const parsedError = JSON.parse(error.message);\n        if (typeof parsedError === \"string\") {\n            const translatedError = parsedError;\n            if (error.data?.code === \"UNAUTHORIZED\") {\n                router.push(_constants_auth__WEBPACK_IMPORTED_MODULE_1__.authRoutes.redirectOnUnhauthorized);\n            }\n            return {\n                ...error,\n                message: translatedError\n            };\n        }\n        const translatedError = parsedError.message;\n        const avoidRedirect = parsedError.extra && \"redirect\" in parsedError.extra && parsedError.extra.redirect === false;\n        if (error.data?.code === \"UNAUTHORIZED\" && !avoidRedirect) {\n            router.push(_constants_auth__WEBPACK_IMPORTED_MODULE_1__.authRoutes.redirectOnUnhauthorized);\n        }\n        return {\n            ...error,\n            message: translatedError\n        };\n    } catch (e) {\n        const translatedError = dictionary.unknownError;\n        return {\n            ...error,\n            message: translatedError\n        };\n    }\n};\nfunction bytesToMegabytes(bytes, round) {\n    const megabytes = bytes / (1024 * 1024);\n    if (round) return Math.round(megabytes * 100) / 100;\n    return megabytes;\n}\nfunction stringToSlug(string) {\n    return string.toLowerCase().replace(/[^\\w -]+/g, \"\").replace(/ +/g, \"-\");\n}\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nfunction pickFromSubset(obj, subset, keySum) {\n    const result = {};\n    if (!subset) {\n        // throw new Error(\"The subset is undefined. Please provide a subset to pick from the dictionary.\")\n        return obj;\n    }\n    Object.keys(subset).forEach((_key)=>{\n        const key = _key;\n        if (!obj[key]) {\n            throw new Error(`The key \"${(keySum ? keySum + \".\" : \"\") + key.toString()}\" not found in dictionary. Maybe you forgot to import it from the server component. see the docs for more information.`);\n        }\n        if (subset[key] === true) {\n            result[key] = obj[key];\n        } else if (typeof subset[key] === \"object\") {\n            result[key] = pickFromSubset(obj[key], subset[key], keySum ? keySum + \".\" + key.toString() : key.toString());\n        }\n    });\n    return result;\n}\nfunction isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\nfunction merge(target, ...sources) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const isObject = (obj)=>!!obj && typeof obj === \"object\" && !Array.isArray(obj);\n    const mergeTwo = (target, source)=>{\n        if (target === true) return true;\n        const output = {\n            ...target\n        };\n        if (isObject(target) && isObject(source)) {\n            Object.keys(source).forEach((_key)=>{\n                const key = _key;\n                if (isObject(source[key])) {\n                    if (!(key in target)) Object.assign(output, {\n                        [key]: source[key]\n                    });\n                    else output[key] = mergeTwo(target[key], source[key]);\n                } else {\n                    Object.assign(output, {\n                        [key]: source[key]\n                    });\n                }\n            });\n        }\n        return output;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return sources.reduce((acc, curr)=>mergeTwo(acc, curr), target);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TCxTQUFTUSxTQUFTO1lBQ3hDYixPQUFPdkMsSUFBSSxDQUFDb0QsUUFBUVosT0FBTyxDQUFDLENBQUNDO2dCQUMzQixNQUFNM0MsTUFBTTJDO2dCQUNaLElBQUlHLFNBQVNRLE1BQU0sQ0FBQ3RELElBQUksR0FBRztvQkFDekIsSUFBSSxDQUFFQSxDQUFBQSxPQUFPbUQsTUFBSyxHQUFJVixPQUFPZSxNQUFNLENBQUNELFFBQVE7d0JBQUUsQ0FBQ3ZELElBQUksRUFBRXNELE1BQU0sQ0FBQ3RELElBQUk7b0JBQUM7eUJBRS9EdUQsTUFBTSxDQUFDdkQsSUFBMEIsR0FBR3FELFNBQ2xDRixNQUFNLENBQUNuRCxJQUEwQixFQUNqQ3NELE1BQU0sQ0FBQ3RELElBQUk7Z0JBRWpCLE9BQU87b0JBQ0x5QyxPQUFPZSxNQUFNLENBQUNELFFBQVE7d0JBQUUsQ0FBQ3ZELElBQUksRUFBRXNELE1BQU0sQ0FBQ3RELElBQUk7b0JBQUM7Z0JBQzdDO1lBQ0Y7UUFDRjtRQUNBLE9BQU91RDtJQUNUO0lBRUEsOERBQThEO0lBQzlELE9BQU9ILFFBQVFLLE1BQU0sQ0FBQyxDQUFDQyxLQUFLQyxPQUFTTixTQUFTSyxLQUFLQyxPQUFjUjtBQUNuRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uL3NyYy9saWIvdXRpbHMvaW5kZXgudHM/MWRhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZXJJbnN0YW5jZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9hcHAtcm91dGVyLWNvbnRleHQuc2hhcmVkLXJ1bnRpbWVcIlxuaW1wb3J0IHsgdHlwZSBDbGFzc1ZhbHVlLCBjbHN4IH0gZnJvbSBcImNsc3hcIlxuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXG5cbmltcG9ydCB7IGF1dGhSb3V0ZXMgfSBmcm9tIFwiQC9jb25zdGFudHMvYXV0aFwiXG5pbXBvcnQgeyBQaWNrRnJvbVN1YnNldCwgU2VsZWN0U3Vic2V0IH0gZnJvbSBcIkAvdHlwZXNcIlxuaW1wb3J0IHsgVFJQQ0NsaWVudEVycm9yTGlrZSB9IGZyb20gXCJAdHJwYy9jbGllbnRcIlxuXG5pbXBvcnQgeyBBcHBSb3V0ZXIgfSBmcm9tIFwiLi4vLi4vYXBpL19hcHBcIlxuaW1wb3J0IHsgVERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vbGFuZ3NcIlxuXG5pbXBvcnQgeyBURXJyb3JNZXNzYWdlIH0gZnJvbSBcIi4vc2VydmVyLXV0aWxzXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRpbWUgYmV0d2VlbiB0byBkYXRlc1xuICogQHBhcmFtIGZpcnN0RGF0ZSBGaXJzdCBkYXRlXG4gKiBAcGFyYW0gc2Vjb25kRGF0ZSBTZWNvbmQgZGF0ZVxuICogQHJldHVybnMgVGhlIHRpbWUgYmV0d2VlbiB0aGUgdHdvIGRhdGVzXG4gKiBAZXhhbXBsZVxuICogZ2V0VGltZUJldHdlZW4obmV3IERhdGUoXCIyMDIwLTAxLTAxXCIpLCBuZXcgRGF0ZShcIjIwMjAtMDEtMDJcIikpIC8vIDEgZGF5XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUaW1lQmV0d2VlbiA9IChcbiAgZmlyc3REYXRlOiBEYXRlLFxuICBzZWNvbmREYXRlOiBEYXRlLFxuICBvcHRpb25zOiB7XG4gICAgbWFya0FzTm93U2luY2U/OiBudW1iZXJcbiAgICBkaWN0aW9uYXJ5OiBURGljdGlvbmFyeTx7XG4gICAgICB0aW1lVW5pdDogdHJ1ZVxuICAgIH0+XG4gIH1cbik6IHN0cmluZyA9PiB7XG4gIC8vIFRpbWUgZGlmZmVyZW5jZSBpbiBtaWxsaXNlY29uZHNcbiAgY29uc3QgdGltZURpZmYgPSBNYXRoLmFicyhmaXJzdERhdGUuZ2V0VGltZSgpIC0gc2Vjb25kRGF0ZS5nZXRUaW1lKCkpIC8vIGluIG1pbGxpc2Vjb25kc1xuXG4gIC8vIENoZWNrIGZvciB0aGUgbWFya0FzTm93U2luY2VcbiAgY29uc3QgbWFya0FzTm93U2luY2UgPSBvcHRpb25zLm1hcmtBc05vd1NpbmNlIHx8IDEwMDAgKiA2MFxuICBpZiAodGltZURpZmYgPCBtYXJrQXNOb3dTaW5jZSkge1xuICAgIHJldHVybiBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQubm93XG4gIH1cblxuICAvLyBEZWZpbmUgdGltZSBpbnRlcnZhbHMgaW4gbWlsbGlzZWNvbmRzXG4gIGNvbnN0IGludGVydmFscyA9IHtcbiAgICB5ZWFyOiAzNjUuMjUgKiAyNCAqIDYwICogNjAgKiAxMDAwLFxuICAgIG1vbnRoOiAzMC40NCAqIDI0ICogNjAgKiA2MCAqIDEwMDAsXG4gICAgZGF5OiAyNCAqIDYwICogNjAgKiAxMDAwLFxuICAgIGhvdXI6IDYwICogNjAgKiAxMDAwLFxuICAgIG1pbnV0ZTogNjAgKiAxMDAwLFxuICAgIHNlY29uZDogMTAwMCxcbiAgfVxuICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBpbnRlcnZhbHMgZWxhcHNlZFxuICBjb25zdCBlbGFwc2VkID0ge1xuICAgIHllYXI6IE1hdGguZmxvb3IodGltZURpZmYgLyBpbnRlcnZhbHMueWVhciksXG4gICAgbW9udGg6IE1hdGguZmxvb3IodGltZURpZmYgLyBpbnRlcnZhbHMubW9udGgpLFxuICAgIGRheTogTWF0aC5mbG9vcih0aW1lRGlmZiAvIGludGVydmFscy5kYXkpLFxuICAgIGhvdXI6IE1hdGguZmxvb3IodGltZURpZmYgLyBpbnRlcnZhbHMuaG91ciksXG4gICAgbWludXRlOiBNYXRoLmZsb29yKHRpbWVEaWZmIC8gaW50ZXJ2YWxzLm1pbnV0ZSksXG4gICAgc2Vjb25kOiBNYXRoLmZsb29yKHRpbWVEaWZmIC8gaW50ZXJ2YWxzLnNlY29uZCksXG4gIH1cbiAgLy8gRGV0ZXJtaW5lIHRoZSBhcHByb3ByaWF0ZSB0aW1lIGludGVydmFsIHRvIGRpc3BsYXlcbiAgbGV0IHRpbWVVbml0XG4gIGxldCB0aW1lVmFsdWVcbiAgaWYgKGVsYXBzZWQueWVhciA+IDApIHtcbiAgICB0aW1lVW5pdCA9IGVsYXBzZWQueWVhciA+IDEgPyBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQueWVhcnMgOiBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQueWVhclxuICAgIHRpbWVWYWx1ZSA9IGVsYXBzZWQueWVhclxuICB9IGVsc2UgaWYgKGVsYXBzZWQubW9udGggPiAwKSB7XG4gICAgdGltZVVuaXQgPSBlbGFwc2VkLm1vbnRoID4gMSA/IG9wdGlvbnMuZGljdGlvbmFyeS50aW1lVW5pdC5tb250aHMgOiBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQubW9udGhcbiAgICB0aW1lVmFsdWUgPSBlbGFwc2VkLm1vbnRoXG4gIH0gZWxzZSBpZiAoZWxhcHNlZC5kYXkgPiAwKSB7XG4gICAgdGltZVVuaXQgPSBlbGFwc2VkLmRheSA+IDEgPyBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQuZGF5cyA6IG9wdGlvbnMuZGljdGlvbmFyeS50aW1lVW5pdC5kYXlcbiAgICB0aW1lVmFsdWUgPSBlbGFwc2VkLmRheVxuICB9IGVsc2UgaWYgKGVsYXBzZWQuaG91ciA+IDApIHtcbiAgICB0aW1lVW5pdCA9IGVsYXBzZWQuaG91ciA+IDEgPyBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQuaG91cnMgOiBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQuaG91clxuICAgIHRpbWVWYWx1ZSA9IGVsYXBzZWQuaG91clxuICB9IGVsc2UgaWYgKGVsYXBzZWQubWludXRlID4gMCkge1xuICAgIHRpbWVVbml0ID0gZWxhcHNlZC5taW51dGUgPiAxID8gb3B0aW9ucy5kaWN0aW9uYXJ5LnRpbWVVbml0Lm1pbnV0ZXMgOiBvcHRpb25zLmRpY3Rpb25hcnkudGltZVVuaXQubWludXRlXG4gICAgdGltZVZhbHVlID0gZWxhcHNlZC5taW51dGVcbiAgfSBlbHNlIHtcbiAgICB0aW1lVW5pdCA9IGVsYXBzZWQuc2Vjb25kID4gMSA/IG9wdGlvbnMuZGljdGlvbmFyeS50aW1lVW5pdC5zZWNvbmRzIDogb3B0aW9ucy5kaWN0aW9uYXJ5LnRpbWVVbml0LnNlY29uZFxuICAgIHRpbWVWYWx1ZSA9IGVsYXBzZWQuc2Vjb25kXG4gIH1cbiAgLy8gQ29uc3RydWN0IGFuZCByZXR1cm4gdGhlIHRpbWUgZWxhcHNlZCBzdHJpbmdcbiAgcmV0dXJuIGAke3RpbWVWYWx1ZX0gJHt0aW1lVW5pdH1gXG59XG5cbi8vIEZ1bmN0aW9uIHRvIGVuc3VyZSBhbiB1cmwgaXMgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgZG9tYWluXG5leHBvcnQgY29uc3QgZW5zdXJlUmVsYXRpdmVVcmwgPSA8VCBleHRlbmRzIHN0cmluZyB8IHVuZGVmaW5lZD4odXJsOiBUKSA9PiB7XG4gIGlmICh1cmwgJiYgdXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gbmV3IFVSTCh1cmwpXG4gICAgcmV0dXJuIHVybE9iamVjdC5wYXRobmFtZVxuICB9XG4gIHJldHVybiB1cmwgYXMgVFxufVxuXG5leHBvcnQgY29uc3QgZm9ybWF0Q291bGROb3RNZXNzYWdlID0gYXN5bmMgKHtcbiAgY291bGROb3RNZXNzYWdlLFxuICBhY3Rpb24sXG4gIHN1YmplY3QsXG59OiB7XG4gIGNvdWxkTm90TWVzc2FnZTogc3RyaW5nXG4gIGFjdGlvbjogc3RyaW5nXG4gIHN1YmplY3Q6IHN0cmluZ1xufSkgPT4ge1xuICByZXR1cm4gY291bGROb3RNZXNzYWdlLnJlcGxhY2UoXCJ7YWN0aW9ufVwiLCBhY3Rpb24pLnJlcGxhY2UoXCJ7c3ViamVjdH1cIiwgc3ViamVjdClcbn1cblxudHlwZSBURGljdEtleSA9IHsgW2tleTogc3RyaW5nXTogVERpY3RLZXkgfSB8IHVuZGVmaW5lZCB8IHN0cmluZ1xuZXhwb3J0IGNvbnN0IGZpbmROZXN0ZWRLZXlJbkRpY3Rpb25hcnkgPSAoXG4gIGtleTogc3RyaW5nLFxuICBkaWN0aW9uYXJ5RXJyb3JzOiBURGljdGlvbmFyeTx1bmRlZmluZWQsIFwiZXJyb3JzXCI+XG4pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KFwiLlwiKVxuICBsZXQgY3VycmVudEtleSA9IGtleXMuc2hpZnQoKVxuICBsZXQgY3VycmVudE9iamVjdDogVERpY3RLZXkgPSBkaWN0aW9uYXJ5RXJyb3JzXG4gIHdoaWxlIChjdXJyZW50S2V5ICYmIGN1cnJlbnRPYmplY3QgJiYgdHlwZW9mIGN1cnJlbnRPYmplY3QgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjdXJyZW50T2JqZWN0ID0gY3VycmVudE9iamVjdFtjdXJyZW50S2V5XVxuICAgIGN1cnJlbnRLZXkgPSBrZXlzLnNoaWZ0KClcbiAgfVxuICByZXR1cm4gY3VycmVudE9iamVjdCBhcyBzdHJpbmcgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IGhhbmRsZUFwaUVycm9yID0gPFQgZXh0ZW5kcyBUUlBDQ2xpZW50RXJyb3JMaWtlPEFwcFJvdXRlcj4+KFxuICBlcnJvcjogVCxcbiAgZGljdGlvbmFyeTogVERpY3Rpb25hcnk8e1xuICAgIHVua25vd25FcnJvcjogdHJ1ZVxuICB9PixcbiAgcm91dGVyOiBBcHBSb3V0ZXJJbnN0YW5jZVxuKTogVCA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkRXJyb3IgPSBKU09OLnBhcnNlKGVycm9yLm1lc3NhZ2UpIGFzIFRFcnJvck1lc3NhZ2UgfCBzdHJpbmdcbiAgICBpZiAodHlwZW9mIHBhcnNlZEVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGVkRXJyb3IgPSBwYXJzZWRFcnJvclxuICAgICAgaWYgKGVycm9yLmRhdGE/LmNvZGUgPT09IFwiVU5BVVRIT1JJWkVEXCIpIHtcbiAgICAgICAgcm91dGVyLnB1c2goYXV0aFJvdXRlcy5yZWRpcmVjdE9uVW5oYXV0aG9yaXplZClcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVycm9yLFxuICAgICAgICBtZXNzYWdlOiB0cmFuc2xhdGVkRXJyb3IsXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNsYXRlZEVycm9yID0gcGFyc2VkRXJyb3IubWVzc2FnZVxuICAgIGNvbnN0IGF2b2lkUmVkaXJlY3QgPSBwYXJzZWRFcnJvci5leHRyYSAmJiBcInJlZGlyZWN0XCIgaW4gcGFyc2VkRXJyb3IuZXh0cmEgJiYgcGFyc2VkRXJyb3IuZXh0cmEucmVkaXJlY3QgPT09IGZhbHNlXG4gICAgaWYgKGVycm9yLmRhdGE/LmNvZGUgPT09IFwiVU5BVVRIT1JJWkVEXCIgJiYgIWF2b2lkUmVkaXJlY3QpIHtcbiAgICAgIHJvdXRlci5wdXNoKGF1dGhSb3V0ZXMucmVkaXJlY3RPblVuaGF1dGhvcml6ZWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmVycm9yLFxuICAgICAgbWVzc2FnZTogdHJhbnNsYXRlZEVycm9yLFxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRFcnJvciA9IGRpY3Rpb25hcnkudW5rbm93bkVycm9yXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmVycm9yLFxuICAgICAgbWVzc2FnZTogdHJhbnNsYXRlZEVycm9yLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb01lZ2FieXRlcyhieXRlczogbnVtYmVyLCByb3VuZD86IGJvb2xlYW4pOiBudW1iZXIge1xuICBjb25zdCBtZWdhYnl0ZXMgPSBieXRlcyAvICgxMDI0ICogMTAyNClcbiAgaWYgKHJvdW5kKSByZXR1cm4gTWF0aC5yb3VuZChtZWdhYnl0ZXMgKiAxMDApIC8gMTAwXG4gIHJldHVybiBtZWdhYnl0ZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvU2x1ZyhzdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHJpbmdcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9bXlxcdyAtXSsvZywgXCJcIilcbiAgICAucmVwbGFjZSgvICsvZywgXCItXCIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrRnJvbVN1YnNldDxUIGV4dGVuZHMgb2JqZWN0LCBLIGV4dGVuZHMgU2VsZWN0U3Vic2V0PFQ+PihcbiAgb2JqOiBULFxuICBzdWJzZXQ6IEssXG4gIGtleVN1bT86IHN0cmluZ1xuKTogUGlja0Zyb21TdWJzZXQ8VCwgSz4ge1xuICBjb25zdCByZXN1bHQgPSB7fSBhcyBQaWNrRnJvbVN1YnNldDxULCBLPlxuICBpZiAoIXN1YnNldCkge1xuICAgIC8vIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdWJzZXQgaXMgdW5kZWZpbmVkLiBQbGVhc2UgcHJvdmlkZSBhIHN1YnNldCB0byBwaWNrIGZyb20gdGhlIGRpY3Rpb25hcnkuXCIpXG4gICAgcmV0dXJuIG9iaiBhcyBQaWNrRnJvbVN1YnNldDxULCBLPlxuICB9XG4gIE9iamVjdC5rZXlzKHN1YnNldCkuZm9yRWFjaCgoX2tleSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IF9rZXkgYXMga2V5b2YgdHlwZW9mIHN1YnNldFxuICAgIGlmICghb2JqW2tleSBhcyBrZXlvZiBUXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVGhlIGtleSBcIiR7KGtleVN1bSA/IGtleVN1bSArIFwiLlwiIDogXCJcIikgKyBrZXkudG9TdHJpbmcoKX1cIiBub3QgZm91bmQgaW4gZGljdGlvbmFyeS4gTWF5YmUgeW91IGZvcmdvdCB0byBpbXBvcnQgaXQgZnJvbSB0aGUgc2VydmVyIGNvbXBvbmVudC4gc2VlIHRoZSBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKHN1YnNldFtrZXldID09PSB0cnVlKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXkgYXMga2V5b2YgVF0gYXMgUGlja0Zyb21TdWJzZXQ8VCwgSz5ba2V5b2YgS11cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdWJzZXRba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmVzdWx0W2tleV0gPSBwaWNrRnJvbVN1YnNldChcbiAgICAgICAgb2JqW2tleSBhcyBrZXlvZiBUXSBhcyBvYmplY3QsXG4gICAgICAgIHN1YnNldFtrZXldIGFzIFNlbGVjdFN1YnNldDxUW2tleW9mIFRdPixcbiAgICAgICAga2V5U3VtID8ga2V5U3VtICsgXCIuXCIgKyBrZXkudG9TdHJpbmcoKSA6IGtleS50b1N0cmluZygpXG4gICAgICApIGFzIFBpY2tGcm9tU3Vic2V0PFQsIEs+W2tleW9mIEtdXG4gICAgfVxuICB9KVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChpdGVtOiB1bmtub3duKSB7XG4gIHJldHVybiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGl0ZW0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxUIGV4dGVuZHMgb2JqZWN0LCBSIGV4dGVuZHMgb2JqZWN0W10+KHRhcmdldDogVCwgLi4uc291cmNlczogUik6IFQgJiBSW251bWJlcl0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBjb25zdCBpc09iamVjdCA9IChvYmo6IGFueSk6IG9iaiBpcyBvYmplY3QgPT4gISFvYmogJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvYmopXG5cbiAgY29uc3QgbWVyZ2VUd28gPSA8VCBleHRlbmRzIG9iamVjdCwgSyBleHRlbmRzIG9iamVjdD4odGFyZ2V0OiBULCBzb3VyY2U6IEspOiBUICYgSyA9PiB7XG4gICAgaWYgKCh0YXJnZXQgYXMgVCB8IGJvb2xlYW4pID09PSB0cnVlKSByZXR1cm4gdHJ1ZSBhcyB1bmtub3duIGFzIFQgJiBLXG4gICAgY29uc3Qgb3V0cHV0ID0geyAuLi50YXJnZXQgfVxuICAgIGlmIChpc09iamVjdCh0YXJnZXQpICYmIGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaCgoX2tleSkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBfa2V5IGFzIGtleW9mIHR5cGVvZiBzb3VyY2VcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgIGlmICghKGtleSBpbiB0YXJnZXQpKSBPYmplY3QuYXNzaWduKG91dHB1dCwgeyBba2V5XTogc291cmNlW2tleV0gfSlcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBvdXRwdXRba2V5IGFzIHVua25vd24gYXMga2V5b2YgVF0gPSBtZXJnZVR3byhcbiAgICAgICAgICAgICAgdGFyZ2V0W2tleSBhcyB1bmtub3duIGFzIGtleW9mIFRdIGFzIG9iamVjdCxcbiAgICAgICAgICAgICAgc291cmNlW2tleV0gYXMgb2JqZWN0XG4gICAgICAgICAgICApIGFzIFRba2V5b2YgVF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKG91dHB1dCwgeyBba2V5XTogc291cmNlW2tleV0gfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dCBhcyBUICYgS1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcmV0dXJuIHNvdXJjZXMucmVkdWNlKChhY2MsIGN1cnIpID0+IG1lcmdlVHdvKGFjYywgY3VyciBhcyBhbnkpLCB0YXJnZXQpIGFzIFRcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImF1dGhSb3V0ZXMiLCJjbiIsImlucHV0cyIsImdldFRpbWVCZXR3ZWVuIiwiZmlyc3REYXRlIiwic2Vjb25kRGF0ZSIsIm9wdGlvbnMiLCJ0aW1lRGlmZiIsIk1hdGgiLCJhYnMiLCJnZXRUaW1lIiwibWFya0FzTm93U2luY2UiLCJkaWN0aW9uYXJ5IiwidGltZVVuaXQiLCJub3ciLCJpbnRlcnZhbHMiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiZWxhcHNlZCIsImZsb29yIiwidGltZVZhbHVlIiwieWVhcnMiLCJtb250aHMiLCJkYXlzIiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsImVuc3VyZVJlbGF0aXZlVXJsIiwidXJsIiwic3RhcnRzV2l0aCIsInVybE9iamVjdCIsIlVSTCIsInBhdGhuYW1lIiwiZm9ybWF0Q291bGROb3RNZXNzYWdlIiwiY291bGROb3RNZXNzYWdlIiwiYWN0aW9uIiwic3ViamVjdCIsInJlcGxhY2UiLCJmaW5kTmVzdGVkS2V5SW5EaWN0aW9uYXJ5Iiwia2V5IiwiZGljdGlvbmFyeUVycm9ycyIsImtleXMiLCJzcGxpdCIsImN1cnJlbnRLZXkiLCJzaGlmdCIsImN1cnJlbnRPYmplY3QiLCJoYW5kbGVBcGlFcnJvciIsImVycm9yIiwicm91dGVyIiwicGFyc2VkRXJyb3IiLCJKU09OIiwicGFyc2UiLCJtZXNzYWdlIiwidHJhbnNsYXRlZEVycm9yIiwiZGF0YSIsImNvZGUiLCJwdXNoIiwicmVkaXJlY3RPblVuaGF1dGhvcml6ZWQiLCJhdm9pZFJlZGlyZWN0IiwiZXh0cmEiLCJyZWRpcmVjdCIsImUiLCJ1bmtub3duRXJyb3IiLCJieXRlc1RvTWVnYWJ5dGVzIiwiYnl0ZXMiLCJyb3VuZCIsIm1lZ2FieXRlcyIsInN0cmluZ1RvU2x1ZyIsInN0cmluZyIsInRvTG93ZXJDYXNlIiwic2xlZXAiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInBpY2tGcm9tU3Vic2V0Iiwib2JqIiwic3Vic2V0Iiwia2V5U3VtIiwicmVzdWx0IiwiT2JqZWN0IiwiZm9yRWFjaCIsIl9rZXkiLCJFcnJvciIsInRvU3RyaW5nIiwiaXNPYmplY3QiLCJpdGVtIiwiQXJyYXkiLCJpc0FycmF5IiwibWVyZ2UiLCJ0YXJnZXQiLCJzb3VyY2VzIiwibWVyZ2VUd28iLCJzb3VyY2UiLCJvdXRwdXQiLCJhc3NpZ24iLCJyZWR1Y2UiLCJhY2MiLCJjdXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils/server-utils.ts":
/*!***************************************!*\
  !*** ./src/lib/utils/server-utils.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiError: () => (/* binding */ ApiError),\n/* harmony export */   ERROR_CODES_BY_KEY: () => (/* binding */ ERROR_CODES_BY_KEY),\n/* harmony export */   apiMiddleware: () => (/* binding */ apiMiddleware),\n/* harmony export */   ensureLoggedIn: () => (/* binding */ ensureLoggedIn),\n/* harmony export */   generateRandomSecret: () => (/* binding */ generateRandomSecret),\n/* harmony export */   handleApiError: () => (/* binding */ handleApiError),\n/* harmony export */   handleNextApiError: () => (/* binding */ handleNextApiError)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/next/dist/api/server.js\");\n/* harmony import */ var base32_encode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base32-encode */ \"(rsc)/../../node_modules/base32-encode/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _elan_lib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @elan/lib */ \"(rsc)/../../packages/lib/dist/esm/index.mjs\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @trpc/server */ \"(rsc)/../../node_modules/@trpc/server/dist/index.mjs\");\n/* harmony import */ var _i18n_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../i18n-config */ \"(rsc)/./src/lib/i18n-config.ts\");\n/* harmony import */ var _langs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../langs */ \"(rsc)/./src/lib/langs.ts\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! . */ \"(rsc)/./src/lib/utils/index.ts\");\n\n\n\n\n\n\n\n\n\n\nconst handleApiError = (error)=>{\n    if (error instanceof _trpc_server__WEBPACK_IMPORTED_MODULE_5__.TRPCError) {\n        throw error;\n    } else {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_3__.logger.trace(error);\n        if (error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_4__.Prisma.PrismaClientValidationError || error instanceof _prisma_client__WEBPACK_IMPORTED_MODULE_4__.Prisma.PrismaClientKnownRequestError) return ApiError(\"unknownError\", \"INTERNAL_SERVER_ERROR\");\n        else if (error instanceof Error) return ApiError(error.message, \"INTERNAL_SERVER_ERROR\");\n        return ApiError(\"unknownError\", \"INTERNAL_SERVER_ERROR\");\n    }\n};\nconst ERROR_CODES_BY_KEY = {\n    PARSE_ERROR: 400,\n    BAD_REQUEST: 400,\n    INTERNAL_SERVER_ERROR: 500,\n    NOT_IMPLEMENTED: 501,\n    UNAUTHORIZED: 401,\n    FORBIDDEN: 403,\n    NOT_FOUND: 404,\n    METHOD_NOT_SUPPORTED: 405,\n    TIMEOUT: 408,\n    CONFLICT: 409,\n    PRECONDITION_FAILED: 412,\n    UNSUPPORTED_MEDIA_TYPE: 415,\n    PAYLOAD_TOO_LARGE: 413,\n    UNPROCESSABLE_CONTENT: 422,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_CLOSED_REQUEST: 499\n};\nconst handleNextApiError = (error)=>{\n    if (error instanceof zod__WEBPACK_IMPORTED_MODULE_9__.ZodError) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: error.errors\n        }, {\n            status: 400\n        });\n    } else if (error instanceof _trpc_server__WEBPACK_IMPORTED_MODULE_5__.TRPCError) {\n        try {\n            const content = JSON.parse(error.message);\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: content\n            }, {\n                status: ERROR_CODES_BY_KEY[error.code]\n            });\n        } catch (e) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: error.message\n            }, {\n                status: ERROR_CODES_BY_KEY[error.code]\n            });\n        }\n    } else {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_3__.logger.trace(error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"unknownError\"\n        }, {\n            status: 500\n        });\n    }\n};\nfunction ensureLoggedIn(session) {\n    if (!session) {\n        const data = {\n            message: \"You must be logged in to access this resource\",\n            code: \"UNAUTHORIZED\"\n        };\n        throw new _trpc_server__WEBPACK_IMPORTED_MODULE_5__.TRPCError({\n            code: \"UNAUTHORIZED\",\n            message: JSON.stringify(data)\n        });\n    }\n}\nasync function ApiError(messageCode, code, extra) {\n    const cookiesStore = (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const lang = cookiesStore.get(\"saved-locale\")?.value ?? _i18n_config__WEBPACK_IMPORTED_MODULE_6__.i18n.defaultLocale;\n    const dictionary = await (0,_langs__WEBPACK_IMPORTED_MODULE_7__._getDictionary)(\"errors\", lang, undefined);\n    let message = (0,___WEBPACK_IMPORTED_MODULE_8__.findNestedKeyInDictionary)(messageCode, dictionary);\n    if (!message) {\n        _elan_lib__WEBPACK_IMPORTED_MODULE_3__.logger.error(new Error(`Error not found in dictionary: ${messageCode}`));\n        message = dictionary.unknownError;\n    }\n    const data = {\n        message,\n        code: messageCode,\n        extra\n    };\n    throw new _trpc_server__WEBPACK_IMPORTED_MODULE_5__.TRPCError({\n        code: code ?? \"BAD_REQUEST\",\n        message: JSON.stringify(data)\n    });\n}\nconst generateRandomSecret = ()=>{\n    const secret = (0,base32_encode__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(crypto.getRandomValues(new Uint8Array(10)), \"RFC4648\", {\n        padding: false\n    });\n    return secret;\n};\nconst apiMiddleware = async (session, requirements)=>{\n    if (requirements.authenticated === true) {\n        if (!session) {\n            return ApiError(\"unauthorized\", \"UNAUTHORIZED\");\n        }\n        if (requirements.admin && !session.user.isAdmin) {\n            return ApiError(\"forbidden\", \"FORBIDDEN\");\n        }\n        return session;\n    }\n    return undefined;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRWdDLFlBQVksQ0FBQztRQUN0RS9CLFVBQVVzQyxXQUFXRSxZQUFZO0lBQ25DO0lBQ0EsTUFBTVgsT0FBc0I7UUFBRTdCO1FBQVN5QixNQUFNTTtRQUFhQztJQUFNO0lBQ2hFLE1BQU0sSUFBSTNDLG1EQUFTQSxDQUFDO1FBQ2xCb0MsTUFBTUEsUUFBUTtRQUNkekIsU0FBU3VCLEtBQUtPLFNBQVMsQ0FBQ0Q7SUFDMUI7QUFDRjtBQUVPLE1BQU1ZLHVCQUF1QjtJQUNsQyxNQUFNQyxTQUFTekQseURBQVlBLENBQUMwRCxPQUFPQyxlQUFlLENBQUMsSUFBSUMsV0FBVyxNQUFNLFdBQVc7UUFBRUMsU0FBUztJQUFNO0lBQ3BHLE9BQU9KO0FBQ1QsRUFBQztBQWFNLE1BQU1LLGdCQUFnQixPQUMzQm5CLFNBQ0FvQjtJQUVBLElBQUlBLGFBQWFDLGFBQWEsS0FBSyxNQUFNO1FBQ3ZDLElBQUksQ0FBQ3JCLFNBQVM7WUFDWixPQUFPOUIsU0FBUyxnQkFBZ0I7UUFDbEM7UUFFQSxJQUFJa0QsYUFBYUUsS0FBSyxJQUFJLENBQUN0QixRQUFRdUIsSUFBSSxDQUFDQyxPQUFPLEVBQUU7WUFDL0MsT0FBT3RELFNBQVMsYUFBYTtRQUMvQjtRQUVBLE9BQU84QjtJQUNUO0lBQ0EsT0FBT1c7QUFDVCxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4vc3JjL2xpYi91dGlscy9zZXJ2ZXItdXRpbHMudHM/YTQ4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIlxuaW1wb3J0IGJhc2UzMkVuY29kZSBmcm9tIFwiYmFzZTMyLWVuY29kZVwiXG5pbXBvcnQgeyBab2RFcnJvciB9IGZyb20gXCJ6b2RcIlxuXG5pbXBvcnQgeyBQYXRoIH0gZnJvbSBcIkAvdHlwZXNcIlxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBlbGFuL2xpYlwiXG5pbXBvcnQgeyBQcmlzbWEgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuaW1wb3J0IHsgVFJQQ0Vycm9yIH0gZnJvbSBcIkB0cnBjL3NlcnZlclwiXG5pbXBvcnQgeyBUUlBDX0VSUk9SX0NPREVfS0VZIH0gZnJvbSBcIkB0cnBjL3NlcnZlci9ycGNcIlxuXG5pbXBvcnQgeyBpMThuLCBMb2NhbGUgfSBmcm9tIFwiLi4vaTE4bi1jb25maWdcIlxuaW1wb3J0IHsgX2dldERpY3Rpb25hcnksIFREaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL2xhbmdzXCJcblxuaW1wb3J0IHsgZmluZE5lc3RlZEtleUluRGljdGlvbmFyeSB9IGZyb20gXCIuXCJcblxuZXhwb3J0IGNvbnN0IGhhbmRsZUFwaUVycm9yID0gKGVycm9yOiB1bmtub3duKSA9PiB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIFRSUENFcnJvcikge1xuICAgIHRocm93IGVycm9yXG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLnRyYWNlKGVycm9yKVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFByaXNtYS5QcmlzbWFDbGllbnRWYWxpZGF0aW9uRXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBQcmlzbWEuUHJpc21hQ2xpZW50S25vd25SZXF1ZXN0RXJyb3IpXG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJ1bmtub3duRXJyb3JcIiwgXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIilcbiAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgcmV0dXJuIEFwaUVycm9yKGVycm9yLm1lc3NhZ2UgYXMgUGF0aDxURGljdGlvbmFyeTx1bmRlZmluZWQsIFwiZXJyb3JzXCI+PiwgXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIilcbiAgICByZXR1cm4gQXBpRXJyb3IoXCJ1bmtub3duRXJyb3JcIiwgXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIilcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRVJST1JfQ09ERVNfQllfS0VZID0ge1xuICBQQVJTRV9FUlJPUjogNDAwLFxuICBCQURfUkVRVUVTVDogNDAwLFxuICBJTlRFUk5BTF9TRVJWRVJfRVJST1I6IDUwMCxcbiAgTk9UX0lNUExFTUVOVEVEOiA1MDEsXG4gIFVOQVVUSE9SSVpFRDogNDAxLFxuICBGT1JCSURERU46IDQwMyxcbiAgTk9UX0ZPVU5EOiA0MDQsXG4gIE1FVEhPRF9OT1RfU1VQUE9SVEVEOiA0MDUsXG4gIFRJTUVPVVQ6IDQwOCxcbiAgQ09ORkxJQ1Q6IDQwOSxcbiAgUFJFQ09ORElUSU9OX0ZBSUxFRDogNDEyLFxuICBVTlNVUFBPUlRFRF9NRURJQV9UWVBFOiA0MTUsXG4gIFBBWUxPQURfVE9PX0xBUkdFOiA0MTMsXG4gIFVOUFJPQ0VTU0FCTEVfQ09OVEVOVDogNDIyLFxuICBUT09fTUFOWV9SRVFVRVNUUzogNDI5LFxuICBDTElFTlRfQ0xPU0VEX1JFUVVFU1Q6IDQ5OSxcbn0gYXMgY29uc3RcblxuZXhwb3J0IGNvbnN0IGhhbmRsZU5leHRBcGlFcnJvciA9IChlcnJvcjogdW5rbm93bikgPT4ge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBab2RFcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5lcnJvcnMgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgVFJQQ0Vycm9yKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnBhcnNlKGVycm9yLm1lc3NhZ2UpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogY29udGVudCB9LCB7IHN0YXR1czogRVJST1JfQ09ERVNfQllfS0VZW2Vycm9yLmNvZGVdIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IEVSUk9SX0NPREVTX0JZX0tFWVtlcnJvci5jb2RlXSB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIudHJhY2UoZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwidW5rbm93bkVycm9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMb2dnZWRJbihzZXNzaW9uOiBTZXNzaW9uIHwgbnVsbCB8IHVuZGVmaW5lZCk6IGFzc2VydHMgc2Vzc2lvbiBpcyBTZXNzaW9uIHtcbiAgaWYgKCFzZXNzaW9uKSB7XG4gICAgY29uc3QgZGF0YTogVEVycm9yTWVzc2FnZSA9IHsgbWVzc2FnZTogXCJZb3UgbXVzdCBiZSBsb2dnZWQgaW4gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2VcIiwgY29kZTogXCJVTkFVVEhPUklaRURcIiB9XG4gICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICBjb2RlOiBcIlVOQVVUSE9SSVpFRFwiLFxuICAgICAgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBURXJyb3JNZXNzYWdlID0ge1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgY29kZTogc3RyaW5nXG4gIGV4dHJhPzogb2JqZWN0XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBcGlFcnJvcihcbiAgbWVzc2FnZUNvZGU6IFBhdGg8VERpY3Rpb25hcnk8dW5kZWZpbmVkLCBcImVycm9yc1wiPj4sXG4gIGNvZGU/OiBUUlBDX0VSUk9SX0NPREVfS0VZLFxuICBleHRyYT86IG9iamVjdFxuKTogUHJvbWlzZTxuZXZlcj4ge1xuICBjb25zdCBjb29raWVzU3RvcmUgPSBjb29raWVzKClcbiAgY29uc3QgbGFuZyA9IGNvb2tpZXNTdG9yZS5nZXQoXCJzYXZlZC1sb2NhbGVcIik/LnZhbHVlID8/IGkxOG4uZGVmYXVsdExvY2FsZVxuICBjb25zdCBkaWN0aW9uYXJ5ID0gYXdhaXQgX2dldERpY3Rpb25hcnkoXCJlcnJvcnNcIiwgbGFuZyBhcyBMb2NhbGUsIHVuZGVmaW5lZClcbiAgbGV0IG1lc3NhZ2UgPSBmaW5kTmVzdGVkS2V5SW5EaWN0aW9uYXJ5KG1lc3NhZ2VDb2RlLCBkaWN0aW9uYXJ5KVxuICBpZiAoIW1lc3NhZ2UpIHtcbiAgICBsb2dnZXIuZXJyb3IobmV3IEVycm9yKGBFcnJvciBub3QgZm91bmQgaW4gZGljdGlvbmFyeTogJHttZXNzYWdlQ29kZX1gKSlcbiAgICBtZXNzYWdlID0gZGljdGlvbmFyeS51bmtub3duRXJyb3JcbiAgfVxuICBjb25zdCBkYXRhOiBURXJyb3JNZXNzYWdlID0geyBtZXNzYWdlLCBjb2RlOiBtZXNzYWdlQ29kZSwgZXh0cmEgfVxuICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHtcbiAgICBjb2RlOiBjb2RlID8/IFwiQkFEX1JFUVVFU1RcIixcbiAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmFuZG9tU2VjcmV0ID0gKCkgPT4ge1xuICBjb25zdCBzZWNyZXQgPSBiYXNlMzJFbmNvZGUoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxMCkpLCBcIlJGQzQ2NDhcIiwgeyBwYWRkaW5nOiBmYWxzZSB9KVxuICByZXR1cm4gc2VjcmV0XG59XG5cbnR5cGUgVFJlcXVpcmVtZW50cyA9XG4gIHwge1xuICAgICAgYXV0aGVudGljYXRlZD86IGZhbHNlXG4gICAgfVxuICB8IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcbiAgICAgIGFkbWluPzogYm9vbGVhblxuICAgIH1cblxudHlwZSBUUmV0dXJuVHlwZTxUIGV4dGVuZHMgVFJlcXVpcmVtZW50cz4gPSBUIGV4dGVuZHMgeyBhdXRoZW50aWNhdGVkOiB0cnVlIH0gPyBTZXNzaW9uIDogdW5kZWZpbmVkXG5cbmV4cG9ydCBjb25zdCBhcGlNaWRkbGV3YXJlID0gYXN5bmMgPFQgZXh0ZW5kcyBUUmVxdWlyZW1lbnRzPihcbiAgc2Vzc2lvbjogU2Vzc2lvbiB8IG51bGwsXG4gIHJlcXVpcmVtZW50czogVFxuKTogUHJvbWlzZTxUUmV0dXJuVHlwZTxUPj4gPT4ge1xuICBpZiAocmVxdWlyZW1lbnRzLmF1dGhlbnRpY2F0ZWQgPT09IHRydWUpIHtcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBBcGlFcnJvcihcInVuYXV0aG9yaXplZFwiLCBcIlVOQVVUSE9SSVpFRFwiKVxuICAgIH1cblxuICAgIGlmIChyZXF1aXJlbWVudHMuYWRtaW4gJiYgIXNlc3Npb24udXNlci5pc0FkbWluKSB7XG4gICAgICByZXR1cm4gQXBpRXJyb3IoXCJmb3JiaWRkZW5cIiwgXCJGT1JCSURERU5cIilcbiAgICB9XG5cbiAgICByZXR1cm4gc2Vzc2lvbiBhcyBUUmV0dXJuVHlwZTxUPlxuICB9XG4gIHJldHVybiB1bmRlZmluZWQgYXMgVFJldHVyblR5cGU8VD5cbn1cbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiTmV4dFJlc3BvbnNlIiwiYmFzZTMyRW5jb2RlIiwiWm9kRXJyb3IiLCJsb2dnZXIiLCJQcmlzbWEiLCJUUlBDRXJyb3IiLCJpMThuIiwiX2dldERpY3Rpb25hcnkiLCJmaW5kTmVzdGVkS2V5SW5EaWN0aW9uYXJ5IiwiaGFuZGxlQXBpRXJyb3IiLCJlcnJvciIsInRyYWNlIiwiUHJpc21hQ2xpZW50VmFsaWRhdGlvbkVycm9yIiwiUHJpc21hQ2xpZW50S25vd25SZXF1ZXN0RXJyb3IiLCJBcGlFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIkVSUk9SX0NPREVTX0JZX0tFWSIsIlBBUlNFX0VSUk9SIiwiQkFEX1JFUVVFU1QiLCJJTlRFUk5BTF9TRVJWRVJfRVJST1IiLCJOT1RfSU1QTEVNRU5URUQiLCJVTkFVVEhPUklaRUQiLCJGT1JCSURERU4iLCJOT1RfRk9VTkQiLCJNRVRIT0RfTk9UX1NVUFBPUlRFRCIsIlRJTUVPVVQiLCJDT05GTElDVCIsIlBSRUNPTkRJVElPTl9GQUlMRUQiLCJVTlNVUFBPUlRFRF9NRURJQV9UWVBFIiwiUEFZTE9BRF9UT09fTEFSR0UiLCJVTlBST0NFU1NBQkxFX0NPTlRFTlQiLCJUT09fTUFOWV9SRVFVRVNUUyIsIkNMSUVOVF9DTE9TRURfUkVRVUVTVCIsImhhbmRsZU5leHRBcGlFcnJvciIsImpzb24iLCJlcnJvcnMiLCJzdGF0dXMiLCJjb250ZW50IiwiSlNPTiIsInBhcnNlIiwiY29kZSIsImUiLCJlbnN1cmVMb2dnZWRJbiIsInNlc3Npb24iLCJkYXRhIiwic3RyaW5naWZ5IiwibWVzc2FnZUNvZGUiLCJleHRyYSIsImNvb2tpZXNTdG9yZSIsImxhbmciLCJnZXQiLCJ2YWx1ZSIsImRlZmF1bHRMb2NhbGUiLCJkaWN0aW9uYXJ5IiwidW5kZWZpbmVkIiwidW5rbm93bkVycm9yIiwiZ2VuZXJhdGVSYW5kb21TZWNyZXQiLCJzZWNyZXQiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJVaW50OEFycmF5IiwicGFkZGluZyIsImFwaU1pZGRsZXdhcmUiLCJyZXF1aXJlbWVudHMiLCJhdXRoZW50aWNhdGVkIiwiYWRtaW4iLCJ1c2VyIiwiaXNBZG1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils/server-utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/schemas/file.ts":
/*!*****************************!*\
  !*** ./src/schemas/file.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fileSchemaMinimal: () => (/* binding */ fileSchemaMinimal)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/lib/index.mjs\");\n\nconst fileSchemaMinimal = ()=>zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        bucket: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        endpoint: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        key: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        filetype: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.coerce.date(),\n        updatedAt: zod__WEBPACK_IMPORTED_MODULE_0__.z.coerce.date()\n    });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2NoZW1hcy9maWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVCO0FBRWhCLE1BQU1DLG9CQUFvQixJQUMvQkQsa0NBQUNBLENBQUNFLE1BQU0sQ0FBQztRQUNQQyxJQUFJSCxrQ0FBQ0EsQ0FBQ0ksTUFBTTtRQUNaQyxRQUFRTCxrQ0FBQ0EsQ0FBQ0ksTUFBTTtRQUNoQkUsVUFBVU4sa0NBQUNBLENBQUNJLE1BQU07UUFDbEJHLEtBQUtQLGtDQUFDQSxDQUFDSSxNQUFNO1FBQ2JJLFVBQVVSLGtDQUFDQSxDQUFDSSxNQUFNO1FBQ2xCSyxXQUFXVCxrQ0FBQ0EsQ0FBQ1UsTUFBTSxDQUFDQyxJQUFJO1FBQ3hCQyxXQUFXWixrQ0FBQ0EsQ0FBQ1UsTUFBTSxDQUFDQyxJQUFJO0lBQzFCLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi9zcmMvc2NoZW1hcy9maWxlLnRzPzkyMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIlxuXG5leHBvcnQgY29uc3QgZmlsZVNjaGVtYU1pbmltYWwgPSAoKSA9PlxuICB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgYnVja2V0OiB6LnN0cmluZygpLFxuICAgIGVuZHBvaW50OiB6LnN0cmluZygpLFxuICAgIGtleTogei5zdHJpbmcoKSxcbiAgICBmaWxldHlwZTogei5zdHJpbmcoKSxcbiAgICBjcmVhdGVkQXQ6IHouY29lcmNlLmRhdGUoKSxcbiAgICB1cGRhdGVkQXQ6IHouY29lcmNlLmRhdGUoKSxcbiAgfSlcbiJdLCJuYW1lcyI6WyJ6IiwiZmlsZVNjaGVtYU1pbmltYWwiLCJvYmplY3QiLCJpZCIsInN0cmluZyIsImJ1Y2tldCIsImVuZHBvaW50Iiwia2V5IiwiZmlsZXR5cGUiLCJjcmVhdGVkQXQiLCJjb2VyY2UiLCJkYXRlIiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/schemas/file.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/body.tsx":
/*!********************************************************!*\
  !*** ../../packages/transactional/components/body.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Body: () => (/* binding */ Body)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/body/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/../../packages/transactional/constants.ts\");\n\n\n\n\nconst Body = ({ children, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_3__.Body, {\n        ...props,\n        style: {\n            ...bodyStyle,\n            ...props.style\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/body.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, undefined);\n};\nconst bodyStyle = {\n    backgroundColor: _constants__WEBPACK_IMPORTED_MODULE_2__.background,\n    color: _constants__WEBPACK_IMPORTED_MODULE_2__.foreground,\n    fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2JvZHkudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdDO0FBRTBCO0FBRWI7QUFFOUMsTUFBTUMsT0FBTyxDQUFDLEVBQ25CSSxRQUFRLEVBQ1IsR0FBR0MsT0FHUTtJQUNYLHFCQUNFLDhEQUFDSix5REFBS0E7UUFDSCxHQUFHSSxLQUFLO1FBQ1RDLE9BQU87WUFDTCxHQUFHQyxTQUFTO1lBQ1osR0FBR0YsTUFBTUMsS0FBSztRQUNoQjtrQkFFQ0Y7Ozs7OztBQUdQLEVBQUM7QUFFRCxNQUFNRyxZQUFZO0lBQ2hCQyxpQkFBaUJOLGtEQUFVQTtJQUMzQk8sT0FBT04sa0RBQVVBO0lBQ2pCTyxZQUNFO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2JvZHkudHN4P2RmMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IEJvZHkgYXMgT0JvZHksIEJvZHlQcm9wcyB9IGZyb20gXCJAcmVhY3QtZW1haWwvY29tcG9uZW50c1wiXG5cbmltcG9ydCB7IGJhY2tncm91bmQsIGZvcmVncm91bmQgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGNvbnN0IEJvZHkgPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufSAmIEJvZHlQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxPQm9keVxuICAgICAgey4uLnByb3BzfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgLi4uYm9keVN0eWxlLFxuICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvT0JvZHk+XG4gIClcbn1cblxuY29uc3QgYm9keVN0eWxlID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmQsXG4gIGNvbG9yOiBmb3JlZ3JvdW5kLFxuICBmb250RmFtaWx5OlxuICAgICctYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxcIlNlZ29lIFVJXCIsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWYsXCJBcHBsZSBDb2xvciBFbW9qaVwiLFwiU2Vnb2UgVUkgRW1vamlcIicsXG59IGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJCb2R5IiwiT0JvZHkiLCJiYWNrZ3JvdW5kIiwiZm9yZWdyb3VuZCIsImNoaWxkcmVuIiwicHJvcHMiLCJzdHlsZSIsImJvZHlTdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiZm9udEZhbWlseSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/body.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/button.tsx":
/*!**********************************************************!*\
  !*** ../../packages/transactional/components/button.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/button/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/../../packages/transactional/constants.ts\");\n\n\n\n\nconst Button = ({ children, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        ...props,\n        style: {\n            ...buttonStyle,\n            ...props.style\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/button.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, undefined);\n};\nconst buttonStyle = {\n    fontSize: \"0.875rem\",\n    backgroundColor: _constants__WEBPACK_IMPORTED_MODULE_2__.buttonPrimary,\n    color: _constants__WEBPACK_IMPORTED_MODULE_2__.foreground,\n    lineHeight: \"1.25rem\",\n    borderRadius: \"12px\",\n    padding: \"10px 1rem\",\n    minWidth: \"5rem\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0M7QUFFZ0M7QUFFaEI7QUFFakQsTUFBTUMsU0FBUyxDQUFDLEVBQ3JCSSxRQUFRLEVBQ1IsR0FBR0MsT0FHVTtJQUNiLHFCQUNFLDhEQUFDSiwyREFBT0E7UUFDTCxHQUFHSSxLQUFLO1FBQ1RDLE9BQU87WUFDTCxHQUFHQyxXQUFXO1lBQ2QsR0FBR0YsTUFBTUMsS0FBSztRQUNoQjtrQkFFQ0Y7Ozs7OztBQUdQLEVBQUM7QUFFRCxNQUFNRyxjQUFjO0lBQ2xCQyxVQUFVO0lBQ1ZDLGlCQUFpQlAscURBQWFBO0lBQzlCUSxPQUFPUCxrREFBVUE7SUFDakJRLFlBQVk7SUFDWkMsY0FBYztJQUNkQyxTQUFTO0lBQ1RDLFVBQVU7QUFDWiIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uLi8uLi9wYWNrYWdlcy90cmFuc2FjdGlvbmFsL2NvbXBvbmVudHMvYnV0dG9uLnRzeD8yNjlkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBCdXR0b24gYXMgT0J1dHRvbiwgQnV0dG9uUHJvcHMgfSBmcm9tIFwiQHJlYWN0LWVtYWlsL2NvbXBvbmVudHNcIlxuXG5pbXBvcnQgeyBidXR0b25QcmltYXJ5LCBmb3JlZ3JvdW5kIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiXG5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufSAmIEJ1dHRvblByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPE9CdXR0b25cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIC4uLmJ1dHRvblN0eWxlLFxuICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvT0J1dHRvbj5cbiAgKVxufVxuXG5jb25zdCBidXR0b25TdHlsZSA9IHtcbiAgZm9udFNpemU6IFwiMC44NzVyZW1cIixcbiAgYmFja2dyb3VuZENvbG9yOiBidXR0b25QcmltYXJ5LFxuICBjb2xvcjogZm9yZWdyb3VuZCxcbiAgbGluZUhlaWdodDogXCIxLjI1cmVtXCIsXG4gIGJvcmRlclJhZGl1czogXCIxMnB4XCIsXG4gIHBhZGRpbmc6IFwiMTBweCAxcmVtXCIsXG4gIG1pbldpZHRoOiBcIjVyZW1cIixcbn0gYXMgY29uc3RcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkJ1dHRvbiIsIk9CdXR0b24iLCJidXR0b25QcmltYXJ5IiwiZm9yZWdyb3VuZCIsImNoaWxkcmVuIiwicHJvcHMiLCJzdHlsZSIsImJ1dHRvblN0eWxlIiwiZm9udFNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImxpbmVIZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJwYWRkaW5nIiwibWluV2lkdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/button.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/card.tsx":
/*!********************************************************!*\
  !*** ../../packages/transactional/components/card.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Card: () => (/* binding */ Card)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/section/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/../../packages/transactional/constants.ts\");\n\n\n\n\nconst Card = ({ children, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_3__.Section, {\n        ...props,\n        style: {\n            ...cardStyle,\n            ...props.style\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/card.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, undefined);\n};\nconst cardStyle = {\n    padding: \"24px\",\n    boxShadow: \"0px 0px 15px 0px rgba(0,0,0,.03),0px 2px 30px 0px rgba(0,0,0,.08),0px 0px 1px 0px rgba(0,0,0,.3)\",\n    borderRadius: \"12px\",\n    textAlign: \"center\",\n    backgroundColor: _constants__WEBPACK_IMPORTED_MODULE_2__.content1\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2NhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdDO0FBRW1DO0FBRXBDO0FBRWhDLE1BQU1JLE9BQU8sQ0FBQyxFQUNuQkMsUUFBUSxFQUNSLEdBQUdDLE9BR1c7SUFDZCxxQkFDRSw4REFBQ0osNERBQVFBO1FBQ04sR0FBR0ksS0FBSztRQUNUQyxPQUFPO1lBQ0wsR0FBR0MsU0FBUztZQUNaLEdBQUdGLE1BQU1DLEtBQUs7UUFDaEI7a0JBRUNGOzs7Ozs7QUFHUCxFQUFDO0FBRUQsTUFBTUcsWUFBWTtJQUNoQkMsU0FBUztJQUNUQyxXQUFXO0lBQ1hDLGNBQWM7SUFDZEMsV0FBVztJQUNYQyxpQkFBaUJWLGdEQUFRQTtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uLi8uLi9wYWNrYWdlcy90cmFuc2FjdGlvbmFsL2NvbXBvbmVudHMvY2FyZC50c3g/YTg5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgU2VjdGlvbiBhcyBPU2VjdGlvbiwgU2VjdGlvblByb3BzIH0gZnJvbSBcIkByZWFjdC1lbWFpbC9jb21wb25lbnRzXCJcblxuaW1wb3J0IHsgY29udGVudDEgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCJcblxuZXhwb3J0IGNvbnN0IENhcmQgPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufSAmIFNlY3Rpb25Qcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxPU2VjdGlvblxuICAgICAgey4uLnByb3BzfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgLi4uY2FyZFN0eWxlLFxuICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvT1NlY3Rpb24+XG4gIClcbn1cblxuY29uc3QgY2FyZFN0eWxlID0ge1xuICBwYWRkaW5nOiBcIjI0cHhcIixcbiAgYm94U2hhZG93OiBcIjBweCAwcHggMTVweCAwcHggcmdiYSgwLDAsMCwuMDMpLDBweCAycHggMzBweCAwcHggcmdiYSgwLDAsMCwuMDgpLDBweCAwcHggMXB4IDBweCByZ2JhKDAsMCwwLC4zKVwiLFxuICBib3JkZXJSYWRpdXM6IFwiMTJweFwiLFxuICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gIGJhY2tncm91bmRDb2xvcjogY29udGVudDEsXG59IGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTZWN0aW9uIiwiT1NlY3Rpb24iLCJjb250ZW50MSIsIkNhcmQiLCJjaGlsZHJlbiIsInByb3BzIiwic3R5bGUiLCJjYXJkU3R5bGUiLCJwYWRkaW5nIiwiYm94U2hhZG93IiwiYm9yZGVyUmFkaXVzIiwidGV4dEFsaWduIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/card.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/container.tsx":
/*!*************************************************************!*\
  !*** ../../packages/transactional/components/container.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Container: () => (/* binding */ Container)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/section/dist/index.mjs\");\n\n\n\nconst Container = ({ children, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_2__.Section, {\n        ...props,\n        style: {\n            ...containerStyle,\n            ...props.style\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/container.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, undefined);\n};\nconst containerStyle = {\n    maxWidth: \"480px\",\n    margin: \"0 auto\",\n    padding: \"20px 12px 48px\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2NvbnRhaW5lci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3QztBQUVtQztBQUVwRSxNQUFNRyxZQUFZLENBQUMsRUFDeEJDLFFBQVEsRUFDUixHQUFHQyxPQUdXO0lBQ2QscUJBQ0UsOERBQUNILDREQUFRQTtRQUNOLEdBQUdHLEtBQUs7UUFDVEMsT0FBTztZQUNMLEdBQUdDLGNBQWM7WUFDakIsR0FBR0YsTUFBTUMsS0FBSztRQUNoQjtrQkFFQ0Y7Ozs7OztBQUdQLEVBQUM7QUFFRCxNQUFNRyxpQkFBaUI7SUFDckJDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxTQUFTO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2NvbnRhaW5lci50c3g/MDlmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgU2VjdGlvbiBhcyBPU2VjdGlvbiwgU2VjdGlvblByb3BzIH0gZnJvbSBcIkByZWFjdC1lbWFpbC9jb21wb25lbnRzXCJcblxuZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufToge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG59ICYgU2VjdGlvblByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPE9TZWN0aW9uXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBzdHlsZT17e1xuICAgICAgICAuLi5jb250YWluZXJTdHlsZSxcbiAgICAgICAgLi4ucHJvcHMuc3R5bGUsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L09TZWN0aW9uPlxuICApXG59XG5cbmNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xuICBtYXhXaWR0aDogXCI0ODBweFwiLFxuICBtYXJnaW46IFwiMCBhdXRvXCIsXG4gIHBhZGRpbmc6IFwiMjBweCAxMnB4IDQ4cHhcIixcbn0gYXMgY29uc3RcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNlY3Rpb24iLCJPU2VjdGlvbiIsIkNvbnRhaW5lciIsImNoaWxkcmVuIiwicHJvcHMiLCJzdHlsZSIsImNvbnRhaW5lclN0eWxlIiwibWF4V2lkdGgiLCJtYXJnaW4iLCJwYWRkaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/container.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/footer.tsx":
/*!**********************************************************!*\
  !*** ../../packages/transactional/components/footer.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Footer: () => (/* binding */ Footer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/container/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/text/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/hr/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/img/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/../../packages/transactional/constants.ts\");\n/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link */ \"(rsc)/../../packages/transactional/components/link.tsx\");\n\n\n\n\n\nconst Footer = ({ supportEmail, footerText, logoUrl })=>{\n    const curYear = new Date().getFullYear();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_4__.Container, {\n        style: footer,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_5__.Text, {\n                children: [\n                    footerText,\n                    \" \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_link__WEBPACK_IMPORTED_MODULE_3__.Link, {\n                        href: `mailto:${supportEmail}`,\n                        style: {\n                            textDecoration: \"underline\",\n                            color: _constants__WEBPACK_IMPORTED_MODULE_2__.mutedForeground\n                        },\n                        children: supportEmail\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n                        lineNumber: 24,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_6__.Hr, {\n                style: hrStyle\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n                lineNumber: 34,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_7__.Img, {\n                src: logoUrl,\n                width: \"32\",\n                height: \"32\",\n                alt: \"Next boilerplate\",\n                style: imgStyle\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_5__.Text, {\n                style: subFooterTextStyle,\n                children: [\n                    \"\\xa9 \",\n                    curYear,\n                    \" Next boilerplate - All rights reserved\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n                lineNumber: 36,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/footer.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, undefined);\n};\nconst footer = {\n    color: _constants__WEBPACK_IMPORTED_MODULE_2__.mutedForeground,\n    fontSize: \"12px\",\n    textAlign: \"center\",\n    marginTop: \"60px\"\n};\nconst hrStyle = {\n    marginTop: \"24px\",\n    borderColor: _constants__WEBPACK_IMPORTED_MODULE_2__.mutedForeground,\n    opacity: 0.15,\n    marginBottom: \"12px\"\n};\nconst subFooterTextStyle = {\n    fontSize: \"12px\",\n    margin: \"0\",\n    color: _constants__WEBPACK_IMPORTED_MODULE_2__.mutedForeground,\n    textAlign: \"start\",\n    marginTop: \"12px\"\n};\nconst imgStyle = {\n    // Grayscale\n    filter: \"grayscale(100%)\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2Zvb3Rlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXlCO0FBRXlDO0FBRXBCO0FBRWpCO0FBRXRCLE1BQU1PLFNBQVMsQ0FBQyxFQUNyQkMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLE9BQU8sRUFLUjtJQUNDLE1BQU1DLFVBQVUsSUFBSUMsT0FBT0MsV0FBVztJQUV0QyxxQkFDRSw4REFBQ1osOERBQVNBO1FBQUNhLE9BQU9DOzswQkFDaEIsOERBQUNYLHlEQUFJQTs7b0JBQ0ZLO29CQUFZO2tDQUNiLDhEQUFDSCx1Q0FBSUE7d0JBQ0hVLE1BQU0sQ0FBQyxPQUFPLEVBQUVSLGFBQWEsQ0FBQzt3QkFDOUJNLE9BQU87NEJBQ0xHLGdCQUFnQjs0QkFDaEJDLE9BQU9iLHVEQUFlQTt3QkFDeEI7a0NBRUNHOzs7Ozs7Ozs7Ozs7MEJBR0wsOERBQUNOLHVEQUFFQTtnQkFBQ1ksT0FBT0s7Ozs7OzswQkFDWCw4REFBQ2hCLHdEQUFHQTtnQkFBQ2lCLEtBQUtWO2dCQUFTVyxPQUFNO2dCQUFLQyxRQUFPO2dCQUFLQyxLQUFJO2dCQUFtQlQsT0FBT1U7Ozs7OzswQkFDeEUsOERBQUNwQix5REFBSUE7Z0JBQUNVLE9BQU9XOztvQkFBb0I7b0JBQUdkO29CQUFROzs7Ozs7Ozs7Ozs7O0FBR2xELEVBQUM7QUFFRCxNQUFNSSxTQUFTO0lBQ2JHLE9BQU9iLHVEQUFlQTtJQUN0QnFCLFVBQVU7SUFDVkMsV0FBVztJQUNYQyxXQUFXO0FBQ2I7QUFFQSxNQUFNVCxVQUFVO0lBQ2RTLFdBQVc7SUFDWEMsYUFBYXhCLHVEQUFlQTtJQUM1QnlCLFNBQVM7SUFDVEMsY0FBYztBQUNoQjtBQUVBLE1BQU1OLHFCQUFxQjtJQUN6QkMsVUFBVTtJQUNWTSxRQUFRO0lBQ1JkLE9BQU9iLHVEQUFlQTtJQUN0QnNCLFdBQVc7SUFDWEMsV0FBVztBQUNiO0FBRUEsTUFBTUosV0FBVztJQUNmLFlBQVk7SUFDWlMsUUFBUTtBQUNWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4uLy4uL3BhY2thZ2VzL3RyYW5zYWN0aW9uYWwvY29tcG9uZW50cy9mb290ZXIudHN4Pzc2NDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IENvbnRhaW5lciwgSHIsIEltZywgVGV4dCB9IGZyb20gXCJAcmVhY3QtZW1haWwvY29tcG9uZW50c1wiXG5cbmltcG9ydCB7IG11dGVkRm9yZWdyb3VuZCB9IGZyb20gXCIuLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcIi4vbGlua1wiXG5cbmV4cG9ydCBjb25zdCBGb290ZXIgPSAoe1xuICBzdXBwb3J0RW1haWwsXG4gIGZvb3RlclRleHQsXG4gIGxvZ29VcmwsXG59OiB7XG4gIHN1cHBvcnRFbWFpbDogc3RyaW5nXG4gIGZvb3RlclRleHQ6IHN0cmluZ1xuICBsb2dvVXJsOiBzdHJpbmdcbn0pID0+IHtcbiAgY29uc3QgY3VyWWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBzdHlsZT17Zm9vdGVyfT5cbiAgICAgIDxUZXh0PlxuICAgICAgICB7Zm9vdGVyVGV4dH17XCIgXCJ9XG4gICAgICAgIDxMaW5rXG4gICAgICAgICAgaHJlZj17YG1haWx0bzoke3N1cHBvcnRFbWFpbH1gfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJ1bmRlcmxpbmVcIixcbiAgICAgICAgICAgIGNvbG9yOiBtdXRlZEZvcmVncm91bmQsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtzdXBwb3J0RW1haWx9XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvVGV4dD5cbiAgICAgIDxIciBzdHlsZT17aHJTdHlsZX0gLz5cbiAgICAgIDxJbWcgc3JjPXtsb2dvVXJsfSB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiBhbHQ9XCJOZXh0IGJvaWxlcnBsYXRlXCIgc3R5bGU9e2ltZ1N0eWxlfSAvPlxuICAgICAgPFRleHQgc3R5bGU9e3N1YkZvb3RlclRleHRTdHlsZX0+wqkge2N1clllYXJ9IE5leHQgYm9pbGVycGxhdGUgLSBBbGwgcmlnaHRzIHJlc2VydmVkPC9UZXh0PlxuICAgIDwvQ29udGFpbmVyPlxuICApXG59XG5cbmNvbnN0IGZvb3RlciA9IHtcbiAgY29sb3I6IG11dGVkRm9yZWdyb3VuZCxcbiAgZm9udFNpemU6IFwiMTJweFwiLFxuICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gIG1hcmdpblRvcDogXCI2MHB4XCIsXG59IGFzIGNvbnN0XG5cbmNvbnN0IGhyU3R5bGUgPSB7XG4gIG1hcmdpblRvcDogXCIyNHB4XCIsXG4gIGJvcmRlckNvbG9yOiBtdXRlZEZvcmVncm91bmQsXG4gIG9wYWNpdHk6IDAuMTUsXG4gIG1hcmdpbkJvdHRvbTogXCIxMnB4XCIsXG59IGFzIGNvbnN0XG5cbmNvbnN0IHN1YkZvb3RlclRleHRTdHlsZSA9IHtcbiAgZm9udFNpemU6IFwiMTJweFwiLFxuICBtYXJnaW46IFwiMFwiLFxuICBjb2xvcjogbXV0ZWRGb3JlZ3JvdW5kLFxuICB0ZXh0QWxpZ246IFwic3RhcnRcIixcbiAgbWFyZ2luVG9wOiBcIjEycHhcIixcbn0gYXMgY29uc3RcblxuY29uc3QgaW1nU3R5bGUgPSB7XG4gIC8vIEdyYXlzY2FsZVxuICBmaWx0ZXI6IFwiZ3JheXNjYWxlKDEwMCUpXCIsXG59IGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJDb250YWluZXIiLCJIciIsIkltZyIsIlRleHQiLCJtdXRlZEZvcmVncm91bmQiLCJMaW5rIiwiRm9vdGVyIiwic3VwcG9ydEVtYWlsIiwiZm9vdGVyVGV4dCIsImxvZ29VcmwiLCJjdXJZZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwic3R5bGUiLCJmb290ZXIiLCJocmVmIiwidGV4dERlY29yYXRpb24iLCJjb2xvciIsImhyU3R5bGUiLCJzcmMiLCJ3aWR0aCIsImhlaWdodCIsImFsdCIsImltZ1N0eWxlIiwic3ViRm9vdGVyVGV4dFN0eWxlIiwiZm9udFNpemUiLCJ0ZXh0QWxpZ24iLCJtYXJnaW5Ub3AiLCJib3JkZXJDb2xvciIsIm9wYWNpdHkiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW4iLCJmaWx0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/footer.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/header.tsx":
/*!**********************************************************!*\
  !*** ../../packages/transactional/components/header.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/img/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/text/dist/index.mjs\");\n\n\n\nconst Header = ({ logoUrl, titleText })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_2__.Img, {\n                src: logoUrl,\n                width: \"32\",\n                height: \"32\",\n                alt: \"Next boilerplate\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/header.tsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                style: title,\n                children: titleText\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/header.tsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\nconst title = {\n    fontSize: \"24px\",\n    lineHeight: 1.25\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2hlYWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBeUI7QUFFMEI7QUFFNUMsTUFBTUcsU0FBUyxDQUFDLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUEwQztJQUNuRixxQkFDRTs7MEJBQ0UsOERBQUNKLHdEQUFHQTtnQkFBQ0ssS0FBS0Y7Z0JBQVNHLE9BQU07Z0JBQUtDLFFBQU87Z0JBQUtDLEtBQUk7Ozs7OzswQkFDOUMsOERBQUNQLHlEQUFJQTtnQkFBQ1EsT0FBT0M7MEJBQVFOOzs7Ozs7OztBQUczQixFQUFDO0FBRUQsTUFBTU0sUUFBUTtJQUNaQyxVQUFVO0lBQ1ZDLFlBQVk7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uLi8uLi9wYWNrYWdlcy90cmFuc2FjdGlvbmFsL2NvbXBvbmVudHMvaGVhZGVyLnRzeD9iYThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBJbWcsIFRleHQgfSBmcm9tIFwiQHJlYWN0LWVtYWlsL2NvbXBvbmVudHNcIlxuXG5leHBvcnQgY29uc3QgSGVhZGVyID0gKHsgbG9nb1VybCwgdGl0bGVUZXh0IH06IHsgbG9nb1VybDogc3RyaW5nOyB0aXRsZVRleHQ6IHN0cmluZyB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxJbWcgc3JjPXtsb2dvVXJsfSB3aWR0aD1cIjMyXCIgaGVpZ2h0PVwiMzJcIiBhbHQ9XCJOZXh0IGJvaWxlcnBsYXRlXCIgLz5cbiAgICAgIDxUZXh0IHN0eWxlPXt0aXRsZX0+e3RpdGxlVGV4dH08L1RleHQ+XG4gICAgPC8+XG4gIClcbn1cblxuY29uc3QgdGl0bGUgPSB7XG4gIGZvbnRTaXplOiBcIjI0cHhcIixcbiAgbGluZUhlaWdodDogMS4yNSxcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkltZyIsIlRleHQiLCJIZWFkZXIiLCJsb2dvVXJsIiwidGl0bGVUZXh0Iiwic3JjIiwid2lkdGgiLCJoZWlnaHQiLCJhbHQiLCJzdHlsZSIsInRpdGxlIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/header.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/hey-text.tsx":
/*!************************************************************!*\
  !*** ../../packages/transactional/components/hey-text.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HeyText)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/text/dist/index.mjs\");\n\n\nfunction HeyText({ heyText, name }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_1__.Text, {\n        style: text,\n        children: [\n            heyText,\n            \" \",\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                children: name\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/hey-text.tsx\",\n                lineNumber: 6,\n                columnNumber: 17\n            }, this),\n            \"!\"\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/hey-text.tsx\",\n        lineNumber: 5,\n        columnNumber: 5\n    }, this);\n}\nconst text = {\n    margin: \"0 0 10px 0\",\n    textAlign: \"left\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2hleS10ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QztBQUUvQixTQUFTQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsSUFBSSxFQUFxQztJQUNsRixxQkFDRSw4REFBQ0gseURBQUlBO1FBQUNJLE9BQU9DOztZQUNWSDtZQUFROzBCQUFDLDhEQUFDSTswQkFBUUg7Ozs7OztZQUFjOzs7Ozs7O0FBR3ZDO0FBRUEsTUFBTUUsT0FBTztJQUNYRSxRQUFRO0lBQ1JDLFdBQVc7QUFDYiIsInNvdXJjZXMiOlsid2VicGFjazovL0BlbGFuL2FwcC8uLi8uLi9wYWNrYWdlcy90cmFuc2FjdGlvbmFsL2NvbXBvbmVudHMvaGV5LXRleHQudHN4P2FjM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV4dCB9IGZyb20gXCJAcmVhY3QtZW1haWwvY29tcG9uZW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhleVRleHQoeyBoZXlUZXh0LCBuYW1lIH06IHsgaGV5VGV4dDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfSkge1xuICByZXR1cm4gKFxuICAgIDxUZXh0IHN0eWxlPXt0ZXh0fT5cbiAgICAgIHtoZXlUZXh0fSA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiFcbiAgICA8L1RleHQ+XG4gIClcbn1cblxuY29uc3QgdGV4dCA9IHtcbiAgbWFyZ2luOiBcIjAgMCAxMHB4IDBcIixcbiAgdGV4dEFsaWduOiBcImxlZnRcIixcbn0gYXMgY29uc3RcbiJdLCJuYW1lcyI6WyJUZXh0IiwiSGV5VGV4dCIsImhleVRleHQiLCJuYW1lIiwic3R5bGUiLCJ0ZXh0Iiwic3Ryb25nIiwibWFyZ2luIiwidGV4dEFsaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/hey-text.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/components/link.tsx":
/*!********************************************************!*\
  !*** ../../packages/transactional/components/link.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Link: () => (/* binding */ Link)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/link/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(rsc)/../../packages/transactional/constants.ts\");\n\n\n\n\nconst Link = ({ children, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_3__.Link, {\n        ...props,\n        style: {\n            ...linkStyle,\n            ...props.style\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/components/link.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, undefined);\n};\nconst linkStyle = {\n    color: _constants__WEBPACK_IMPORTED_MODULE_2__.primary\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb21wb25lbnRzL2xpbmsudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXdDO0FBRTBCO0FBRTVCO0FBRS9CLE1BQU1DLE9BQU8sQ0FBQyxFQUNuQkcsUUFBUSxFQUNSLEdBQUdDLE9BR1E7SUFDWCxxQkFDRSw4REFBQ0gseURBQUtBO1FBQ0gsR0FBR0csS0FBSztRQUNUQyxPQUFPO1lBQ0wsR0FBR0MsU0FBUztZQUNaLEdBQUdGLE1BQU1DLEtBQUs7UUFDaEI7a0JBRUNGOzs7Ozs7QUFHUCxFQUFDO0FBRUQsTUFBTUcsWUFBWTtJQUNoQkMsT0FBT0wsK0NBQU9BO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4uLy4uL3BhY2thZ2VzL3RyYW5zYWN0aW9uYWwvY29tcG9uZW50cy9saW5rLnRzeD83NTA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBMaW5rIGFzIE9MaW5rLCBMaW5rUHJvcHMgfSBmcm9tIFwiQHJlYWN0LWVtYWlsL2NvbXBvbmVudHNcIlxuXG5pbXBvcnQgeyBwcmltYXJ5IH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiXG5cbmV4cG9ydCBjb25zdCBMaW5rID0gKHtcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcbn0gJiBMaW5rUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8T0xpbmtcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIC4uLmxpbmtTdHlsZSxcbiAgICAgICAgLi4ucHJvcHMuc3R5bGUsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L09MaW5rPlxuICApXG59XG5cbmNvbnN0IGxpbmtTdHlsZSA9IHtcbiAgY29sb3I6IHByaW1hcnksXG59IGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJMaW5rIiwiT0xpbmsiLCJwcmltYXJ5IiwiY2hpbGRyZW4iLCJwcm9wcyIsInN0eWxlIiwibGlua1N0eWxlIiwiY29sb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/components/link.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/constants.ts":
/*!*************************************************!*\
  !*** ../../packages/transactional/constants.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   background: () => (/* binding */ background),\n/* harmony export */   buttonPrimary: () => (/* binding */ buttonPrimary),\n/* harmony export */   content1: () => (/* binding */ content1),\n/* harmony export */   content2: () => (/* binding */ content2),\n/* harmony export */   content3: () => (/* binding */ content3),\n/* harmony export */   content4: () => (/* binding */ content4),\n/* harmony export */   danger: () => (/* binding */ danger),\n/* harmony export */   default100: () => (/* binding */ default100),\n/* harmony export */   default200: () => (/* binding */ default200),\n/* harmony export */   default300: () => (/* binding */ default300),\n/* harmony export */   default400: () => (/* binding */ default400),\n/* harmony export */   default50: () => (/* binding */ default50),\n/* harmony export */   default500: () => (/* binding */ default500),\n/* harmony export */   default600: () => (/* binding */ default600),\n/* harmony export */   default700: () => (/* binding */ default700),\n/* harmony export */   default800: () => (/* binding */ default800),\n/* harmony export */   default900: () => (/* binding */ default900),\n/* harmony export */   foreground: () => (/* binding */ foreground),\n/* harmony export */   muted: () => (/* binding */ muted),\n/* harmony export */   mutedForeground: () => (/* binding */ mutedForeground),\n/* harmony export */   primary: () => (/* binding */ primary),\n/* harmony export */   success: () => (/* binding */ success),\n/* harmony export */   warning: () => (/* binding */ warning)\n/* harmony export */ });\nconst primary = \"#006FEE\";\nconst buttonPrimary = \"#338EF7\";\nconst background = \"#f4f4f5\";\nconst content1 = \"#FFFFFF\";\nconst content2 = \"#f4f4f5\";\nconst content3 = \"#e4e4e7\";\nconst content4 = \"#d4d4d8\";\nconst success = \"#17c964\";\nconst danger = \"#f31260\";\nconst warning = \"#f5a524\";\nconst default50 = \"#fafafa\";\nconst default100 = \"#f4f4f5\";\nconst default200 = \"#e4e4e7\";\nconst default300 = \"#d4d4d8\";\nconst default400 = \"#a1a1aa\";\nconst default500 = \"#71717a\";\nconst default600 = \"#52525b\";\nconst default700 = \"#3f3f46\";\nconst default800 = \"#27272a\";\nconst default900 = \"#18181b\";\nconst muted = default100;\nconst mutedForeground = default600;\nconst foreground = \"#11181C\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9jb25zdGFudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSxVQUFVLFVBQVM7QUFDekIsTUFBTUMsZ0JBQWdCLFVBQVM7QUFDL0IsTUFBTUMsYUFBYSxVQUFTO0FBQzVCLE1BQU1DLFdBQVcsVUFBUztBQUMxQixNQUFNQyxXQUFXLFVBQVM7QUFDMUIsTUFBTUMsV0FBVyxVQUFTO0FBQzFCLE1BQU1DLFdBQVcsVUFBUztBQUMxQixNQUFNQyxVQUFVLFVBQVM7QUFDekIsTUFBTUMsU0FBUyxVQUFTO0FBQ3hCLE1BQU1DLFVBQVUsVUFBUztBQUN6QixNQUFNQyxZQUFZLFVBQVM7QUFDM0IsTUFBTUMsYUFBYSxVQUFTO0FBQzVCLE1BQU1DLGFBQWEsVUFBUztBQUM1QixNQUFNQyxhQUFhLFVBQVM7QUFDNUIsTUFBTUMsYUFBYSxVQUFTO0FBQzVCLE1BQU1DLGFBQWEsVUFBUztBQUM1QixNQUFNQyxhQUFhLFVBQVM7QUFDNUIsTUFBTUMsYUFBYSxVQUFTO0FBQzVCLE1BQU1DLGFBQWEsVUFBUztBQUM1QixNQUFNQyxhQUFhLFVBQVM7QUFDNUIsTUFBTUMsUUFBUVQsV0FBVTtBQUN4QixNQUFNVSxrQkFBa0JMLFdBQVU7QUFDbEMsTUFBTU0sYUFBYSxVQUFTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4uLy4uL3BhY2thZ2VzL3RyYW5zYWN0aW9uYWwvY29uc3RhbnRzLnRzPzU3ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByaW1hcnkgPSBcIiMwMDZGRUVcIlxuZXhwb3J0IGNvbnN0IGJ1dHRvblByaW1hcnkgPSBcIiMzMzhFRjdcIlxuZXhwb3J0IGNvbnN0IGJhY2tncm91bmQgPSBcIiNmNGY0ZjVcIlxuZXhwb3J0IGNvbnN0IGNvbnRlbnQxID0gXCIjRkZGRkZGXCJcbmV4cG9ydCBjb25zdCBjb250ZW50MiA9IFwiI2Y0ZjRmNVwiXG5leHBvcnQgY29uc3QgY29udGVudDMgPSBcIiNlNGU0ZTdcIlxuZXhwb3J0IGNvbnN0IGNvbnRlbnQ0ID0gXCIjZDRkNGQ4XCJcbmV4cG9ydCBjb25zdCBzdWNjZXNzID0gXCIjMTdjOTY0XCJcbmV4cG9ydCBjb25zdCBkYW5nZXIgPSBcIiNmMzEyNjBcIlxuZXhwb3J0IGNvbnN0IHdhcm5pbmcgPSBcIiNmNWE1MjRcIlxuZXhwb3J0IGNvbnN0IGRlZmF1bHQ1MCA9IFwiI2ZhZmFmYVwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDEwMCA9IFwiI2Y0ZjRmNVwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDIwMCA9IFwiI2U0ZTRlN1wiXG5leHBvcnQgY29uc3QgZGVmYXVsdDMwMCA9IFwiI2Q0ZDRkOFwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDQwMCA9IFwiI2ExYTFhYVwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDUwMCA9IFwiIzcxNzE3YVwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDYwMCA9IFwiIzUyNTI1YlwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDcwMCA9IFwiIzNmM2Y0NlwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDgwMCA9IFwiIzI3MjcyYVwiXG5leHBvcnQgY29uc3QgZGVmYXVsdDkwMCA9IFwiIzE4MTgxYlwiXG5leHBvcnQgY29uc3QgbXV0ZWQgPSBkZWZhdWx0MTAwXG5leHBvcnQgY29uc3QgbXV0ZWRGb3JlZ3JvdW5kID0gZGVmYXVsdDYwMFxuZXhwb3J0IGNvbnN0IGZvcmVncm91bmQgPSBcIiMxMTE4MUNcIlxuIl0sIm5hbWVzIjpbInByaW1hcnkiLCJidXR0b25QcmltYXJ5IiwiYmFja2dyb3VuZCIsImNvbnRlbnQxIiwiY29udGVudDIiLCJjb250ZW50MyIsImNvbnRlbnQ0Iiwic3VjY2VzcyIsImRhbmdlciIsIndhcm5pbmciLCJkZWZhdWx0NTAiLCJkZWZhdWx0MTAwIiwiZGVmYXVsdDIwMCIsImRlZmF1bHQzMDAiLCJkZWZhdWx0NDAwIiwiZGVmYXVsdDUwMCIsImRlZmF1bHQ2MDAiLCJkZWZhdWx0NzAwIiwiZGVmYXVsdDgwMCIsImRlZmF1bHQ5MDAiLCJtdXRlZCIsIm11dGVkRm9yZWdyb3VuZCIsImZvcmVncm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/constants.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/emails/reset-password.tsx":
/*!**************************************************************!*\
  !*** ../../packages/transactional/emails/reset-password.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResetPassword: () => (/* binding */ ResetPassword),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   previewProps: () => (/* binding */ previewProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/html/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/head/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/preview/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/text/dist/index.mjs\");\n/* harmony import */ var _components_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/body */ \"(rsc)/../../packages/transactional/components/body.tsx\");\n/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/button */ \"(rsc)/../../packages/transactional/components/button.tsx\");\n/* harmony import */ var _components_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/card */ \"(rsc)/../../packages/transactional/components/card.tsx\");\n/* harmony import */ var _components_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/container */ \"(rsc)/../../packages/transactional/components/container.tsx\");\n/* harmony import */ var _components_footer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/footer */ \"(rsc)/../../packages/transactional/components/footer.tsx\");\n/* harmony import */ var _components_header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/header */ \"(rsc)/../../packages/transactional/components/header.tsx\");\n/* harmony import */ var _components_hey_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/hey-text */ \"(rsc)/../../packages/transactional/components/hey-text.tsx\");\n\n\n\n\n\n\n\n\n\n\nconst ResetPassword = ({ resetLink, previewText, logoUrl, name, supportEmail, titleText, footerText, contentTitle, actionText, heyText })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_9__.Html, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_10__.Head, {}, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                lineNumber: 39,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_11__.Preview, {\n                children: previewText\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                lineNumber: 40,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_body__WEBPACK_IMPORTED_MODULE_2__.Body, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_container__WEBPACK_IMPORTED_MODULE_5__.Container, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_header__WEBPACK_IMPORTED_MODULE_7__.Header, {\n                            logoUrl: logoUrl,\n                            titleText: titleText\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                            lineNumber: 43,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_hey_text__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    heyText: heyText,\n                                    name: name\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                                    lineNumber: 45,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_12__.Text, {\n                                    style: text,\n                                    children: contentTitle\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                                    lineNumber: 46,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    href: resetLink,\n                                    children: actionText\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                                    lineNumber: 47,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_footer__WEBPACK_IMPORTED_MODULE_6__.Footer, {\n                            supportEmail: supportEmail,\n                            footerText: footerText,\n                            logoUrl: logoUrl\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                    lineNumber: 42,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n                lineNumber: 41,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/reset-password.tsx\",\n        lineNumber: 38,\n        columnNumber: 3\n    }, undefined);\nconst previewProps = {\n    logoUrl: \"https://imgs.search.brave.com/I_nW-x21BB6_TTk_xXuYVy5pZlaMfv0h4q35oqhrxvc/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9zZWVr/bG9nby5jb20vaW1h/Z2VzL04vbmV4dC1q/cy1pY29uLWxvZ28t/RUUzMDJENURCRC1z/ZWVrbG9nby5jb20u/cG5n\",\n    name: \"John Doe\",\n    previewText: \"Reset password request.\",\n    supportEmail: \"louis@huort.com\",\n    resetLink: \"https://yourapp.com/reset-password?token=abc123\",\n    titleText: \"Reset your password\",\n    footerText: \"This email was sent to you as part of our account services. If you have any questions, please contact us at\",\n    contentTitle: \"You recently requested to reset your password for your account. Click the button below to reset it.\",\n    actionText: \"Reset your password\",\n    heyText: \"Hey\"\n};\nResetPassword.PreviewProps = previewProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResetPassword);\nconst text = {\n    margin: \"0 0 10px 0\",\n    textAlign: \"left\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9lbWFpbHMvcmVzZXQtcGFzc3dvcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFFcUM7QUFFMUI7QUFDSTtBQUNKO0FBQ1U7QUFDTjtBQUNBO0FBQ0Q7QUFlckMsTUFBTVksZ0JBQWdCLENBQUMsRUFDNUJDLFNBQVMsRUFDVEMsV0FBVyxFQUNYQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1RDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLE9BQU8sRUFDWSxpQkFDbkIsOERBQUNwQix5REFBSUE7OzBCQUNILDhEQUFDRCwwREFBSUE7Ozs7OzBCQUNMLDhEQUFDRSw2REFBT0E7MEJBQUVXOzs7Ozs7MEJBQ1YsOERBQUNULGtEQUFJQTswQkFDSCw0RUFBQ0csNERBQVNBOztzQ0FDUiw4REFBQ0Usc0RBQU1BOzRCQUFDSyxTQUFTQTs0QkFBU0csV0FBV0E7Ozs7OztzQ0FDckMsOERBQUNYLGtEQUFJQTs7OENBQ0gsOERBQUNJLDREQUFPQTtvQ0FBQ1csU0FBU0E7b0NBQVNOLE1BQU1BOzs7Ozs7OENBQ2pDLDhEQUFDWiwwREFBSUE7b0NBQUNtQixPQUFPQzs4Q0FBT0o7Ozs7Ozs4Q0FDcEIsOERBQUNkLHNEQUFNQTtvQ0FBQ21CLE1BQU1aOzhDQUFZUTs7Ozs7Ozs7Ozs7O3NDQUU1Qiw4REFBQ1osc0RBQU1BOzRCQUFDUSxjQUFjQTs0QkFBY0UsWUFBWUE7NEJBQVlKLFNBQVNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tCQUk1RTtBQUVNLE1BQU1XLGVBQW1DO0lBQzlDWCxTQUNFO0lBQ0ZDLE1BQU07SUFDTkYsYUFBYTtJQUNiRyxjQUFjO0lBQ2RKLFdBQVc7SUFDWEssV0FBVztJQUNYQyxZQUNFO0lBQ0ZDLGNBQWM7SUFDZEMsWUFBWTtJQUNaQyxTQUFTO0FBQ1gsRUFBQztBQUNEVixjQUFjZSxZQUFZLEdBQUdEO0FBRTdCLGlFQUFlZCxhQUFhQSxFQUFBO0FBRTVCLE1BQU1ZLE9BQU87SUFDWEksUUFBUTtJQUNSQyxXQUFXO0FBQ2IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9lbWFpbHMvcmVzZXQtcGFzc3dvcmQudHN4PzZhZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgSGVhZCwgSHRtbCwgUHJldmlldywgVGV4dCB9IGZyb20gXCJAcmVhY3QtZW1haWwvY29tcG9uZW50c1wiXG5cbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ib2R5XCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvblwiXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY2FyZFwiXG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluZXJcIlxuaW1wb3J0IHsgRm9vdGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZm9vdGVyXCJcbmltcG9ydCB7IEhlYWRlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2hlYWRlclwiXG5pbXBvcnQgSGV5VGV4dCBmcm9tIFwiLi4vY29tcG9uZW50cy9oZXktdGV4dFwiXG5cbmludGVyZmFjZSBSZXNldFBhc3N3b3JkUHJvcHMge1xuICByZXNldExpbms6IHN0cmluZ1xuICBwcmV2aWV3VGV4dDogc3RyaW5nXG4gIGxvZ29Vcmw6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgc3VwcG9ydEVtYWlsOiBzdHJpbmdcbiAgdGl0bGVUZXh0OiBzdHJpbmdcbiAgZm9vdGVyVGV4dDogc3RyaW5nXG4gIGNvbnRlbnRUaXRsZTogc3RyaW5nXG4gIGFjdGlvblRleHQ6IHN0cmluZ1xuICBoZXlUZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IFJlc2V0UGFzc3dvcmQgPSAoe1xuICByZXNldExpbmssXG4gIHByZXZpZXdUZXh0LFxuICBsb2dvVXJsLFxuICBuYW1lLFxuICBzdXBwb3J0RW1haWwsXG4gIHRpdGxlVGV4dCxcbiAgZm9vdGVyVGV4dCxcbiAgY29udGVudFRpdGxlLFxuICBhY3Rpb25UZXh0LFxuICBoZXlUZXh0LFxufTogUmVzZXRQYXNzd29yZFByb3BzKSA9PiAoXG4gIDxIdG1sPlxuICAgIDxIZWFkIC8+XG4gICAgPFByZXZpZXc+e3ByZXZpZXdUZXh0fTwvUHJldmlldz5cbiAgICA8Qm9keT5cbiAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxIZWFkZXIgbG9nb1VybD17bG9nb1VybH0gdGl0bGVUZXh0PXt0aXRsZVRleHR9IC8+XG4gICAgICAgIDxDYXJkPlxuICAgICAgICAgIDxIZXlUZXh0IGhleVRleHQ9e2hleVRleHR9IG5hbWU9e25hbWV9IC8+XG4gICAgICAgICAgPFRleHQgc3R5bGU9e3RleHR9Pntjb250ZW50VGl0bGV9PC9UZXh0PlxuICAgICAgICAgIDxCdXR0b24gaHJlZj17cmVzZXRMaW5rfT57YWN0aW9uVGV4dH08L0J1dHRvbj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgICA8Rm9vdGVyIHN1cHBvcnRFbWFpbD17c3VwcG9ydEVtYWlsfSBmb290ZXJUZXh0PXtmb290ZXJUZXh0fSBsb2dvVXJsPXtsb2dvVXJsfSAvPlxuICAgICAgPC9Db250YWluZXI+XG4gICAgPC9Cb2R5PlxuICA8L0h0bWw+XG4pXG5cbmV4cG9ydCBjb25zdCBwcmV2aWV3UHJvcHM6IFJlc2V0UGFzc3dvcmRQcm9wcyA9IHtcbiAgbG9nb1VybDpcbiAgICBcImh0dHBzOi8vaW1ncy5zZWFyY2guYnJhdmUuY29tL0lfblcteDIxQkI2X1RUa194WHVZVnk1cFpsYU1mdjBoNHEzNW9xaHJ4dmMvcnM6Zml0Ojg2MDowOjAvZzpjZS9hSFIwY0hNNkx5OXpaV1ZyL2JHOW5ieTVqYjIwdmFXMWgvWjJWekwwNHZibVY0ZEMxcS9jeTFwWTI5dUxXeHZaMjh0L1JVVXpNREpFTlVSQ1JDMXovWldWcmJHOW5ieTVqYjIwdS9jRzVuXCIsXG4gIG5hbWU6IFwiSm9obiBEb2VcIixcbiAgcHJldmlld1RleHQ6IFwiUmVzZXQgcGFzc3dvcmQgcmVxdWVzdC5cIixcbiAgc3VwcG9ydEVtYWlsOiBcImxvdWlzQGh1b3J0LmNvbVwiLFxuICByZXNldExpbms6IFwiaHR0cHM6Ly95b3VyYXBwLmNvbS9yZXNldC1wYXNzd29yZD90b2tlbj1hYmMxMjNcIixcbiAgdGl0bGVUZXh0OiBcIlJlc2V0IHlvdXIgcGFzc3dvcmRcIixcbiAgZm9vdGVyVGV4dDpcbiAgICBcIlRoaXMgZW1haWwgd2FzIHNlbnQgdG8geW91IGFzIHBhcnQgb2Ygb3VyIGFjY291bnQgc2VydmljZXMuIElmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMsIHBsZWFzZSBjb250YWN0IHVzIGF0XCIsXG4gIGNvbnRlbnRUaXRsZTogXCJZb3UgcmVjZW50bHkgcmVxdWVzdGVkIHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQgZm9yIHlvdXIgYWNjb3VudC4gQ2xpY2sgdGhlIGJ1dHRvbiBiZWxvdyB0byByZXNldCBpdC5cIixcbiAgYWN0aW9uVGV4dDogXCJSZXNldCB5b3VyIHBhc3N3b3JkXCIsXG4gIGhleVRleHQ6IFwiSGV5XCIsXG59XG5SZXNldFBhc3N3b3JkLlByZXZpZXdQcm9wcyA9IHByZXZpZXdQcm9wc1xuXG5leHBvcnQgZGVmYXVsdCBSZXNldFBhc3N3b3JkXG5cbmNvbnN0IHRleHQgPSB7XG4gIG1hcmdpbjogXCIwIDAgMTBweCAwXCIsXG4gIHRleHRBbGlnbjogXCJsZWZ0XCIsXG59IGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJIZWFkIiwiSHRtbCIsIlByZXZpZXciLCJUZXh0IiwiQm9keSIsIkJ1dHRvbiIsIkNhcmQiLCJDb250YWluZXIiLCJGb290ZXIiLCJIZWFkZXIiLCJIZXlUZXh0IiwiUmVzZXRQYXNzd29yZCIsInJlc2V0TGluayIsInByZXZpZXdUZXh0IiwibG9nb1VybCIsIm5hbWUiLCJzdXBwb3J0RW1haWwiLCJ0aXRsZVRleHQiLCJmb290ZXJUZXh0IiwiY29udGVudFRpdGxlIiwiYWN0aW9uVGV4dCIsImhleVRleHQiLCJzdHlsZSIsInRleHQiLCJocmVmIiwicHJldmlld1Byb3BzIiwiUHJldmlld1Byb3BzIiwibWFyZ2luIiwidGV4dEFsaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/emails/reset-password.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/transactional/emails/verify-email.tsx":
/*!************************************************************!*\
  !*** ../../packages/transactional/emails/verify-email.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VerifyEmail: () => (/* binding */ VerifyEmail),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   previewProps: () => (/* binding */ previewProps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/html/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/head/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/preview/dist/index.mjs\");\n/* harmony import */ var _react_email_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @react-email/components */ \"(rsc)/../../node_modules/@react-email/text/dist/index.mjs\");\n/* harmony import */ var _components_body__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/body */ \"(rsc)/../../packages/transactional/components/body.tsx\");\n/* harmony import */ var _components_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/button */ \"(rsc)/../../packages/transactional/components/button.tsx\");\n/* harmony import */ var _components_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/card */ \"(rsc)/../../packages/transactional/components/card.tsx\");\n/* harmony import */ var _components_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/container */ \"(rsc)/../../packages/transactional/components/container.tsx\");\n/* harmony import */ var _components_footer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/footer */ \"(rsc)/../../packages/transactional/components/footer.tsx\");\n/* harmony import */ var _components_header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/header */ \"(rsc)/../../packages/transactional/components/header.tsx\");\n/* harmony import */ var _components_hey_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/hey-text */ \"(rsc)/../../packages/transactional/components/hey-text.tsx\");\n\n\n\n\n\n\n\n\n\n\nconst VerifyEmail = ({ verificationLink, previewText, logoUrl, name, supportEmail, titleText, footerText, contentTitle, actionText, heyText })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_9__.Html, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_10__.Head, {}, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                lineNumber: 39,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_11__.Preview, {\n                children: previewText\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                lineNumber: 40,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_body__WEBPACK_IMPORTED_MODULE_2__.Body, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_container__WEBPACK_IMPORTED_MODULE_5__.Container, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_header__WEBPACK_IMPORTED_MODULE_7__.Header, {\n                            logoUrl: logoUrl,\n                            titleText: titleText\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                            lineNumber: 43,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_hey_text__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    heyText: heyText,\n                                    name: name\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                                    lineNumber: 45,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_email_components__WEBPACK_IMPORTED_MODULE_12__.Text, {\n                                    style: text,\n                                    children: contentTitle\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                                    lineNumber: 46,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    href: verificationLink,\n                                    children: actionText\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                                    lineNumber: 47,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                            lineNumber: 44,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_footer__WEBPACK_IMPORTED_MODULE_6__.Footer, {\n                            supportEmail: supportEmail,\n                            footerText: footerText,\n                            logoUrl: logoUrl\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                    lineNumber: 42,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n                lineNumber: 41,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/Documents/Elan/packages/transactional/emails/verify-email.tsx\",\n        lineNumber: 38,\n        columnNumber: 3\n    }, undefined);\nconst previewProps = {\n    logoUrl: \"https://imgs.search.brave.com/I_nW-x21BB6_TTk_xXuYVy5pZlaMfv0h4q35oqhrxvc/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9zZWVr/bG9nby5jb20vaW1h/Z2VzL04vbmV4dC1q/cy1pY29uLWxvZ28t/RUUzMDJENURCRC1z/ZWVrbG9nby5jb20u/cG5n\",\n    name: \"John Doe\",\n    previewText: \"Verify your email address to complete your registration.\",\n    supportEmail: \"louis@huort.com\",\n    verificationLink: \"https://yourapp.com/verify-email?token=abc123\",\n    titleText: \"Verify your email address\",\n    footerText: \"This email was sent to you as part of our account services. If you have any questions, please contact us at\",\n    contentTitle: \"Thanks for signing up for Next boilerplate. To complete your registration, we just need to verify your email address.\",\n    actionText: \"Verify email\",\n    heyText: \"Hey\"\n};\nVerifyEmail.PreviewProps = previewProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VerifyEmail);\nconst text = {\n    margin: \"0 0 10px 0\",\n    textAlign: \"left\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9lbWFpbHMvdmVyaWZ5LWVtYWlsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThCO0FBRXFDO0FBRTFCO0FBQ0k7QUFDSjtBQUNVO0FBQ047QUFDQTtBQUNEO0FBZXJDLE1BQU1ZLGNBQWMsQ0FBQyxFQUMxQkMsZ0JBQWdCLEVBQ2hCQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsSUFBSSxFQUNKQyxZQUFZLEVBQ1pDLFNBQVMsRUFDVEMsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLFVBQVUsRUFDVkMsT0FBTyxFQUNVLGlCQUNqQiw4REFBQ3BCLHlEQUFJQTs7MEJBQ0gsOERBQUNELDBEQUFJQTs7Ozs7MEJBQ0wsOERBQUNFLDZEQUFPQTswQkFBRVc7Ozs7OzswQkFDViw4REFBQ1Qsa0RBQUlBOzBCQUNILDRFQUFDRyw0REFBU0E7O3NDQUNSLDhEQUFDRSxzREFBTUE7NEJBQUNLLFNBQVNBOzRCQUFTRyxXQUFXQTs7Ozs7O3NDQUNyQyw4REFBQ1gsa0RBQUlBOzs4Q0FDSCw4REFBQ0ksNERBQU9BO29DQUFDVyxTQUFTQTtvQ0FBU04sTUFBTUE7Ozs7Ozs4Q0FDakMsOERBQUNaLDBEQUFJQTtvQ0FBQ21CLE9BQU9DOzhDQUFPSjs7Ozs7OzhDQUNwQiw4REFBQ2Qsc0RBQU1BO29DQUFDbUIsTUFBTVo7OENBQW1CUTs7Ozs7Ozs7Ozs7O3NDQUVuQyw4REFBQ1osc0RBQU1BOzRCQUFDUSxjQUFjQTs0QkFBY0UsWUFBWUE7NEJBQVlKLFNBQVNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tCQUk1RTtBQUVNLE1BQU1XLGVBQWlDO0lBQzVDWCxTQUNFO0lBQ0ZDLE1BQU07SUFDTkYsYUFBYTtJQUNiRyxjQUFjO0lBQ2RKLGtCQUFrQjtJQUNsQkssV0FBVztJQUNYQyxZQUNFO0lBQ0ZDLGNBQ0U7SUFDRkMsWUFBWTtJQUNaQyxTQUFTO0FBQ1gsRUFBQztBQUNEVixZQUFZZSxZQUFZLEdBQUdEO0FBRTNCLGlFQUFlZCxXQUFXQSxFQUFBO0FBRTFCLE1BQU1ZLE9BQU87SUFDWEksUUFBUTtJQUNSQyxXQUFXO0FBQ2IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZWxhbi9hcHAvLi4vLi4vcGFja2FnZXMvdHJhbnNhY3Rpb25hbC9lbWFpbHMvdmVyaWZ5LWVtYWlsLnRzeD8wZDc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IEhlYWQsIEh0bWwsIFByZXZpZXcsIFRleHQgfSBmcm9tIFwiQHJlYWN0LWVtYWlsL2NvbXBvbmVudHNcIlxuXG5pbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYm9keVwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9idXR0b25cIlxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NhcmRcIlxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbmVyXCJcbmltcG9ydCB7IEZvb3RlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Zvb3RlclwiXG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9oZWFkZXJcIlxuaW1wb3J0IEhleVRleHQgZnJvbSBcIi4uL2NvbXBvbmVudHMvaGV5LXRleHRcIlxuXG5pbnRlcmZhY2UgVmVyaWZ5RW1haWxQcm9wcyB7XG4gIHZlcmlmaWNhdGlvbkxpbms6IHN0cmluZ1xuICBwcmV2aWV3VGV4dDogc3RyaW5nXG4gIGxvZ29Vcmw6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgc3VwcG9ydEVtYWlsOiBzdHJpbmdcbiAgdGl0bGVUZXh0OiBzdHJpbmdcbiAgZm9vdGVyVGV4dDogc3RyaW5nXG4gIGNvbnRlbnRUaXRsZTogc3RyaW5nXG4gIGFjdGlvblRleHQ6IHN0cmluZ1xuICBoZXlUZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IFZlcmlmeUVtYWlsID0gKHtcbiAgdmVyaWZpY2F0aW9uTGluayxcbiAgcHJldmlld1RleHQsXG4gIGxvZ29VcmwsXG4gIG5hbWUsXG4gIHN1cHBvcnRFbWFpbCxcbiAgdGl0bGVUZXh0LFxuICBmb290ZXJUZXh0LFxuICBjb250ZW50VGl0bGUsXG4gIGFjdGlvblRleHQsXG4gIGhleVRleHQsXG59OiBWZXJpZnlFbWFpbFByb3BzKSA9PiAoXG4gIDxIdG1sPlxuICAgIDxIZWFkIC8+XG4gICAgPFByZXZpZXc+e3ByZXZpZXdUZXh0fTwvUHJldmlldz5cbiAgICA8Qm9keT5cbiAgICAgIDxDb250YWluZXI+XG4gICAgICAgIDxIZWFkZXIgbG9nb1VybD17bG9nb1VybH0gdGl0bGVUZXh0PXt0aXRsZVRleHR9IC8+XG4gICAgICAgIDxDYXJkPlxuICAgICAgICAgIDxIZXlUZXh0IGhleVRleHQ9e2hleVRleHR9IG5hbWU9e25hbWV9IC8+XG4gICAgICAgICAgPFRleHQgc3R5bGU9e3RleHR9Pntjb250ZW50VGl0bGV9PC9UZXh0PlxuICAgICAgICAgIDxCdXR0b24gaHJlZj17dmVyaWZpY2F0aW9uTGlua30+e2FjdGlvblRleHR9PC9CdXR0b24+XG4gICAgICAgIDwvQ2FyZD5cbiAgICAgICAgPEZvb3RlciBzdXBwb3J0RW1haWw9e3N1cHBvcnRFbWFpbH0gZm9vdGVyVGV4dD17Zm9vdGVyVGV4dH0gbG9nb1VybD17bG9nb1VybH0gLz5cbiAgICAgIDwvQ29udGFpbmVyPlxuICAgIDwvQm9keT5cbiAgPC9IdG1sPlxuKVxuXG5leHBvcnQgY29uc3QgcHJldmlld1Byb3BzOiBWZXJpZnlFbWFpbFByb3BzID0ge1xuICBsb2dvVXJsOlxuICAgIFwiaHR0cHM6Ly9pbWdzLnNlYXJjaC5icmF2ZS5jb20vSV9uVy14MjFCQjZfVFRrX3hYdVlWeTVwWmxhTWZ2MGg0cTM1b3Focnh2Yy9yczpmaXQ6ODYwOjA6MC9nOmNlL2FIUjBjSE02THk5elpXVnIvYkc5bmJ5NWpiMjB2YVcxaC9aMlZ6TDA0dmJtVjRkQzFxL2N5MXBZMjl1TFd4dloyOHQvUlVVek1ESkVOVVJDUkMxei9aV1ZyYkc5bmJ5NWpiMjB1L2NHNW5cIixcbiAgbmFtZTogXCJKb2huIERvZVwiLFxuICBwcmV2aWV3VGV4dDogXCJWZXJpZnkgeW91ciBlbWFpbCBhZGRyZXNzIHRvIGNvbXBsZXRlIHlvdXIgcmVnaXN0cmF0aW9uLlwiLFxuICBzdXBwb3J0RW1haWw6IFwibG91aXNAaHVvcnQuY29tXCIsXG4gIHZlcmlmaWNhdGlvbkxpbms6IFwiaHR0cHM6Ly95b3VyYXBwLmNvbS92ZXJpZnktZW1haWw/dG9rZW49YWJjMTIzXCIsXG4gIHRpdGxlVGV4dDogXCJWZXJpZnkgeW91ciBlbWFpbCBhZGRyZXNzXCIsXG4gIGZvb3RlclRleHQ6XG4gICAgXCJUaGlzIGVtYWlsIHdhcyBzZW50IHRvIHlvdSBhcyBwYXJ0IG9mIG91ciBhY2NvdW50IHNlcnZpY2VzLiBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zLCBwbGVhc2UgY29udGFjdCB1cyBhdFwiLFxuICBjb250ZW50VGl0bGU6XG4gICAgXCJUaGFua3MgZm9yIHNpZ25pbmcgdXAgZm9yIE5leHQgYm9pbGVycGxhdGUuIFRvIGNvbXBsZXRlIHlvdXIgcmVnaXN0cmF0aW9uLCB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IHlvdXIgZW1haWwgYWRkcmVzcy5cIixcbiAgYWN0aW9uVGV4dDogXCJWZXJpZnkgZW1haWxcIixcbiAgaGV5VGV4dDogXCJIZXlcIixcbn1cblZlcmlmeUVtYWlsLlByZXZpZXdQcm9wcyA9IHByZXZpZXdQcm9wc1xuXG5leHBvcnQgZGVmYXVsdCBWZXJpZnlFbWFpbFxuXG5jb25zdCB0ZXh0ID0ge1xuICBtYXJnaW46IFwiMCAwIDEwcHggMFwiLFxuICB0ZXh0QWxpZ246IFwibGVmdFwiLFxufSBhcyBjb25zdFxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiSGVhZCIsIkh0bWwiLCJQcmV2aWV3IiwiVGV4dCIsIkJvZHkiLCJCdXR0b24iLCJDYXJkIiwiQ29udGFpbmVyIiwiRm9vdGVyIiwiSGVhZGVyIiwiSGV5VGV4dCIsIlZlcmlmeUVtYWlsIiwidmVyaWZpY2F0aW9uTGluayIsInByZXZpZXdUZXh0IiwibG9nb1VybCIsIm5hbWUiLCJzdXBwb3J0RW1haWwiLCJ0aXRsZVRleHQiLCJmb290ZXJUZXh0IiwiY29udGVudFRpdGxlIiwiYWN0aW9uVGV4dCIsImhleVRleHQiLCJzdHlsZSIsInRleHQiLCJocmVmIiwicHJldmlld1Byb3BzIiwiUHJldmlld1Byb3BzIiwibWFyZ2luIiwidGV4dEFsaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/transactional/emails/verify-email.tsx\n");

/***/ }),

/***/ "(rsc)/../../packages/lib/dist/esm/index.mjs":
/*!*********************************************!*\
  !*** ../../packages/lib/dist/esm/index.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunk: () => (/* binding */ chunk),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   startTask: () => (/* binding */ startTask),\n/* harmony export */   stopTask: () => (/* binding */ stopTask),\n/* harmony export */   windowLog: () => (/* binding */ windowLog)\n/* harmony export */ });\n/* harmony import */ var chalk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chalk */ \"(rsc)/../../node_modules/chalk/source/index.js\");\n/* harmony import */ var ora__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ora */ \"(rsc)/../../node_modules/ora/index.js\");\n/* harmony import */ var process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! process */ \"process\");\n\n\n\nconst chunk = (array, size)=>{\n    const result = [];\n    for(let i = 0; i < array.length; i += size){\n        result.push(array.slice(i, i + size));\n    }\n    return result;\n};\nconst console = globalThis.console;\nconst black = \"#000000\";\nconst text = \"#CDCDCD\";\nconst yellow = \"#F3F99D\";\nconst orange = \"#F9CB8F\";\nconst red = \"#F09393\";\nconst green = \"#7EE081\";\nconst blue = \"#7DCFEA\";\nconst gray = \"#686868\";\nconst isBrowser = \"undefined\" !== \"undefined\";\nconst printColor = (bg, text2)=>(...args)=>{\n        const data = args.map((arg)=>{\n            if (typeof arg === \"object\" && arg) {\n                const str = arg.toString();\n                if (str === \"[object Object]\") {\n                    return JSON.stringify(arg, null, 2);\n                }\n                return str;\n            }\n            return arg;\n        }).join(\" \");\n        if (bg && text2) return chalk__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bgHex(bg).hex(text2)(data);\n        if (bg) return chalk__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bgHex(bg)(data);\n        if (text2) return chalk__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hex(text2)(data);\n    };\nconst log = printColor(void 0, text);\nconst warn = printColor(yellow, black);\nconst warnText = printColor(void 0, yellow);\nconst debug = printColor(orange, black);\nconst debugText = printColor(void 0, orange);\nconst error = printColor(red, black);\nconst errorText = printColor(void 0, red);\nconst success = printColor(green, black);\nconst successText = printColor(void 0, green);\nconst info = printColor(blue, black);\nconst infoText = printColor(void 0, blue);\nconst subLog = printColor(void 0, gray);\nfunction addPrefixToArgs(prefix, ...args) {\n    if (typeof prefix === \"string\") {\n        return [\n            log(prefix),\n            ...args\n        ];\n    }\n    if (typeof prefix === \"function\") {\n        return [\n            log(prefix()),\n            ...args\n        ];\n    }\n    return args;\n}\nconst logger = {\n    ...console,\n    allowDebug: ()=>process.env.ENV === \"development\",\n    log: (...args)=>{\n        if (isBrowser) return console.log(...addPrefixToArgs(logger.prefix, ...args));\n        console.log(log(...addPrefixToArgs(logger.prefix, ...args)));\n    },\n    debug: (...args)=>{\n        const allowDebug = process.env.ENV === \"development\";\n        if (allowDebug) {\n            if (isBrowser) return console.debug(...addPrefixToArgs(logger.prefix, \" DEBUG \", ...args));\n            console.debug(...addPrefixToArgs(logger.prefix, debug(\" DEBUG \"), debugText(...args)));\n        }\n    },\n    warn: (...args)=>{\n        if (isBrowser) return console.warn(...addPrefixToArgs(logger.prefix, \" WARN \", ...args));\n        console.warn(...addPrefixToArgs(logger.prefix, warn(\" WARN \"), warnText(...args)));\n    },\n    error: (...args)=>{\n        if (isBrowser) return console.error(...addPrefixToArgs(logger.prefix, \" ERROR \", ...args));\n        console.error(...addPrefixToArgs(logger.prefix, error(\" ERROR \"), errorText(...args)));\n    },\n    trace: (...args)=>{\n        if (isBrowser) return console.trace(...addPrefixToArgs(logger.prefix, \" ERROR \", ...args));\n        console.trace(...addPrefixToArgs(logger.prefix, error(\" ERROR \"), errorText(...args)));\n    },\n    success: (...args)=>{\n        if (isBrowser) return console.log(...addPrefixToArgs(logger.prefix, \" SUCCESS \", ...args));\n        console.log(...addPrefixToArgs(logger.prefix, success(\" SUCCESS \"), successText(...args)));\n    },\n    info: (...args)=>{\n        if (isBrowser) return console.log(...addPrefixToArgs(logger.prefix, \" INFO \", ...args));\n        console.log(...addPrefixToArgs(logger.prefix, info(\" INFO \"), infoText(...args)));\n    },\n    subLog: (...args)=>{\n        if (isBrowser) return console.log(...addPrefixToArgs(logger.prefix, ...args));\n        console.log(...addPrefixToArgs(logger.prefix, subLog(...args)));\n    }\n};\nconst loggerExtra = {\n    printColor: {\n        log,\n        warn,\n        warnText,\n        debug,\n        debugText,\n        error,\n        errorText,\n        success,\n        successText,\n        info,\n        infoText,\n        subLog\n    },\n    addPrefixToArgs\n};\nconst getOra = async ()=>{\n    return ora__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n};\nconst clearLastLines = (count)=>{\n    for(let i = 0; i < count; i++){\n        process__WEBPACK_IMPORTED_MODULE_0__.stderr.moveCursor?.(0, -1);\n        process__WEBPACK_IMPORTED_MODULE_0__.stderr.clearLine?.(0);\n    }\n};\nconst windowLog = (maxLines, opts)=>{\n    const lines = [];\n    let numberOfLines = 0;\n    let hasPrintedTopPrefix = false;\n    let prefixValue = \"\";\n    const handleLine = (line)=>{\n        const rows = process.stdout.rows;\n        maxLines = Math.min(maxLines, rows - 1 - (opts?.topPrefix ? 1 : 0));\n        const toClear = Math.min(numberOfLines, maxLines);\n        clearLastLines(toClear);\n        const columns = process.stdout.columns;\n        if (line) {\n            lines.push(line);\n            const lineLength = Math.ceil(line.length / columns);\n            numberOfLines += lineLength;\n        }\n        if (numberOfLines > maxLines) {\n            const removedLine = lines.shift();\n            if (removedLine) {\n                const removedLineLength = Math.ceil(removedLine.length / columns);\n                numberOfLines -= removedLineLength;\n            }\n        }\n        const printable = lines.map((l)=>{\n            const value = loggerExtra.printColor.log(...loggerExtra.addPrefixToArgs(logger.prefix, l));\n            return value;\n        });\n        if (!opts?.noPrint) {\n            if (opts?.topPrefix) {\n                if (hasPrintedTopPrefix) {\n                    clearLastLines(1);\n                }\n                if (line === null) {\n                    prefixValue = opts.topPrefix();\n                }\n                process__WEBPACK_IMPORTED_MODULE_0__.stderr.write(prefixValue + \"\\n\");\n                hasPrintedTopPrefix = true;\n            }\n            printable.forEach((l)=>{\n                process__WEBPACK_IMPORTED_MODULE_0__.stderr.write(l);\n            });\n        }\n        return printable;\n    };\n    const print = (line)=>{\n        handleLine(line);\n    };\n    let interval = null;\n    if (opts) {\n        handleLine(null);\n        const { topInterval, topPrefix } = opts;\n        if (topInterval && topPrefix) interval = setInterval(()=>{\n            handleLine(null);\n        }, topInterval);\n    }\n    const stop = (successMessage, noClear)=>{\n        if (interval) {\n            clearInterval(interval);\n        }\n        if (!noClear) {\n            const toClear = Math.min(numberOfLines, maxLines) + 1;\n            clearLastLines(toClear);\n        }\n        if (successMessage) {\n            logger.success(successMessage);\n        }\n    };\n    return {\n        print,\n        stop\n    };\n};\nasync function startTask(options) {\n    const { maxLines = 10, name, successMessage } = options;\n    const ora2 = await getOra();\n    const spinner = ora2({\n        text: name,\n        isSilent: true,\n        isEnabled: false\n    }).start();\n    const window = windowLog(maxLines, {\n        topPrefix: ()=>spinner.frame(),\n        topInterval: 100\n    });\n    const rows = process.stdout.rows;\n    const curMax = Math.min(maxLines, rows - 2);\n    return {\n        print: (data)=>{\n            const lines = data.toString().split(\"\\n\").filter((l)=>l.length > 0).slice(-curMax - 1);\n            lines.forEach((line)=>{\n                window.print(line + \"\\n\");\n            });\n        },\n        stop: (message)=>{\n            window.stop(message ?? successMessage, options.noClear);\n        }\n    };\n}\nfunction stopTask(window, message) {\n    window.stop(message);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvbGliL2Rpc3QvZXNtL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwQjtBQUNKO0FBQ1c7QUFFakMsTUFBTUcsUUFBUSxDQUFDQyxPQUFPQztJQUNwQixNQUFNQyxTQUFTLEVBQUU7SUFDakIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILE1BQU1JLE1BQU0sRUFBRUQsS0FBS0YsS0FBTTtRQUMzQ0MsT0FBT0csSUFBSSxDQUFDTCxNQUFNTSxLQUFLLENBQUNILEdBQUdBLElBQUlGO0lBQ2pDO0lBQ0EsT0FBT0M7QUFDVDtBQUVBLE1BQU1LLFVBQVVDLFdBQVdELE9BQU87QUFDbEMsTUFBTUUsUUFBUTtBQUNkLE1BQU1DLE9BQU87QUFDYixNQUFNQyxTQUFTO0FBQ2YsTUFBTUMsU0FBUztBQUNmLE1BQU1DLE1BQU07QUFDWixNQUFNQyxRQUFRO0FBQ2QsTUFBTUMsT0FBTztBQUNiLE1BQU1DLE9BQU87QUFDYixNQUFNQyxZQUFZLGdCQUFrQjtBQUNwQyxNQUFNQyxhQUFhLENBQUNDLElBQUlDLFFBQVUsQ0FBQyxHQUFHQztRQUNwQyxNQUFNQyxPQUFPRCxLQUFLRSxHQUFHLENBQUMsQ0FBQ0M7WUFDckIsSUFBSSxPQUFPQSxRQUFRLFlBQVlBLEtBQUs7Z0JBQ2xDLE1BQU1DLE1BQU1ELElBQUlFLFFBQVE7Z0JBQ3hCLElBQUlELFFBQVEsbUJBQW1CO29CQUM3QixPQUFPRSxLQUFLQyxTQUFTLENBQUNKLEtBQUssTUFBTTtnQkFDbkM7Z0JBQ0EsT0FBT0M7WUFDVDtZQUNBLE9BQU9EO1FBQ1QsR0FBR0ssSUFBSSxDQUFDO1FBQ1IsSUFBSVYsTUFBTUMsT0FBTyxPQUFPeEIsNkNBQUtBLENBQUNrQyxLQUFLLENBQUNYLElBQUlZLEdBQUcsQ0FBQ1gsT0FBT0U7UUFDbkQsSUFBSUgsSUFBSSxPQUFPdkIsNkNBQUtBLENBQUNrQyxLQUFLLENBQUNYLElBQUlHO1FBQy9CLElBQUlGLE9BQU8sT0FBT3hCLDZD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aUI7WUFDTEwsT0FBT1osSUFBSSxDQUFDaUIsV0FBV2hCLGdCQUFnQkksUUFBUUgsT0FBTztRQUN4RDtJQUNGO0FBQ0Y7QUFDQSxTQUFTZ0IsU0FBU04sTUFBTSxFQUFFSyxPQUFPO0lBQy9CTCxPQUFPWixJQUFJLENBQUNpQjtBQUNkO0FBRXlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVsYW4vYXBwLy4uLy4uL3BhY2thZ2VzL2xpYi9kaXN0L2VzbS9pbmRleC5tanM/NzNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IG9yYSBmcm9tICdvcmEnO1xuaW1wb3J0IHsgc3RkZXJyIH0gZnJvbSAncHJvY2Vzcyc7XG5cbmNvbnN0IGNodW5rID0gKGFycmF5LCBzaXplKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSBzaXplKSB7XG4gICAgcmVzdWx0LnB1c2goYXJyYXkuc2xpY2UoaSwgaSArIHNpemUpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgY29uc29sZSA9IGdsb2JhbFRoaXMuY29uc29sZTtcbmNvbnN0IGJsYWNrID0gXCIjMDAwMDAwXCI7XG5jb25zdCB0ZXh0ID0gXCIjQ0RDRENEXCI7XG5jb25zdCB5ZWxsb3cgPSBcIiNGM0Y5OURcIjtcbmNvbnN0IG9yYW5nZSA9IFwiI0Y5Q0I4RlwiO1xuY29uc3QgcmVkID0gXCIjRjA5MzkzXCI7XG5jb25zdCBncmVlbiA9IFwiIzdFRTA4MVwiO1xuY29uc3QgYmx1ZSA9IFwiIzdEQ0ZFQVwiO1xuY29uc3QgZ3JheSA9IFwiIzY4Njg2OFwiO1xuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IHByaW50Q29sb3IgPSAoYmcsIHRleHQyKSA9PiAoLi4uYXJncykgPT4ge1xuICBjb25zdCBkYXRhID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgIGlmICh0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIGFyZykge1xuICAgICAgY29uc3Qgc3RyID0gYXJnLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoc3RyID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcsIG51bGwsIDIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIGFyZztcbiAgfSkuam9pbihcIiBcIik7XG4gIGlmIChiZyAmJiB0ZXh0MikgcmV0dXJuIGNoYWxrLmJnSGV4KGJnKS5oZXgodGV4dDIpKGRhdGEpO1xuICBpZiAoYmcpIHJldHVybiBjaGFsay5iZ0hleChiZykoZGF0YSk7XG4gIGlmICh0ZXh0MikgcmV0dXJuIGNoYWxrLmhleCh0ZXh0MikoZGF0YSk7XG59O1xuY29uc3QgbG9nID0gcHJpbnRDb2xvcih2b2lkIDAsIHRleHQpO1xuY29uc3Qgd2FybiA9IHByaW50Q29sb3IoeWVsbG93LCBibGFjayk7XG5jb25zdCB3YXJuVGV4dCA9IHByaW50Q29sb3Iodm9pZCAwLCB5ZWxsb3cpO1xuY29uc3QgZGVidWcgPSBwcmludENvbG9yKG9yYW5nZSwgYmxhY2spO1xuY29uc3QgZGVidWdUZXh0ID0gcHJpbnRDb2xvcih2b2lkIDAsIG9yYW5nZSk7XG5jb25zdCBlcnJvciA9IHByaW50Q29sb3IocmVkLCBibGFjayk7XG5jb25zdCBlcnJvclRleHQgPSBwcmludENvbG9yKHZvaWQgMCwgcmVkKTtcbmNvbnN0IHN1Y2Nlc3MgPSBwcmludENvbG9yKGdyZWVuLCBibGFjayk7XG5jb25zdCBzdWNjZXNzVGV4dCA9IHByaW50Q29sb3Iodm9pZCAwLCBncmVlbik7XG5jb25zdCBpbmZvID0gcHJpbnRDb2xvcihibHVlLCBibGFjayk7XG5jb25zdCBpbmZvVGV4dCA9IHByaW50Q29sb3Iodm9pZCAwLCBibHVlKTtcbmNvbnN0IHN1YkxvZyA9IHByaW50Q29sb3Iodm9pZCAwLCBncmF5KTtcbmZ1bmN0aW9uIGFkZFByZWZpeFRvQXJncyhwcmVmaXgsIC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBwcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gW2xvZyhwcmVmaXgpLCAuLi5hcmdzXTtcbiAgfVxuICBpZiAodHlwZW9mIHByZWZpeCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIFtsb2cocHJlZml4KCkpLCAuLi5hcmdzXTtcbiAgfVxuICByZXR1cm4gYXJncztcbn1cbmNvbnN0IGxvZ2dlciA9IHtcbiAgLi4uY29uc29sZSxcbiAgYWxsb3dEZWJ1ZzogKCkgPT4gcHJvY2Vzcy5lbnYuRU5WID09PSBcImRldmVsb3BtZW50XCIsXG4gIGxvZzogKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaXNCcm93c2VyKSByZXR1cm4gY29uc29sZS5sb2coLi4uYWRkUHJlZml4VG9BcmdzKGxvZ2dlci5wcmVmaXgsIC4uLmFyZ3MpKTtcbiAgICBjb25zb2xlLmxvZyhsb2coLi4uYWRkUHJlZml4VG9BcmdzKGxvZ2dlci5wcmVmaXgsIC4uLmFyZ3MpKSk7XG4gIH0sXG4gIGRlYnVnOiAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGFsbG93RGVidWcgPSBwcm9jZXNzLmVudi5FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIjtcbiAgICBpZiAoYWxsb3dEZWJ1Zykge1xuICAgICAgaWYgKGlzQnJvd3NlcikgcmV0dXJuIGNvbnNvbGUuZGVidWcoLi4uYWRkUHJlZml4VG9BcmdzKGxvZ2dlci5wcmVmaXgsIFwiIERFQlVHIFwiLCAuLi5hcmdzKSk7XG4gICAgICBjb25zb2xlLmRlYnVnKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBkZWJ1ZyhcIiBERUJVRyBcIiksIGRlYnVnVGV4dCguLi5hcmdzKSkpO1xuICAgIH1cbiAgfSxcbiAgd2FybjogKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaXNCcm93c2VyKSByZXR1cm4gY29uc29sZS53YXJuKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBcIiBXQVJOIFwiLCAuLi5hcmdzKSk7XG4gICAgY29uc29sZS53YXJuKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCB3YXJuKFwiIFdBUk4gXCIpLCB3YXJuVGV4dCguLi5hcmdzKSkpO1xuICB9LFxuICBlcnJvcjogKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaXNCcm93c2VyKSByZXR1cm4gY29uc29sZS5lcnJvciguLi5hZGRQcmVmaXhUb0FyZ3MobG9nZ2VyLnByZWZpeCwgXCIgRVJST1IgXCIsIC4uLmFyZ3MpKTtcbiAgICBjb25zb2xlLmVycm9yKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBlcnJvcihcIiBFUlJPUiBcIiksIGVycm9yVGV4dCguLi5hcmdzKSkpO1xuICB9LFxuICB0cmFjZTogKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoaXNCcm93c2VyKSByZXR1cm4gY29uc29sZS50cmFjZSguLi5hZGRQcmVmaXhUb0FyZ3MobG9nZ2VyLnByZWZpeCwgXCIgRVJST1IgXCIsIC4uLmFyZ3MpKTtcbiAgICBjb25zb2xlLnRyYWNlKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBlcnJvcihcIiBFUlJPUiBcIiksIGVycm9yVGV4dCguLi5hcmdzKSkpO1xuICB9LFxuICBzdWNjZXNzOiAoLi4uYXJncykgPT4ge1xuICAgIGlmIChpc0Jyb3dzZXIpIHJldHVybiBjb25zb2xlLmxvZyguLi5hZGRQcmVmaXhUb0FyZ3MobG9nZ2VyLnByZWZpeCwgXCIgU1VDQ0VTUyBcIiwgLi4uYXJncykpO1xuICAgIGNvbnNvbGUubG9nKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBzdWNjZXNzKFwiIFNVQ0NFU1MgXCIpLCBzdWNjZXNzVGV4dCguLi5hcmdzKSkpO1xuICB9LFxuICBpbmZvOiAoLi4uYXJncykgPT4ge1xuICAgIGlmIChpc0Jyb3dzZXIpIHJldHVybiBjb25zb2xlLmxvZyguLi5hZGRQcmVmaXhUb0FyZ3MobG9nZ2VyLnByZWZpeCwgXCIgSU5GTyBcIiwgLi4uYXJncykpO1xuICAgIGNvbnNvbGUubG9nKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCBpbmZvKFwiIElORk8gXCIpLCBpbmZvVGV4dCguLi5hcmdzKSkpO1xuICB9LFxuICBzdWJMb2c6ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKGlzQnJvd3NlcikgcmV0dXJuIGNvbnNvbGUubG9nKC4uLmFkZFByZWZpeFRvQXJncyhsb2dnZXIucHJlZml4LCAuLi5hcmdzKSk7XG4gICAgY29uc29sZS5sb2coLi4uYWRkUHJlZml4VG9BcmdzKGxvZ2dlci5wcmVmaXgsIHN1YkxvZyguLi5hcmdzKSkpO1xuICB9XG59O1xuY29uc3QgbG9nZ2VyRXh0cmEgPSB7XG4gIHByaW50Q29sb3I6IHtcbiAgICBsb2csXG4gICAgd2FybixcbiAgICB3YXJuVGV4dCxcbiAgICBkZWJ1ZyxcbiAgICBkZWJ1Z1RleHQsXG4gICAgZXJyb3IsXG4gICAgZXJyb3JUZXh0LFxuICAgIHN1Y2Nlc3MsXG4gICAgc3VjY2Vzc1RleHQsXG4gICAgaW5mbyxcbiAgICBpbmZvVGV4dCxcbiAgICBzdWJMb2dcbiAgfSxcbiAgYWRkUHJlZml4VG9BcmdzXG59O1xuXG5jb25zdCBnZXRPcmEgPSBhc3luYyAoKSA9PiB7XG4gIHJldHVybiBvcmE7XG59O1xuY29uc3QgY2xlYXJMYXN0TGluZXMgPSAoY291bnQpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgc3RkZXJyLm1vdmVDdXJzb3I/LigwLCAtMSk7XG4gICAgc3RkZXJyLmNsZWFyTGluZT8uKDApO1xuICB9XG59O1xuY29uc3Qgd2luZG93TG9nID0gKG1heExpbmVzLCBvcHRzKSA9PiB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxldCBudW1iZXJPZkxpbmVzID0gMDtcbiAgbGV0IGhhc1ByaW50ZWRUb3BQcmVmaXggPSBmYWxzZTtcbiAgbGV0IHByZWZpeFZhbHVlID0gXCJcIjtcbiAgY29uc3QgaGFuZGxlTGluZSA9IChsaW5lKSA9PiB7XG4gICAgY29uc3Qgcm93cyA9IHByb2Nlc3Muc3Rkb3V0LnJvd3M7XG4gICAgbWF4TGluZXMgPSBNYXRoLm1pbihtYXhMaW5lcywgcm93cyAtIDEgLSAob3B0cz8udG9wUHJlZml4ID8gMSA6IDApKTtcbiAgICBjb25zdCB0b0NsZWFyID0gTWF0aC5taW4obnVtYmVyT2ZMaW5lcywgbWF4TGluZXMpO1xuICAgIGNsZWFyTGFzdExpbmVzKHRvQ2xlYXIpO1xuICAgIGNvbnN0IGNvbHVtbnMgPSBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zO1xuICAgIGlmIChsaW5lKSB7XG4gICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgY29uc3QgbGluZUxlbmd0aCA9IE1hdGguY2VpbChsaW5lLmxlbmd0aCAvIGNvbHVtbnMpO1xuICAgICAgbnVtYmVyT2ZMaW5lcyArPSBsaW5lTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAobnVtYmVyT2ZMaW5lcyA+IG1heExpbmVzKSB7XG4gICAgICBjb25zdCByZW1vdmVkTGluZSA9IGxpbmVzLnNoaWZ0KCk7XG4gICAgICBpZiAocmVtb3ZlZExpbmUpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlZExpbmVMZW5ndGggPSBNYXRoLmNlaWwocmVtb3ZlZExpbmUubGVuZ3RoIC8gY29sdW1ucyk7XG4gICAgICAgIG51bWJlck9mTGluZXMgLT0gcmVtb3ZlZExpbmVMZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByaW50YWJsZSA9IGxpbmVzLm1hcCgobCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBsb2dnZXJFeHRyYS5wcmludENvbG9yLmxvZyguLi5sb2dnZXJFeHRyYS5hZGRQcmVmaXhUb0FyZ3MobG9nZ2VyLnByZWZpeCwgbCkpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICAgIGlmICghb3B0cz8ubm9QcmludCkge1xuICAgICAgaWYgKG9wdHM/LnRvcFByZWZpeCkge1xuICAgICAgICBpZiAoaGFzUHJpbnRlZFRvcFByZWZpeCkge1xuICAgICAgICAgIGNsZWFyTGFzdExpbmVzKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lID09PSBudWxsKSB7XG4gICAgICAgICAgcHJlZml4VmFsdWUgPSBvcHRzLnRvcFByZWZpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZGVyci53cml0ZShwcmVmaXhWYWx1ZSArIFwiXFxuXCIpO1xuICAgICAgICBoYXNQcmludGVkVG9wUHJlZml4ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHByaW50YWJsZS5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgIHN0ZGVyci53cml0ZShsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJpbnRhYmxlO1xuICB9O1xuICBjb25zdCBwcmludCA9IChsaW5lKSA9PiB7XG4gICAgaGFuZGxlTGluZShsaW5lKTtcbiAgfTtcbiAgbGV0IGludGVydmFsID0gbnVsbDtcbiAgaWYgKG9wdHMpIHtcbiAgICBoYW5kbGVMaW5lKG51bGwpO1xuICAgIGNvbnN0IHsgdG9wSW50ZXJ2YWwsIHRvcFByZWZpeCB9ID0gb3B0cztcbiAgICBpZiAodG9wSW50ZXJ2YWwgJiYgdG9wUHJlZml4KVxuICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGhhbmRsZUxpbmUobnVsbCk7XG4gICAgICB9LCB0b3BJbnRlcnZhbCk7XG4gIH1cbiAgY29uc3Qgc3RvcCA9IChzdWNjZXNzTWVzc2FnZSwgbm9DbGVhcikgPT4ge1xuICAgIGlmIChpbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfVxuICAgIGlmICghbm9DbGVhcikge1xuICAgICAgY29uc3QgdG9DbGVhciA9IE1hdGgubWluKG51bWJlck9mTGluZXMsIG1heExpbmVzKSArIDE7XG4gICAgICBjbGVhckxhc3RMaW5lcyh0b0NsZWFyKTtcbiAgICB9XG4gICAgaWYgKHN1Y2Nlc3NNZXNzYWdlKSB7XG4gICAgICBsb2dnZXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4geyBwcmludCwgc3RvcCB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0VGFzayhvcHRpb25zKSB7XG4gIGNvbnN0IHsgbWF4TGluZXMgPSAxMCwgbmFtZSwgc3VjY2Vzc01lc3NhZ2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG9yYTIgPSBhd2FpdCBnZXRPcmEoKTtcbiAgY29uc3Qgc3Bpbm5lciA9IG9yYTIoe1xuICAgIHRleHQ6IG5hbWUsXG4gICAgaXNTaWxlbnQ6IHRydWUsXG4gICAgaXNFbmFibGVkOiBmYWxzZVxuICB9KS5zdGFydCgpO1xuICBjb25zdCB3aW5kb3cgPSB3aW5kb3dMb2cobWF4TGluZXMsIHtcbiAgICB0b3BQcmVmaXg6ICgpID0+IHNwaW5uZXIuZnJhbWUoKSxcbiAgICB0b3BJbnRlcnZhbDogMTAwXG4gIH0pO1xuICBjb25zdCByb3dzID0gcHJvY2Vzcy5zdGRvdXQucm93cztcbiAgY29uc3QgY3VyTWF4ID0gTWF0aC5taW4obWF4TGluZXMsIHJvd3MgLSAyKTtcbiAgcmV0dXJuIHtcbiAgICBwcmludDogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGxpbmVzID0gZGF0YS50b1N0cmluZygpLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobCkgPT4gbC5sZW5ndGggPiAwKS5zbGljZSgtY3VyTWF4IC0gMSk7XG4gICAgICBsaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgIHdpbmRvdy5wcmludChsaW5lICsgXCJcXG5cIik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHN0b3A6IChtZXNzYWdlKSA9PiB7XG4gICAgICB3aW5kb3cuc3RvcChtZXNzYWdlID8/IHN1Y2Nlc3NNZXNzYWdlLCBvcHRpb25zLm5vQ2xlYXIpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BUYXNrKHdpbmRvdywgbWVzc2FnZSkge1xuICB3aW5kb3cuc3RvcChtZXNzYWdlKTtcbn1cblxuZXhwb3J0IHsgY2h1bmssIGxvZ2dlciwgc3RhcnRUYXNrLCBzdG9wVGFzaywgd2luZG93TG9nIH07XG4iXSwibmFtZXMiOlsiY2hhbGsiLCJvcmEiLCJzdGRlcnIiLCJjaHVuayIsImFycmF5Iiwic2l6ZSIsInJlc3VsdCIsImkiLCJsZW5ndGgiLCJwdXNoIiwic2xpY2UiLCJjb25zb2xlIiwiZ2xvYmFsVGhpcyIsImJsYWNrIiwidGV4dCIsInllbGxvdyIsIm9yYW5nZSIsInJlZCIsImdyZWVuIiwiYmx1ZSIsImdyYXkiLCJpc0Jyb3dzZXIiLCJwcmludENvbG9yIiwiYmciLCJ0ZXh0MiIsImFyZ3MiLCJkYXRhIiwibWFwIiwiYXJnIiwic3RyIiwidG9TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsImJnSGV4IiwiaGV4IiwibG9nIiwid2FybiIsIndhcm5UZXh0IiwiZGVidWciLCJkZWJ1Z1RleHQiLCJlcnJvciIsImVycm9yVGV4dCIsInN1Y2Nlc3MiLCJzdWNjZXNzVGV4dCIsImluZm8iLCJpbmZvVGV4dCIsInN1YkxvZyIsImFkZFByZWZpeFRvQXJncyIsInByZWZpeCIsImxvZ2dlciIsImFsbG93RGVidWciLCJwcm9jZXNzIiwiZW52IiwiRU5WIiwidHJhY2UiLCJsb2dnZXJFeHRyYSIsImdldE9yYSIsImNsZWFyTGFzdExpbmVzIiwiY291bnQiLCJtb3ZlQ3Vyc29yIiwiY2xlYXJMaW5lIiwid2luZG93TG9nIiwibWF4TGluZXMiLCJvcHRzIiwibGluZXMiLCJudW1iZXJPZkxpbmVzIiwiaGFzUHJpbnRlZFRvcFByZWZpeCIsInByZWZpeFZhbHVlIiwiaGFuZGxlTGluZSIsImxpbmUiLCJyb3dzIiwic3Rkb3V0IiwiTWF0aCIsIm1pbiIsInRvcFByZWZpeCIsInRvQ2xlYXIiLCJjb2x1bW5zIiwibGluZUxlbmd0aCIsImNlaWwiLCJyZW1vdmVkTGluZSIsInNoaWZ0IiwicmVtb3ZlZExpbmVMZW5ndGgiLCJwcmludGFibGUiLCJsIiwidmFsdWUiLCJub1ByaW50Iiwid3JpdGUiLCJmb3JFYWNoIiwicHJpbnQiLCJpbnRlcnZhbCIsInRvcEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzdG9wIiwic3VjY2Vzc01lc3NhZ2UiLCJub0NsZWFyIiwiY2xlYXJJbnRlcnZhbCIsInN0YXJ0VGFzayIsIm9wdGlvbnMiLCJuYW1lIiwib3JhMiIsInNwaW5uZXIiLCJpc1NpbGVudCIsImlzRW5hYmxlZCIsInN0YXJ0Iiwid2luZG93IiwiZnJhbWUiLCJjdXJNYXgiLCJzcGxpdCIsImZpbHRlciIsIm1lc3NhZ2UiLCJzdG9wVGFzayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/lib/dist/esm/index.mjs\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@trpc","vendor-chunks/zod","vendor-chunks/tailwind-merge","vendor-chunks/ora","vendor-chunks/chalk","vendor-chunks/cli-spinners","vendor-chunks/restore-cursor","vendor-chunks/dotenv","vendor-chunks/get-east-asian-width","vendor-chunks/@t3-oss","vendor-chunks/mimic-function","vendor-chunks/log-symbols","vendor-chunks/stdin-discarder","vendor-chunks/cli-cursor","vendor-chunks/is-unicode-supported","vendor-chunks/ansi-regex","vendor-chunks/clsx","vendor-chunks/is-interactive","vendor-chunks/nodemailer","vendor-chunks/js-beautify","vendor-chunks/crypto-js","vendor-chunks/ioredis","vendor-chunks/entities","vendor-chunks/html-to-text","vendor-chunks/bcryptjs","vendor-chunks/superjson","vendor-chunks/htmlparser2","vendor-chunks/domutils","vendor-chunks/@react-email","vendor-chunks/otpauth","vendor-chunks/@ioredis","vendor-chunks/debug","vendor-chunks/lodash.defaults","vendor-chunks/redis-parser","vendor-chunks/domhandler","vendor-chunks/selderee","vendor-chunks/denque","vendor-chunks/parseley","vendor-chunks/peberminta","vendor-chunks/is-what","vendor-chunks/dom-serializer","vendor-chunks/cluster-key-slot","vendor-chunks/lodash.isarguments","vendor-chunks/request-ip","vendor-chunks/deepmerge","vendor-chunks/@auth","vendor-chunks/redis-errors","vendor-chunks/ms","vendor-chunks/@panva","vendor-chunks/@selderee","vendor-chunks/supports-color","vendor-chunks/copy-anything","vendor-chunks/standard-as-callback","vendor-chunks/leac","vendor-chunks/domelementtype","vendor-chunks/base32-encode","vendor-chunks/to-data-view","vendor-chunks/has-flag","vendor-chunks/bip39","vendor-chunks/@noble"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftrpc%2F%5Btrpc%5D%2Froute.ts&appDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmac%2FDocuments%2FElan%2Fapps%2Fapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();